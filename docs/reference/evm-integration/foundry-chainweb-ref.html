<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/evm-integration/foundry-chainweb-ref" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Foundry Chainweb EVM | Kadena Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kda-chain.org/docs/img/kadena-opengraph.png"><meta data-rh="true" name="twitter:image" content="https://kda-chain.org/docs/img/kadena-opengraph.png"><meta data-rh="true" property="og:url" content="https://kda-chain.org/docs/reference/evm-integration/foundry-chainweb-ref"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Foundry Chainweb EVM | Kadena Docs"><meta data-rh="true" name="description" content="Technical reference information for the core components of the Chainweb.sol contract that provides the core features for testing and deploying Solidity projects on the Kadena Chainweb EVM multi-chain network."><meta data-rh="true" property="og:description" content="Technical reference information for the core components of the Chainweb.sol contract that provides the core features for testing and deploying Solidity projects on the Kadena Chainweb EVM multi-chain network."><link data-rh="true" rel="icon" href="/docs/img/kadena-favicon.png"><link data-rh="true" rel="canonical" href="https://kda-chain.org/docs/reference/evm-integration/foundry-chainweb-ref"><link data-rh="true" rel="alternate" href="https://kda-chain.org/docs/reference/evm-integration/foundry-chainweb-ref" hreflang="en"><link data-rh="true" rel="alternate" href="https://kda-chain.org/docs/reference/evm-integration/foundry-chainweb-ref" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://6UVWQF4IS8-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Kadena Docs" href="/docs/opensearch.xml"><link rel="stylesheet" href="/docs/assets/css/styles.01d78354.css">
<script src="/docs/assets/js/runtime~main.2ef1040c.js" defer="defer"></script>
<script src="/docs/assets/js/main.9cf849d4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/kadena-docs-light.png" alt="Kadena Documentation" class="themedComponent_mlkZ themedComponent--light_NVdE" height="32" width="196"><img src="/docs/img/kadena-docs-dark.png" alt="Kadena Documentation" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="32" width="196"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/quickstart">Get Started</a><a href="https://discord.com/invite/kadena" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kda-community/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-link-icon"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quickstart">Quick start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/smart-contract-dev">Smart contracts</a><button aria-label="Expand sidebar category &#x27;Smart contracts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides">How-to guides</a><button aria-label="Expand sidebar category &#x27;How-to guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/api">API</a><button aria-label="Expand sidebar category &#x27;API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/reference">Reference</a><button aria-label="Collapse sidebar category &#x27;Reference&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/syntax">Syntax and keywords</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pact-5/func-quick-ref">Function quick reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/capabilities">Capability functions</a><button aria-label="Expand sidebar category &#x27;Capability functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/database">Database functions</a><button aria-label="Expand sidebar category &#x27;Database functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/general">General functions</a><button aria-label="Expand sidebar category &#x27;General functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/guards">Guard functions</a><button aria-label="Expand sidebar category &#x27;Guard functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/keysets">Keyset functions</a><button aria-label="Expand sidebar category &#x27;Keyset functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/operators">Operator functions</a><button aria-label="Expand sidebar category &#x27;Operator functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/repl">REPL-only functions</a><button aria-label="Expand sidebar category &#x27;REPL-only functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/time/time-functions">Time functions</a><button aria-label="Expand sidebar category &#x27;Time functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pact-5/special-use">Specialized functions</a><button aria-label="Expand sidebar category &#x27;Specialized functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/kadena-client">Kadena TypeScript client</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/pact-cli">Pact command-line interpreter</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/reference/kadena-cli-ref">kadena-cli commands</a><button aria-label="Expand sidebar category &#x27;kadena-cli commands&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/chainweb-cli">chainweb-node command-line</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/bootstrap">Chainweb bootstrap nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/latency">Chainweb execution and latency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/guard-json">Guard JSON representation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/dex-integration">Exchange integration guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/evm-integration/foundry-chainweb-ref">Foundry Chainweb EVM</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/coding-projects/coding-projects">Coding projects</a><button aria-label="Expand sidebar category &#x27;Coding projects&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/resources">Resources</a><button aria-label="Expand sidebar category &#x27;Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/reference"><span itemprop="name">Reference</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Foundry Chainweb EVM</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Foundry Chainweb EVM</h1></header>
<p>The <code>Chainweb.sol</code> contract in the <code>foundry-chainweb</code> package provides the core features that enable you to test and deploy Solidity projects on the Kadena Chainweb EVM multi-chain network with minimal manual configuration.
The core components of <code>Chainweb.sol</code> manage chain identifier mapping, switching between chains, fork creation, and testing multiple forks within a single testing environment.
The features are provided through the following base contracts:</p>
<ul>
<li><code>Chainweb</code></li>
<li><code>ChainwebConfigReader</code></li>
<li><code>ChainwebTest</code></li>
<li><code>ChainwebScript</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chainweb">Chainweb<a href="#chainweb" class="hash-link" aria-label="Direct link to Chainweb" title="Direct link to Chainweb">​</a></h2>
<p>The main <code>Chainweb</code> constructor initializes the core configuration parameters for chain management.
The constructor parameters correspond with the configuration settings defined in the <code>chainweb.config.json</code> file:</p>
<ul>
<li><code>numberOfChains</code> (uint24): Number of chains to manage for a deployment target.</li>
<li><code>chainIdOffset</code> (uint256): Starting offset value for incrementing EVM base network chain identifiers on a deployment target.</li>
<li><code>chainwebChainIdOffset</code> (uint24): Starting offset value for Chainweb-specific chain identifiers on a deployment target.</li>
<li><code>hostUrl</code> (string): Custom RPC host URL (optional).</li>
</ul>
<p>These parameters are defined in the <code>ChainwebConfig</code> structure for each target deployment network specified in the <code>chainweb.config.json</code> file:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct ChainwebConfig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 numberOfChains;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 chainIdOffset;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 chainwebChainIdOffset;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string externalHostUrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-methods">Key methods<a href="#key-methods" class="hash-link" aria-label="Direct link to Key methods" title="Direct link to Key methods">​</a></h3>
<p><strong>getActiveChainId()</strong></p>
<ul>
<li>Uses a static call to the CHAIN_ID_PRECOMPILE address.</li>
<li>Returns the currently active chain identifier from the precompile.</li>
</ul>
<p><strong>getChainIds()</strong></p>
<ul>
<li>Returns an array of all configured chain identifiers.</li>
<li>Useful for iterating over available chains.</li>
</ul>
<p><strong>setupChainsForScript()</strong></p>
<ul>
<li>Initializes chain forks for script execution.</li>
<li>Creates RPC connections for each configured chain.</li>
<li>Uses a custom host URL, if provided, or generates local node URLs.</li>
</ul>
<p><strong>setupChainsForTest()</strong></p>
<ul>
<li>Initializes chain forks for testing.</li>
<li>Deploys the ChainwebChainId precompile contract on each chain.</li>
<li>Creates a single RPC connection and forks it for multiple chains.</li>
</ul>
<p><strong>switchChain(uint256 chainId)</strong></p>
<ul>
<li>Switches the active fork to the specified chain identifier.</li>
<li>Updates the VM&#x27;s chain context.</li>
<li>Validates the chain identifier against configured ranges.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploychainwebchainidcontract">deployChainWebChainIdContract<a href="#deploychainwebchainidcontract" class="hash-link" aria-label="Direct link to deployChainWebChainIdContract" title="Direct link to deployChainWebChainIdContract">​</a></h3>
<p>Use <code>deployChainWebChainIdContract</code> to deploy the Chainweb chain identifier precompile contract for a given chain.</p>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>chainId</code></td><td><code>uint256</code></td><td>Specifies the Chainweb chain identifier to deploy the precompile contract to.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getactivechainid">getActiveChainId<a href="#getactivechainid" class="hash-link" aria-label="Direct link to getActiveChainId" title="Direct link to getActiveChainId">​</a></h3>
<p>Use <code>getActiveChainId</code> to return the currently active <strong>Chainweb chain identifiers</strong> for the current network context.</p>
<table><thead><tr><th>Output</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>chainId</code></td><td><code>uint256[]</code></td><td>Returns the Chainweb chain identifier for the currently active chain.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getchainids">getChainIds<a href="#getchainids" class="hash-link" aria-label="Direct link to getChainIds" title="Direct link to getChainIds">​</a></h3>
<p>Use <code>getChainIds</code> to retrieve a list of the valid <strong>Chainweb chain identifiers</strong> for the current network context.</p>
<table><thead><tr><th>Output</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>chainIds</code></td><td><code>uint256[]</code></td><td>Returns an array containing all of the valid Chainweb chain identifiers.</td></tr></tbody></table>
<p>You should note that Chainweb chain identifiers 0 through 19 are reserved for chains that support Pact, so Kadena public networks use the <code>chainwebChainIdOffset</code> to set the starting point for Chainweb-specific chain identifiers.
For example, the Chainweb EVM testnet consists of five chains with the Chainweb chain identifiers 20, 21, 22, 23, and 24.
This starting point value is configured in the <code>chainweb.config.json</code> file for each project and for each deployment target.
In the sample <code>chainweb.config.json</code> file, the <code>anvil</code> deployment target is also configured to use 20 as the starting point for Chainweb EVM chain identifiers.
However, if you spin up internal <code>anvil</code> instances for testing, you&#x27;ll see Chainweb chain identifiers starting with 0.</p>
<p>The <code>chainIdOffset</code> in the <code>chainweb.config.json</code> file is the starting point for the <strong>Ethereum network chain identifier</strong>, similar to 1 for the Ethereum mainnet.</p>
<p>For Chainweb EVM testnet chains, the starting value for the Ethereum network chain identifier is 5920.
The network chain identifier for the Chainweb EVM testnet chain 20 is 5920.
Chainweb EVM testnet chain 21 has network chain identifier 5921, and so on.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setupchainsfortest">setupChainsForTest<a href="#setupchainsfortest" class="hash-link" aria-label="Direct link to setupChainsForTest" title="Direct link to setupChainsForTest">​</a></h3>
<p>Use <code>setupChainsForTest</code> to initialize chain forks and deploy precompile contracts on each chain for use when running Foundry tests.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setupchainsforscript">setupChainsForScript<a href="#setupchainsforscript" class="hash-link" aria-label="Direct link to setupChainsForScript" title="Direct link to setupChainsForScript">​</a></h3>
<p>Use <code>setupChainsForScript</code> to initialize chain forks and RPC nodes for use when running Foundry scripts.
This method also deploys precompile contracts if you are using the <code>anvil</code> deployment target.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="switchchain">switchChain<a href="#switchchain" class="hash-link" aria-label="Direct link to switchChain" title="Direct link to switchChain">​</a></h3>
<p>Use <code>switchChain</code> to switch from the current active chain to a specified chain identifier in the Chainweb EVM network.
This method enables you to loop through a set of Chainweb chain identifiers when executing tests or running scripts.
You can also use the method to explicitly set the active chain using its Chainweb-specific chain identifier.</p>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>chainId</code></td><td><code>uint256</code></td><td>Specifies the target Chainweb chain identifier to switch to.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="constants">Constants<a href="#constants" class="hash-link" aria-label="Direct link to Constants" title="Direct link to Constants">​</a></h3>
<p><strong>CHAIN_ID_PRECOMPILE</strong></p>
<ul>
<li>Precompile contract that provides chain identifier functionality.</li>
<li>Address: <code>0x9b02c3e2dF42533e0FD166798B5A616f59DBd2cc</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chainwebconfigreader">ChainwebConfigReader<a href="#chainwebconfigreader" class="hash-link" aria-label="Direct link to ChainwebConfigReader" title="Direct link to ChainwebConfigReader">​</a></h2>
<p>The <code>ChainwebConfigReader</code> contract reads the configuration settings from the <code>chainweb.config.json</code> file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-method">Key method<a href="#key-method" class="hash-link" aria-label="Direct link to Key method" title="Direct link to Key method">​</a></h3>
<p><strong>readChainwebConfig(string memory environment)</strong></p>
<ul>
<li>Reads configuration settings for the target network specified by the environment parameter.</li>
<li>Uses the <code>readOptionalJsonUint</code> function to parse JSON integer values from the configuration file and define default values to use if configuration keys are missing.</li>
<li>Uses the <code>readOptionalJsonString</code> function to parse JSON string values from the configuration file and define default values to use if configuration keys are missing.</li>
<li>Returns <code>ChainwebConfig</code> structure with parsed values.</li>
<li>Uses default values if configuration keys are missing.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-values">Default values<a href="#default-values" class="hash-link" aria-label="Direct link to Default values" title="Direct link to Default values">​</a></h3>
<ul>
<li><code>numberOfChains</code>: 1</li>
<li><code>chainIdOffset</code>: 31337</li>
<li><code>chainwebChainIdOffset</code>: 0</li>
<li><code>externalHostUrl</code>: &quot;&quot; (empty string)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chainwebtest">ChainwebTest<a href="#chainwebtest" class="hash-link" aria-label="Direct link to ChainwebTest" title="Direct link to ChainwebTest">​</a></h2>
<p>The <code>ChainwebTest</code> constructor enables simplified multi-chain testing with automatic initialization by extending the default Foundry <code>Test</code> contract, so that you can test cross-chain interactions within a single test environment.
The following constructor parameters define the testing environment:</p>
<ul>
<li><code>numberOfChains</code> (uint24): Number of chains to create for a target network.</li>
<li><code>chainwebChainIdOffset</code> (uint24): Starting offset for Chainweb-specific chain identifiers in the target network.</li>
</ul>
<p>The following example demonstrates using <code>ChainwebTest</code> and these parameters to specify a testing environment with three chains and an offset of zero for the Chainweb chain identifier:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract CrossChainTest is ChainwebTest(3, 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function testCrossChainTransfer() public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Test on chain 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chainweb.switchChain(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Deploy and interact with contracts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Test on chain 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chainweb.switchChain(1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Verify state changes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Test on chain 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chainweb.switchChain(2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Verify state changes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chainwebscript">ChainwebScript<a href="#chainwebscript" class="hash-link" aria-label="Direct link to ChainwebScript" title="Direct link to ChainwebScript">​</a></h2>
<p>The <code>ChainwebScript</code> constructor extends the default Foundry Script contract to automatically handle environment-based configuration settings.
When you import this contract in a script, the script reads the <code>CHAINWEB</code> environment variable to determine which set of configuration settings to load from the <code>chainweb.config.json</code> file.
If you don&#x27;t specify a target environment, the script uses the default <code>anvil</code> settings.
The constructor then creates and configures the Chainweb instance based on these settings.</p>
<ul>
<li>Reads the value of the <code>CHAINWEB</code> environment variable to determine the target network.</li>
<li>Loads the configuration settings that correspond to the <code>CHAINWEB</code> environment variable from <code>chainweb.config.json</code> file.</li>
<li>Defaults to <code>anvil</code> settings if you don&#x27;t specify the <code>CHAINWEB</code> environment variable.</li>
</ul>
<p>For example, the following <code>chainweb.config.json</code> defines the configuration settings for the <code>anvil</code> and <code>testnet</code> target networks:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;anvil&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;numberOfChains&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;chainIdOffset&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31337</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;chainwebChainIdOffset&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;externalHostUrl&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;testnet&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;numberOfChains&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;chainIdOffset&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;chainwebChainIdOffset&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;externalHostUrl&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://testnet.example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can then use the <code>CHAINWEB</code> environment variable to load the configuration settings for the <code>testnet</code> environment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CHAINWEB=testnet forge script --multi script/Counter.s.sol:CounterScript \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --private-key &lt;your_private_key&gt; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --broadcast --legacy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following example demonstrates using <code>ChainwebScript</code> in a deployment script:</p>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract DeployScript is ChainwebScript {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function run() public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256[] memory chains = chainweb.getChainIds();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (uint256 i = 0; i &lt; chains.length; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            chainweb.switchChain(chains[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Deploy contracts on each chain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-rpc-configuration">Custom RPC configuration<a href="#custom-rpc-configuration" class="hash-link" aria-label="Direct link to Custom RPC configuration" title="Direct link to Custom RPC configuration">​</a></h2>
<p>If you use a custom host for the RPC URL, you should note that RPC endpoints are expected to conform to the following format:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{hostUrl}/chain/{chainwebChainId}/evm/rpc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="local-and-global-nonce-behavior">Local and global nonce behavior<a href="#local-and-global-nonce-behavior" class="hash-link" aria-label="Direct link to Local and global nonce behavior" title="Direct link to Local and global nonce behavior">​</a></h2>
<p>When you execute tests or scripts using the default <code>msg.sender</code> account, the transaction nonce is always a global nonce.
If you use a specific broadcast account by including the <code>--sender</code> or <code>--private-key</code> command-line options, the transaction nonce is always a local nonce that&#x27;s specifically for that account and is maintained per fork for that sender.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/evm">evm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/foundry">foundry</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/solidity">Solidity</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/chainweb">chainweb</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/network">network</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/node-operator">node operator</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/kda-community/kadena-docs-new/blob/master/docs/reference/evm-integration/chainweb-sol.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/dex-integration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Exchange integration guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/coding-projects/coding-projects"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Coding projects</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chainweb" class="table-of-contents__link toc-highlight">Chainweb</a></li><li><a href="#chainwebconfigreader" class="table-of-contents__link toc-highlight">ChainwebConfigReader</a></li><li><a href="#chainwebtest" class="table-of-contents__link toc-highlight">ChainwebTest</a></li><li><a href="#chainwebscript" class="table-of-contents__link toc-highlight">ChainwebScript</a></li><li><a href="#custom-rpc-configuration" class="table-of-contents__link toc-highlight">Custom RPC configuration</a></li><li><a href="#local-and-global-nonce-behavior" class="table-of-contents__link toc-highlight">Local and global nonce behavior</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 - Kadena LLC (<a href="https://www.kadena.io/privacy-policy" target="_blank">Privacy</a>)</div></div></div></footer><div class="footer-consent-link"><button>Analytics Consent</button></div></div>
</body>
</html>