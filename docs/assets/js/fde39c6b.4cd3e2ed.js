"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[2037],{23970:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"api/service-api/get-block-hash-branch","title":"Get branch block hashes","description":"Provides reference information for the chainweb-node block hash endpoints.","source":"@site/docs/api/service-api/get-block-hash-branch.md","sourceDirName":"api/service-api","slug":"/api/service-api/get-block-hash-branch","permalink":"/docs/api/service-api/get-block-hash-branch","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/api/service-api/get-block-hash-branch.md","tags":[{"inline":true,"label":"chainweb","permalink":"/docs/tags/chainweb"},{"inline":true,"label":"node api","permalink":"/docs/tags/node-api"},{"inline":true,"label":"chainweb api","permalink":"/docs/tags/chainweb-api"},{"inline":true,"label":"api reference","permalink":"/docs/tags/api-reference"},{"inline":true,"label":"block hash","permalink":"/docs/tags/block-hash"}],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Get branch block hashes","description":"Provides reference information for the chainweb-node block hash endpoints.","id":"get-block-hash-branch","sidebar_position":2,"tags":["chainweb","node api","chainweb api","api reference","block hash"]},"sidebar":"default","previous":{"title":"Get block hashes","permalink":"/docs/api/service-api/get-block-hash"},"next":{"title":"Get block headers","permalink":"/docs/api/service-api/get-block-header"}}');var t=n(74848),h=n(28453);const i={title:"Get branch block hashes",description:"Provides reference information for the chainweb-node block hash endpoints.",id:"get-block-hash-branch",sidebar_position:2,tags:["chainweb","node api","chainweb api","api reference","block hash"]},c="Get branch block hashes",a={},d=[{value:"Request format",id:"request-format",level:2},{value:"Path parameters",id:"path-parameters",level:3},{value:"Query parameters",id:"query-parameters",level:3},{value:"Request body schema",id:"request-body-schema",level:3},{value:"Responses",id:"responses",level:2},{value:"Response headers",id:"response-headers",level:3},{value:"Successful response schema",id:"successful-response-schema",level:3},{value:"Not found response schema",id:"not-found-response-schema",level:3},{value:"Examples",id:"examples",level:2}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,h.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"get-branch-block-hashes",children:"Get branch block hashes"})}),"\n",(0,t.jsxs)(s.p,{children:["Block hash endpoints return block hashes from the specified chain database.\nGenerally, block hashes are returned in ",(0,t.jsx)(s.strong,{children:"ascending"})," order and include hashes from orphaned blocks."]}),"\n",(0,t.jsxs)(s.p,{children:["If you only want to query for blocks that are included in the canonical version of the chain, you can use this ",(0,t.jsx)(s.code,{children:"/hash/branch"})," endpoint.\nThe ",(0,t.jsx)(s.code,{children:"/hash/branch"})," endpoint returns blocks in descending order starting from the leafs of branches of the block chain."]}),"\n",(0,t.jsxs)(s.p,{children:["Note that this endpoint uses the ",(0,t.jsx)(s.code,{children:"POST"})," method so you can specify lower and upper bounds for retrieving blocks in the request body."]}),"\n",(0,t.jsx)(s.h2,{id:"request-format",children:"Request format"}),"\n",(0,t.jsxs)(s.p,{children:["Use ",(0,t.jsx)(s.code,{children:"POST http://{baseURL}/chain/{chain}/hash/branch"})," to get block hashes from the branches of the block chain in descending order.\nThis call only returns blocks that are ancestors of the same block in the set of upper bounds and that are not ancestors of any block in the set of lower bounds."]}),"\n",(0,t.jsx)(s.h3,{id:"path-parameters",children:"Path parameters"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"chain\xa0(required)"}),(0,t.jsx)(s.td,{children:"integer\xa0>=\xa00"}),(0,t.jsxs)(s.td,{children:["Specifies the chain identifier of the chain you want to send the request to. Valid values are 0 to 19. For example, to get block hashes for the first chain (0), the request is ",(0,t.jsx)(s.code,{children:"POST http://{baseURL}/chain/0/hash/branch"}),"."]})]})})]}),"\n",(0,t.jsx)(s.h3,{id:"query-parameters",children:"Query parameters"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"limit"}),(0,t.jsx)(s.td,{children:"integer\xa0>=\xa00"}),(0,t.jsxs)(s.td,{children:["Specifies the maximum number of records that should be returned. The actual number of records returned might be lower than the limit you set. For example: ",(0,t.jsx)(s.code,{children:"limit=3"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"next"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsxs)(s.td,{children:["Specifies the cursor value to retrieve the next page of results. You can find the value to specify in the ",(0,t.jsx)(s.code,{children:"next"})," property returned by the previous page in a successful response. For example: ",(0,t.jsx)(s.code,{children:'"inclusive:qgsxD1G5m8dGZ4W9nMKBotU2I10ilURkRIE3_UKHlLM"'}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"minheight"}),(0,t.jsx)(s.td,{children:"integer\xa0>=\xa00"}),(0,t.jsxs)(s.td,{children:["Specifies the minimum block height for the returned hashes. For example: ",(0,t.jsx)(s.code,{children:"minheight=4471908"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"maxheight"}),(0,t.jsx)(s.td,{children:"integer\xa0>=\xa00"}),(0,t.jsxs)(s.td,{children:["Specifies the maximum block height for the returned hashes. For example: ",(0,t.jsx)(s.code,{children:"maxheight=4953816"}),"."]})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"request-body-schema",children:"Request body schema"}),"\n",(0,t.jsx)(s.p,{children:"Use the following parameters to specify the upper and lower bounds for the queried branches."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"lower"}),(0,t.jsx)(s.td,{children:"Array\xa0of\xa0strings"}),(0,t.jsxs)(s.td,{children:["Specifies the lower bound for the query. No block hashes are returned that are predecessors of any block with a hash from this array. Each block hash consists of 43 characters from the ",(0,t.jsx)(s.code,{children:"a-zA-Z0-9_-"})," character set."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"upper"}),(0,t.jsx)(s.td,{children:"Array of strings"}),(0,t.jsxs)(s.td,{children:["Specifies the upper bound for the query. All returned block hashes are predecessors of a block with an hash from this array. Each block hash consists of 43 characters from the ",(0,t.jsx)(s.code,{children:"a-zA-Z0-9_-"})," character set."]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"The following examples illustrate setting lower and upper bounds for the query parameters."}),"\n",(0,t.jsxs)(s.p,{children:["To return all of the ancestors of the ",(0,t.jsx)(s.code,{children:'"w5pM1MLEpJcBdMS5KT3tcxEj86hCO4Qv-q-xMysGmOw"'})," block:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "upper": ["w5pM1MLEpJcBdMS5KT3tcxEj86hCO4Qv-q-xMysGmOw"]\n}\n'})}),"\n",(0,t.jsxs)(s.p,{children:["To return all of the ancestors of the ",(0,t.jsx)(s.code,{children:'"QxGCAz5AY1Y41nh1yWtgqhKhZ9pPiPRagFdIKNqBH74"'})," block that are not ancestors of the ",(0,t.jsx)(s.code,{children:'"RClyuyZAacwvPpmLXKbTwrIRXWeUSjiNhJVP2esH8KM"'})," block, you might specify bounds similar to the following:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "lower": [\n    "RClyuyZAacwvPpmLXKbTwrIRXWeUSjiNhJVP2esH8KM"\n    ],\n  "upper": [\n    "QxGCAz5AY1Y41nh1yWtgqhKhZ9pPiPRagFdIKNqBH74"\n    ]\n}\n'})}),"\n",(0,t.jsx)(s.h2,{id:"responses",children:"Responses"}),"\n",(0,t.jsxs)(s.p,{children:["Requests to ",(0,t.jsx)(s.code,{children:"POST http://{baseURL}/chain/{chain}/hash/branch"})," return the following response codes:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"200 OK"})," indicates that the request succeeded and returns the requested block hashes.\nAll block hashes that match the specified criteria are returned from the chain database, including hashes for orphaned blocks."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"404 Not Found"})," indicates that the requested block hashes could not be found."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"response-headers",children:"Response headers"}),"\n",(0,t.jsx)(s.p,{children:"The response header parameters are the same for all successful and unsuccessful Chainweb node requests."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"x-peer-addr"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsxs)(s.td,{children:["Specifies the host address and port number of the client as observed by the remote Chainweb node. The host address can be a domain name or an IP address in IPv4 or IPv6 format. For example: ",(0,t.jsx)(s.code,{children:'"10.36.1.3:42988"'}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"x-server\u2011timestamp"}),(0,t.jsx)(s.td,{children:"integer\xa0>=\xa00"}),(0,t.jsxs)(s.td,{children:["Specifies the clock time of the remote Chainweb node using the UNIX epoch timestamp. For example: ",(0,t.jsx)(s.code,{children:"1618597601"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"x\u2011chainweb\u2011node\u2011version"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsxs)(s.td,{children:["Specifies the version of the remote Chainweb node. For example: ",(0,t.jsx)(s.code,{children:'"2.23"'}),"."]})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"successful-response-schema",children:"Successful response schema"}),"\n",(0,t.jsxs)(s.p,{children:["If the request is successful, the response returns ",(0,t.jsx)(s.code,{children:"application/json"})," content with the following:"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"items\xa0(required)"}),(0,t.jsx)(s.td,{children:"Array\xa0of\xa0strings"}),(0,t.jsxs)(s.td,{children:["Returns an array of block hashes. Each block hash consists of 43 characters from the [",(0,t.jsx)(s.code,{children:"a-zA-Z0-9_-"}),"] character set."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"limit\xa0(required)"}),(0,t.jsx)(s.td,{children:"integer\xa0>=\xa00"}),(0,t.jsx)(s.td,{children:"Specifies the maximum number of items in the page. This number can be smaller but never larger than the number of requested items."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"next\xa0(required)"}),(0,t.jsx)(s.td,{children:"string\xa0or\xa0null"}),(0,t.jsxs)(s.td,{children:["Returns a value that can be used to query the next page. You can use this values for the ",(0,t.jsx)(s.code,{children:"next"})," parameter in a follow-up request. The format for this parameter consists of two parts. The first part of the string can be ",(0,t.jsx)(s.code,{children:"inclusive"}),", ",(0,t.jsx)(s.code,{children:"exclusive"})," or null. The second part is the value that calls the next page of results or null if there are no more results to query."]})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"not-found-response-schema",children:"Not found response schema"}),"\n",(0,t.jsx)(s.p,{children:"If there are no results matching the request criteria, the response returns the following:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"key"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsxs)(s.td,{children:["Specifies the base64Url-encoded block hash without padding. The block hash consists of 43 characters from the [",(0,t.jsx)(s.code,{children:"a-zA-Z0-9_-"}),"] character set."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"reason"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Provides a placeholder for specifying the reason that no block hashes were found."})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(s.p,{children:"You can send a request to the Kadena main network\u2014mainnet01\u2014and chain 0 by calling the main network service endpoint:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-Postman",children:"POST http://api.chainweb.com/chainweb/0.0/mainnet01/chain/0/hash/branch\n"})}),"\n",(0,t.jsx)(s.p,{children:"The request body for this query is:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "lower" : ["RClyuyZAacwvPpmLXKbTwrIRXWeUSjiNhJVP2esH8KM"],\n    "upper" : ["QxGCAz5AY1Y41nh1yWtgqhKhZ9pPiPRagFdIKNqBH74"]\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"This request returns one item in the response body:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "limit": 1,\n    "items": [\n        "QxGCAz5AY1Y41nh1yWtgqhKhZ9pPiPRagFdIKNqBH74"\n    ],\n    "next": null\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"You can send a request to the Kadena test network\u2014testnet04\u2014and chain 18 by calling the testnet service endpoint like this:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-Postman",children:"POST http://api.testnet.chainweb.com/chainweb/0.0/testnet04/chain/18/hash/branch\n"})}),"\n",(0,t.jsx)(s.p,{children:"The request body for this query is:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "lower": ["egzXuuj9EWIadpIQipb59N1DFPgDE6Gdlo2LmReGAfI"],\n    "upper": ["w5pM1MLEpJcBdMS5KT3tcxEj86hCO4Qv-q-xMysGmOw"]\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"This request returns four items in the response body:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "limit": 4,\n    "items": [\n        "w5pM1MLEpJcBdMS5KT3tcxEj86hCO4Qv-q-xMysGmOw",\n        "LfjtkAgRa6jt6al0VACE4Gylu8McHf34233qZjqETuo",\n        "DRKyE0T_42ajfqC7kmBEn07pTMZbshFBWGzWT27cqwg",\n        "5o4nH_H_mcDnfmXDnp9XqRU5qWcpaKGdfECMZB0CQ8s"\n    ],\n    "next": null\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"If you specify an upper or lower bound doesn't exist on the chain where you're sending the request, the response body indicates the reason no results matching the request criteria were found.\nFor example:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "key": "w5pM1MLEpJcBdMS5KT3tcxEj86hCO4Qv-q-xMysGmOw",\n    "reason": "key not found"\n}\n'})})]})}function l(e={}){const{wrapper:s}={...(0,h.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var r=n(96540);const t={},h=r.createContext(t);function i(e){const s=r.useContext(h);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(h.Provider,{value:s},e.children)}}}]);