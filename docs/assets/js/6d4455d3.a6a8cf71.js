"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[6452],{95244:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>o});const c=JSON.parse('{"id":"reference/marmalade/guard-policy","title":"Guard policy","description":"Describes the schemas, tables, capabilities, and functions defined in the guard policy.","source":"@site/docs/reference/marmalade/guard-policy.md","sourceDirName":"reference/marmalade","slug":"/reference/marmalade/guard-policy","permalink":"/docs/reference/marmalade/guard-policy","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/reference/marmalade/guard-policy.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Guard policy","description":"Describes the schemas, tables, capabilities, and functions defined in the guard policy.","id":"guard-policy","sidebar_position":4}}');var r=i(74848),s=i(28453);const d={title:"Guard policy",description:"Describes the schemas, tables, capabilities, and functions defined in the guard policy.",id:"guard-policy",sidebar_position:4},a="Guard policy",t={},o=[{value:"Schema and table",id:"schema-and-table",level:2},{value:"Capabilities",id:"capabilities",level:2},{value:"Functions",id:"functions",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"guard-policy",children:"Guard policy"})}),"\n",(0,r.jsx)(n.p,{children:"The guard policy ensures that all token-related actions\u2014minting,\nburning, transferring, buying, and selling\u2014can only be performed by\nauthorized parties.\nIf you apply the guard policy when you create a token, you can specify who is authorized to perform each type of token activity."}),"\n",(0,r.jsx)(n.p,{children:"This part of the documentation describes the schemas, tables, capabilities, and functions defined in the Marmalade guard policy contract."}),"\n",(0,r.jsxs)(n.p,{children:["Source code: ",(0,r.jsx)(n.a,{href:"https://github.com/kadena-io/marmalade/blob/main/pact/concrete-policies/guard-policy/guard-policy-v1.pact",children:"guard-policy.pact"})]}),"\n",(0,r.jsx)(n.h2,{id:"schema-and-table",children:"Schema and table"}),"\n",(0,r.jsxs)(n.p,{children:["The guard policy smart contract defines one schema and one table.\nThe ",(0,r.jsx)(n.code,{children:"guards"})," schema describes guard values for ",(0,r.jsx)(n.code,{children:"mint"}),", ",(0,r.jsx)(n.code,{children:"burn"}),", ",(0,r.jsx)(n.code,{children:"sale"}),", and ",(0,r.jsx)(n.code,{children:"transfer"})," operations.\nThe ",(0,r.jsx)(n.code,{children:"policy-guards"})," table maps token identifiers to their guard values."]}),"\n",(0,r.jsx)(n.h2,{id:"capabilities",children:"Capabilities"}),"\n",(0,r.jsx)(n.p,{children:"The guard policy smart contract defines the following capabilities to manage permissions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GOVERNANCE"}),": Governs contract upgrade access."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GUARDS"})," @event: Emits guard info during ",(0,r.jsx)(n.code,{children:"enforce-init"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MINT"}),": Applies the ",(0,r.jsx)(n.code,{children:"mint-guard"})," in ",(0,r.jsx)(n.code,{children:"enforce-mint"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BURN"}),": Applies the ",(0,r.jsx)(n.code,{children:"burn-guard"})," in ",(0,r.jsx)(n.code,{children:"enforce-burn"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SALE"}),": Uses the ",(0,r.jsx)(n.code,{children:"sale-guard"})," during ",(0,r.jsx)(n.code,{children:"enforce-offer"}),", ",(0,r.jsx)(n.code,{children:"enforce-withdraw"}),", and\n",(0,r.jsx)(n.code,{children:"enforce-buy"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"TRANSFER"}),": Uses the ",(0,r.jsx)(n.code,{children:"sale-guard"})," in ",(0,r.jsx)(n.code,{children:"enforce-transfer"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,r.jsx)(n.p,{children:"The guard policy smart contract defines the following functions to enforce restrictions of different token activities:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enforce-init"}),": Initializes the ",(0,r.jsx)(n.code,{children:"policy-guards"})," table with token ID and guard\nvalues."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enforce-mint"}),": Validates minting processes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enforce-burn"}),": Validates burning processes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enforce-offer"}),": Confirms sale offers with guards and verifies the sale-id."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enforce-withdraw"}),": Checks sale withdrawals and the sale-id."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enforce-buy"}),": Validates buying processes and the sale-id."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enforce-transfer"}),": Validates transfers, checking sender, receiver, and\namount."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>a});var c=i(96540);const r={},s=c.createContext(r);function d(e){const n=c.useContext(s);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),c.createElement(s.Provider,{value:n},e.children)}}}]);