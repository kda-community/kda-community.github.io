"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[4502],{77693:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"reference/marmalade/ledger","title":"Ledger contract","description":"Functions and capabilities defined in the Marmalade Ledger contract enable you to manage the token lifecycle and keep track of all token-related activity.","source":"@site/docs/reference/marmalade/ledger.md","sourceDirName":"reference/marmalade","slug":"/reference/marmalade/ledger","permalink":"/docs/reference/marmalade/ledger","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/reference/marmalade/ledger.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Ledger contract","description":"Functions and capabilities defined in the Marmalade Ledger contract enable you to manage the token lifecycle and keep track of all token-related activity.","id":"ledger","sidebar_position":1}}');var r=i(74848),d=i(28453);const c={title:"Ledger contract",description:"Functions and capabilities defined in the Marmalade Ledger contract enable you to manage the token lifecycle and keep track of all token-related activity.",id:"ledger",sidebar_position:1},s="Ledger contract",l={},a=[{value:"create-token-id",id:"create-token-id",level:2},{value:"Arguments",id:"arguments",level:3},{value:"Example",id:"example",level:3},{value:"create-token",id:"create-token",level:2},{value:"Arguments",id:"arguments-1",level:3},{value:"Capabilities",id:"capabilities",level:3},{value:"Environment data",id:"environment-data",level:3},{value:"mint",id:"mint",level:2},{value:"Arguments",id:"arguments-2",level:3},{value:"Capabilities",id:"capabilities-1",level:3},{value:"burn",id:"burn",level:2},{value:"Arguments",id:"arguments-3",level:3},{value:"Capabilities",id:"capabilities-2",level:3},{value:"transfer",id:"transfer",level:2},{value:"Arguments",id:"arguments-4",level:3},{value:"Capabilities",id:"capabilities-3",level:3},{value:"transfer-create",id:"transfer-create",level:2},{value:"Arguments",id:"arguments-5",level:3},{value:"Capabilities",id:"capabilities-4",level:3},{value:"sale",id:"sale",level:2},{value:"Arguments",id:"arguments-6",level:3},{value:"offer",id:"offer",level:3},{value:"Capabilities",id:"capabilities-5",level:4},{value:"Environment data",id:"environment-data-1",level:3},{value:"withdraw (cont)",id:"withdraw-cont",level:3},{value:"Capabilities",id:"capabilities-6",level:4},{value:"buy (cont)",id:"buy-cont",level:3},{value:"Capabilities",id:"capabilities-7",level:4},{value:"Environment data",id:"environment-data-2",level:3},{value:"update-uri",id:"update-uri",level:2},{value:"Arguments",id:"arguments-7",level:3},{value:"Capabilities",id:"capabilities-8",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ledger-contract",children:"Ledger contract"})}),"\n",(0,r.jsxs)(n.p,{children:["The Marmalade token standard provides interfaces that enable you to define, mint, and secure tokens.\nAs discussed in ",(0,r.jsx)(n.a,{href:"/reference/marmalade/token-standard-architecture",children:"Token standard architecture"}),", the Marmalade ledger contract provides the core functionality to create, manage, and transfer tokens minted using the Marmalade token standard.\nThe ledger contract records and manages all token-related activity to ensure every transaction is accurate, every policy is enforced, and every account is up-to-date."]}),"\n",(0,r.jsxs)(n.p,{children:["This part of the documentation describes the functions and capabilities defined in the Marmalade ledger contract in the ",(0,r.jsx)(n.code,{children:"marmalade-v2"})," namespace.\nThe  ",(0,r.jsx)(n.code,{children:"marmalade-v2"})," namespace is available on all twenty chains (0-19) in the Kadena test network and the Kadena main network."]}),"\n",(0,r.jsxs)(n.p,{children:["Source code: ",(0,r.jsx)(n.a,{href:"https://github.com/kadena-io/marmalade/blob/main/pact/ledger/ledger.pact",children:"ledger.pact"})]}),"\n",(0,r.jsx)(n.h2,{id:"create-token-id",children:"create-token-id"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"create-token-id"})," to generate a unique token identifier with the specified token identifier."]}),"\n",(0,r.jsx)(n.h3,{id:"arguments",children:"Arguments"}),"\n",(0,r.jsx)(n.p,{children:"Use the following arguments to create the token identifier."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"details"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Defines token properties using the metadata schema in JSON file format."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"creation-guard"}),"\xa0"]}),(0,r.jsx)(n.td,{children:"guard"}),(0,r.jsx)(n.td,{children:"Specifies the temporary guard\u2014for example, a keyset\u2014used to generate the token identifier. This guard isn't stored and ensure that only the  owner of the creation key can create a specific token identifier."})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Before creating a token, you must choose a temporary guard.\nThe guard can be"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A keyset you've already defined or used in the guard-policy."}),"\n",(0,r.jsx)(n.li,{children:"A single-use keyset that won't be used again."}),"\n",(0,r.jsx)(n.li,{children:"Another type guard."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This guard becomes part of the hashed data in the ",(0,r.jsx)(n.code,{children:"token-id"})," string prefixed with ",(0,r.jsx)(n.code,{children:"t:"}),".\nIncluding the guard in the hashed token identifier protects anyone else from creating the token.\nWith this mechanism, only you\u2014as the owner of the creation key\u2014can create the token specified by the ",(0,r.jsx)(n.code,{children:"token-id"})," string."]}),"\n",(0,r.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,r.jsxs)(n.p,{children:["Generate a unique ",(0,r.jsx)(n.code,{children:"token-id"})," by calling the following function:"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"(ledger.create-token-id details creation-guard)"})}),"\n",(0,r.jsx)(n.h2,{id:"create-token",children:"create-token"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"create-token"})," to create a token with the specified token identifier.\nYou can apply one or more policies to a token when you create it.\nDepending on the policies you apply, you might need to grant additional capabilities or pass environment data to execute the function."]}),"\n",(0,r.jsx)(n.h3,{id:"arguments-1",children:"Arguments"}),"\n",(0,r.jsx)(n.p,{children:"Use the following arguments to create a token."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Specifies the unique token identifier generated using the ",(0,r.jsx)(n.code,{children:"create-token-id"})," function and formatted as ",(0,r.jsx)(n.code,{children:"t:{token-detail-hash}"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"precision"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsxs)(n.td,{children:["Specifies the number of decimals allowed for the token supply amount. For non-fungible tokens, the precision must be 0, and should be enforced in the policy's ",(0,r.jsx)(n.code,{children:"enforce-init"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uri"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Specifies the uniform resource identifier (uri) to an external JSON file containing token metadata."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"policies"})}),(0,r.jsx)(n.td,{children:"list"}),(0,r.jsx)(n.td,{children:"Specifies one or more policy contracts with custom functions to execute at marmalade functions."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"creation-guard"})}),(0,r.jsx)(n.td,{children:"guard"}),(0,r.jsx)(n.td,{children:"Specifies the temporary guard\u2014for example, a keyset\u2014used to generate the token identifier. This guard isn't stored and ensure that only the  owner of the creation key can create a specific token identifier."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["When you submit the ",(0,r.jsx)(n.code,{children:"create-token"})," transaction, the ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-init"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-init"})," function in the stored token policies and the function is executed."]}),"\n",(0,r.jsx)(n.p,{children:"To create a token with this function:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Generate a unique ",(0,r.jsx)(n.code,{children:"token-id"})," by calling ",(0,r.jsx)(n.code,{children:"(ledger.create-token-id details creation-guard)"})]}),"\n",(0,r.jsxs)(n.li,{children:["Create the token by calling ",(0,r.jsx)(n.code,{children:"(ledger.create-token ... creation-guard)"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"capabilities",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"create-token"})," transaction must include the ",(0,r.jsx)(n.code,{children:"CREATE-TOKEN"})," capability signed with the keyset ",(0,r.jsx)(n.code,{children:"creation-guard"})," that you used to generate the token identifier.\nThe ",(0,r.jsx)(n.code,{children:"create-token"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.collection-policy-v1.TOKEN-COLLECTION"})," capability if you apply the collection-policy to create token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"create-token"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["marmalade-v2.ledger.CREATE-TOKEN","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"id"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["marmalade-v2.collection-policy-v1.TOKEN-COLLECTION","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"collection-id"}),"\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"environment-data",children:"Environment data"}),"\n",(0,r.jsx)(n.p,{children:"If you apply the guard-policy to create a token, you can add the following information as raw data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"mint_guard [guard] (optional)"}),"\n",(0,r.jsx)(n.li,{children:"burn_guard [guard] (optional)"}),"\n",(0,r.jsx)(n.li,{children:"sale_guard [guard] (optional)"}),"\n",(0,r.jsx)(n.li,{children:"transfer_guard [guard] (optional)"}),"\n",(0,r.jsx)(n.li,{children:"uri_guard [guard] (optional)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If you apply the collection-policy to create a token, you can add the following information as raw data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"collection_id [string]"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If you apply the royalty-policy to create a token, you can add the following information as raw data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"royalty_spec [object]"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The royalty_spec object includes the following properties:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"fungible [string]"}),"\n",(0,r.jsx)(n.li,{children:"creator [string]"}),"\n",(0,r.jsx)(n.li,{children:"creator-guard [guard]"}),"\n",(0,r.jsx)(n.li,{children:"royalty-rate [decimal]"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"mint",children:"mint"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"mint"})," to mint the specified token amount to the specified account."]}),"\n",(0,r.jsx)(n.h3,{id:"arguments-2",children:"Arguments"}),"\n",(0,r.jsx)(n.p,{children:"Use the following arguments to mint a token."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Specifies the unique token identifier generated using ",(0,r.jsx)(n.code,{children:"create-token-id"})," function and formatted as ",(0,r.jsx)(n.code,{children:"t:{token-detail-hash}"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"account"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Specifies the account that will receive the minted token."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"guard"})}),(0,r.jsx)(n.td,{children:"guard"}),(0,r.jsx)(n.td,{children:"Specifies the guard for the minted token account."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"amount"})}),(0,r.jsx)(n.td,{children:"decimal"}),(0,r.jsx)(n.td,{children:"Specifies the number of tokens to be minted."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["When you submit the ",(0,r.jsx)(n.code,{children:"mint"})," transaction, the ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-mint"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-mint"})," function in the stored token policies and the function is executed."]}),"\n",(0,r.jsx)(n.h3,{id:"capabilities-1",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"mint"})," transaction must include the ",(0,r.jsx)(n.code,{children:"MINT"})," capability signed with the ",(0,r.jsx)(n.code,{children:"account"})," that receives the token.\nThe ",(0,r.jsx)(n.code,{children:"mint"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.guard-policy-v1.MINT"})," capability if you apply the guard-policy and define a mint guard for the token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"mint"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.ledger.MINT"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"id"}),"\n",(0,r.jsx)(n.li,{children:"account (receiver of the token)"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.guard-policy-v1.MINT"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"account (receiver of the token)"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"burn",children:"burn"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"burn"})," to destroy the specified token amount from the specified token owner account."]}),"\n",(0,r.jsx)(n.h3,{id:"arguments-3",children:"Arguments"}),"\n",(0,r.jsx)(n.p,{children:"Use the following arguments to burn a token."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Specifies the unique token identifier generated using ",(0,r.jsx)(n.code,{children:"create-token-id"})," function and formatted as ",(0,r.jsx)(n.code,{children:"t:{token-detail-hash}"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"account"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Specifies the token owner account for the token amount to be burned."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"amount"})}),(0,r.jsx)(n.td,{children:"decimal"}),(0,r.jsx)(n.td,{children:"Specifies the number of tokens to be burned."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["When you submit the ",(0,r.jsx)(n.code,{children:"burn"})," transaction, the ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-burn"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-burn"})," function in the stored token policies and the function is executed."]}),"\n",(0,r.jsx)(n.h3,{id:"capabilities-2",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"burn"})," transaction must include the ",(0,r.jsx)(n.code,{children:"BURN"})," capability signed with the ",(0,r.jsx)(n.code,{children:"account"})," that owns the token.\nThe ",(0,r.jsx)(n.code,{children:"burn"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.guard-policy-v1.BURN"})," capability if you apply the guard-policy and define a burn guard for the token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"burn"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["marmalade-v2.ledger.BURN","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"id"}),"\n",(0,r.jsx)(n.li,{children:"account (owner of the token)"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["marmalade-v2.guard-policy-v1.BURN","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"account (owner of the token)"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"transfer",children:"transfer"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"transfer"})," to transfer the specified token amount from the specified sender to the specified receiver."]}),"\n",(0,r.jsx)(n.h3,{id:"arguments-4",children:"Arguments"}),"\n",(0,r.jsx)(n.p,{children:"Use the following arguments to transfer a token."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Specifies the unique token identifier generated using ",(0,r.jsx)(n.code,{children:"create-token-id"})," function and formatted as ",(0,r.jsx)(n.code,{children:"t:{token-detail-hash}"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sender"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Specifies the sender account that the token will be transferred from."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"receiver"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Specifies the receiver account that the token will be transferred to."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"amount"})}),(0,r.jsx)(n.td,{children:"decimal"}),(0,r.jsx)(n.td,{children:"Specifies the number of tokens to be transferred."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["When you submit the ",(0,r.jsx)(n.code,{children:"transfer"})," transaction, the ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-transfer"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-transfer"})," function in the stored token policies and the function is executed."]}),"\n",(0,r.jsx)(n.h3,{id:"capabilities-3",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"transfer"})," transaction must include the ",(0,r.jsx)(n.code,{children:"TRANSFER"})," capability signed with the ",(0,r.jsx)(n.code,{children:"sender"})," that owns the token.\nThe ",(0,r.jsx)(n.code,{children:"transfer"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.guard-policy-v1.TRANSFER"})," capability if you apply the guard-policy and define a transfer guard for the token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"transfer"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.ledger.TRANSFER"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"id"}),"\n",(0,r.jsx)(n.li,{children:"sender"}),"\n",(0,r.jsx)(n.li,{children:"receiver"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.guard-policy-v1.TRANSFER"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"sender"}),"\n",(0,r.jsx)(n.li,{children:"receiver"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"transfer-create",children:"transfer-create"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"transfer-create"})," to transfer the specified token amount from the specified sender to the specified receiver and creates the receiver account, if the account doesn't exist."]}),"\n",(0,r.jsx)(n.h3,{id:"arguments-5",children:"Arguments"}),"\n",(0,r.jsx)(n.p,{children:"Use the following arguments to transfer a token."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Specifies the unique token identifier generated using ",(0,r.jsx)(n.code,{children:"create-token-id"})," function and formatted as ",(0,r.jsx)(n.code,{children:"t:{token-detail-hash}"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sender"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Specifies the sender account that the token will be transferred from."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"receiver"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Specifies the receiver account that the token will be transferred to."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"receiver-guard"})}),(0,r.jsx)(n.td,{children:"guard"}),(0,r.jsx)(n.td,{children:"Specifies the guard for the receiver account that the token will be transferred to."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"amount"})}),(0,r.jsx)(n.td,{children:"decimal"}),(0,r.jsx)(n.td,{children:"Specifies the number of tokens to be transferred."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["When you submit the ",(0,r.jsx)(n.code,{children:"transfer-create"})," transaction, the ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-transfer"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-transfer"})," function in the stored token policies and the function is executed at ",(0,r.jsx)(n.code,{children:"ledger.transfer-create"}),". The difference between ",(0,r.jsx)(n.code,{children:"transfer"})," and ",(0,r.jsx)(n.code,{children:"transfer-create"})," is that ",(0,r.jsx)(n.code,{children:"transfer-create"})," can be used for both non-existent and existing receiver accounts, with an additional check for the receiver guard if already exists.\nThe ",(0,r.jsx)(n.code,{children:"transfer"})," can only be used for existing ",(0,r.jsx)(n.code,{children:"receiver"}),"account."]}),"\n",(0,r.jsx)(n.h3,{id:"capabilities-4",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"transfer-create"})," transaction must include the ",(0,r.jsx)(n.code,{children:"TRANSFER"})," capability signed with the ",(0,r.jsx)(n.code,{children:"sender"})," that owns the token.\nThe ",(0,r.jsx)(n.code,{children:"transfer-create"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.guard-policy-v1.TRANSFER"})," capability if you apply the guard-policy and define a transfer guard for the token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"transfer-create"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.ledger.TRANSFER"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"id"}),"\n",(0,r.jsx)(n.li,{children:"sender"}),"\n",(0,r.jsx)(n.li,{children:"receiver"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.guard-policy-v1.TRANSFER"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"sender"}),"\n",(0,r.jsx)(n.li,{children:"receiver"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"sale",children:"sale"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"sale"})," to execute a two-step transaction using the offer and buy steps with a trustless escrow account."]}),"\n",(0,r.jsxs)(n.p,{children:["Because a sale requires two steps that must be completed in a specific order, the transaction is defined using a pact.\nFor information about the syntax used to define a pact, see ",(0,r.jsx)(n.a,{href:"/reference/syntax#defpact",children:"defpact"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"arguments-6",children:"Arguments"}),"\n",(0,r.jsx)(n.p,{children:"Use the following arguments to initiate the sale of a token."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Specifies the unique token identifier generated using ",(0,r.jsx)(n.code,{children:"create-token-id"})," function and formatted as ",(0,r.jsx)(n.code,{children:"t:{token-detail-hash}"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"seller"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Specifies the seller account that the token will be offered from."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"amount"})}),(0,r.jsx)(n.td,{children:"decimal"}),(0,r.jsx)(n.td,{children:"Specifies the number of tokens to be offered for sale."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"timeout"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsxs)(n.td,{children:["Specifies when the offer is set to expire using a timestamp for the number of seconds from UNIX epoch before the offer can be withdrawn. For example, if you want an offer to expire at midnight on 30 June 2024, you specify the timeout as 1719705600. You can set the ",(0,r.jsx)(n.code,{children:"timeout"})," argument to zero (0) to allow an offer to be withdrawn at any time by the token owner."]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"offer",children:"offer"}),"\n",(0,r.jsxs)(n.p,{children:["The first step of a ",(0,r.jsx)(n.code,{children:"sale"})," pact (step 0) executes the ",(0,r.jsx)(n.code,{children:"offer"})," function.\nThe ",(0,r.jsx)(n.code,{children:"offer"})," function transfers the token from the seller's account to the escrow account."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-offer"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-offer"})," function in the stored token policies and the function is executed at step 0 of the ",(0,r.jsx)(n.code,{children:"sale"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"capabilities-5",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"offer"})," transaction must include the ",(0,r.jsx)(n.code,{children:"OFFER"})," capability signed with the ",(0,r.jsx)(n.code,{children:"seller"})," that owns the token.\nThe ",(0,r.jsx)(n.code,{children:"offer"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.guard-policy-v1.SALE"})," capability if you apply the guard-policy and define a sales guard for the token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"offer"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.ledger.OFFER"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"id"}),"\n",(0,r.jsx)(n.li,{children:"seller"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n",(0,r.jsx)(n.li,{children:"timeout"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.guard-policy-v1.SALE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"seller"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"environment-data-1",children:"Environment data"}),"\n",(0,r.jsx)(n.p,{children:"If the offer is a dutch or conventional auction, you can add the following information as raw data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"quote [object]"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The quote object includes the following properties:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"fungible [string]"}),"\n",(0,r.jsx)(n.li,{children:"sale-price [decimal]"}),"\n",(0,r.jsxs)(n.li,{children:["seller-fungible-account [object]","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"account [string]"}),"\n",(0,r.jsx)(n.li,{children:"guard [guard]"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"sale-type [string] (optional)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"withdraw-cont",children:"withdraw (cont)"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"sale"})," pact includes a rollback step (step 0-rollback).\nThe rollback step executes the ",(0,r.jsx)(n.code,{children:"withdraw"})," function.\nThe ",(0,r.jsx)(n.code,{children:"withdraw"})," function transfers the tokens held in the escrow account for the sale back to the seller.\nIf a ",(0,r.jsx)(n.code,{children:"timeout"})," is specified, the ",(0,r.jsx)(n.code,{children:"withdraw"})," function can only be executed after the timeout period has passed.\nYou can execute the ",(0,r.jsx)(n.code,{children:"withdraw"})," function by sending a continuation (",(0,r.jsx)(n.code,{children:"cont"}),") command with the following information:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"pactTxHash: sale-pact-id\nstep: 0\nrollback: true\n"})}),"\n",(0,r.jsxs)(n.p,{children:["For more information about formatting continuation commands, see ",(0,r.jsx)(n.a,{href:"/smart-contracts/transactions#transaction-formats",children:"Transaction formats"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-withdraw"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-withdraw"})," function in the stored token policies and the function is executed at step 0-rollback of ",(0,r.jsx)(n.code,{children:"sale"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"capabilities-6",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"withdraw"})," transaction must include the ",(0,r.jsx)(n.code,{children:"WITHDRAW"})," capability signed with the ",(0,r.jsx)(n.code,{children:"seller"})," that owns the token.\nThe ",(0,r.jsx)(n.code,{children:"withdraw"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.guard-policy-v1.SALE"})," capability if you apply the guard-policy and define a sales guard for the token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"withdraw"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.ledger.WITHDRAW"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"id"}),"\n",(0,r.jsx)(n.li,{children:"seller"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n",(0,r.jsx)(n.li,{children:"timeout"}),"\n",(0,r.jsx)(n.li,{children:"sale-id"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.guard-policy-v1.SALE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"seller"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"buy-cont",children:"buy (cont)"}),"\n",(0,r.jsxs)(n.p,{children:["The second step of a ",(0,r.jsx)(n.code,{children:"sale"})," pact (step 1) executes the ",(0,r.jsx)(n.code,{children:"buy"})," function.\nThe ",(0,r.jsx)(n.code,{children:"buy"})," function transfers the tokens held in the escrow account to the buyer. The ",(0,r.jsx)(n.code,{children:"buy"})," function can be executed before ",(0,r.jsx)(n.code,{children:"timeout"}),".\nThe ",(0,r.jsx)(n.code,{children:"buyer"})," and ",(0,r.jsx)(n.code,{children:"buyer-guard"})," information is read from the ",(0,r.jsx)(n.code,{children:"env-data"})," of the command instead of passing in arguments.\nLike the ",(0,r.jsx)(n.code,{children:"withdraw"})," function, the ",(0,r.jsx)(n.code,{children:"buy"})," function is executed using a continuation (",(0,r.jsx)(n.code,{children:"cont"}),") command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"pactTxHash: sale-pact-id\nstep: 0\nrollback: false\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-buy"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-buy"})," function in the stored token policies and the function is executed at step 1 of ",(0,r.jsx)(n.code,{children:"sale"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"capabilities-7",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"buy"})," transaction must include the ",(0,r.jsx)(n.code,{children:"BUY"})," capability signed with the ",(0,r.jsx)(n.code,{children:"buyer"})," that is buying the token.\nThe ",(0,r.jsx)(n.code,{children:"buy"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.guard-policy-v1.SALE"})," capability if you apply the guard-policy and define a sales guard for the token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"buy"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.ledger.BUY"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"id"}),"\n",(0,r.jsx)(n.li,{children:"seller"}),"\n",(0,r.jsx)(n.li,{children:"buyer"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n",(0,r.jsx)(n.li,{children:"sale-id"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.guard-policy-v1.SALE"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"seller"}),"\n",(0,r.jsx)(n.li,{children:"amount"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"environment-data-2",children:"Environment data"}),"\n",(0,r.jsx)(n.p,{children:"If the sale is a dutch or conventional auction, you need to add the following information as raw data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"buyer [string]"}),"\n",(0,r.jsx)(n.li,{children:"buyer-guard [guard]"}),"\n",(0,r.jsx)(n.li,{children:"buyer_fungible_account [string]"}),"\n",(0,r.jsx)(n.li,{children:"updated_price [decimal]"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"update-uri",children:"update-uri"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"update-uri"})," to update the ",(0,r.jsx)(n.code,{children:"uri"})," for an existing token."]}),"\n",(0,r.jsx)(n.h3,{id:"arguments-7",children:"Arguments"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Specifies the unique token identifier generated using ",(0,r.jsx)(n.code,{children:"create-token-id"})," function and formatted as ",(0,r.jsx)(n.code,{children:"t:{token-detail-hash}"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"new-uri"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Specifies the new ",(0,r.jsx)(n.code,{children:"uri"}),"."]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["When you submit the ",(0,r.jsx)(n.code,{children:"update-uri"})," transaction, the ",(0,r.jsx)(n.code,{children:"policy-manager.enforce-update-uri"})," function calls the ",(0,r.jsx)(n.code,{children:"policy:enforce-update-uri"})," function in the stored token policies and the function is executed at ",(0,r.jsx)(n.code,{children:"ledger.update-uri"}),".\nToken creators should configure the entity that will be authorized to update the uri's in the ",(0,r.jsx)(n.code,{children:"guard-policy-v1"}),", or in their custom policies."]}),"\n",(0,r.jsx)(n.h3,{id:"capabilities-8",children:"Capabilities"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"update-uri"})," transaction must include the ",(0,r.jsx)(n.code,{children:"UPDATE-URI"})," capability signed with the ",(0,r.jsx)(n.code,{children:"buyer"})," that is buying the token.\nThe ",(0,r.jsx)(n.code,{children:"update-uri"})," transaction also requires the ",(0,r.jsx)(n.code,{children:"marmalade-v2.guard-policy-v1.UPDATE-URI"})," capability if you apply the guard-policy and define a uri guard for the token."]}),"\n",(0,r.jsxs)(n.p,{children:["Required capabilities and parameters for the ",(0,r.jsx)(n.code,{children:"update-uri"})," function:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.ledger.UPDATE-URI"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"new-uri"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"marmalade-v2.guard-policy-v1.UPDATE-URI"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"token-id"}),"\n",(0,r.jsx)(n.li,{children:"new-uri"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>s});var t=i(96540);const r={},d=t.createContext(r);function c(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);