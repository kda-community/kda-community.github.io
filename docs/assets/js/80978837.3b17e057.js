"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[8249],{60599:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api/pact-api/listen","title":"Listen for a single transaction","description":"Provides reference information for the Pact /listen endpoint.","source":"@site/docs/api/pact-api/listen.md","sourceDirName":"api/pact-api","slug":"/api/pact-api/listen","permalink":"/docs/api/pact-api/listen","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/api/pact-api/listen.md","tags":[{"inline":true,"label":"chainweb","permalink":"/docs/tags/chainweb"},{"inline":true,"label":"node api","permalink":"/docs/tags/node-api"},{"inline":true,"label":"chainweb api","permalink":"/docs/tags/chainweb-api"},{"inline":true,"label":"api reference","permalink":"/docs/tags/api-reference"}],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Listen for a single transaction","description":"Provides reference information for the Pact /listen endpoint.","id":"listen","sidebar_position":2,"tags":["chainweb","node api","chainweb api","api reference"]},"sidebar":"default","previous":{"title":"Pact API","permalink":"/docs/api/pact-api/"},"next":{"title":"Simulate a transaction","permalink":"/docs/api/pact-api/local"}}');var i=t(74848),r=t(28453);const a={title:"Listen for a single transaction",description:"Provides reference information for the Pact /listen endpoint.",id:"listen",sidebar_position:2,tags:["chainweb","node api","chainweb api","api reference"]},c="Listen for a transaction result",d={},o=[{value:"Request format",id:"request-format",level:2},{value:"Path parameters",id:"path-parameters",level:3},{value:"Request body schema",id:"request-body-schema",level:3},{value:"Responses",id:"responses",level:2},{value:"Examples",id:"examples",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"listen-for-a-transaction-result",children:"Listen for a transaction result"})}),"\n",(0,i.jsxs)(n.p,{children:["You can use the ",(0,i.jsx)(n.code,{children:"/listen"})," endpoint to submit a blocking API request to return the results for a single transaction.\nThe request must specify the request key that uniquely identifies the Pact transaction.\nRequests to the ",(0,i.jsx)(n.code,{children:"/listen"})," endpoint keep the connection to the network open waiting for a response."]}),"\n",(0,i.jsx)(n.h2,{id:"request-format",children:"Request format"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"POST https://{baseURL}/chain/{chain}/pact/api/v1/listen"})," endpoint to submit a blocking request for the results of a single transaction."]}),"\n",(0,i.jsx)(n.p,{children:"Note that service API endpoints don't strictly require you to use secure connections (HTTPS).\nHowever, node operators can require it and connecting over HTTPS is strongly recommended to protect data in transit and to prevent potential browser issues."}),"\n",(0,i.jsx)(n.h3,{id:"path-parameters",children:"Path parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"chain\xa0(required)"}),(0,i.jsx)(n.td,{children:"integer\xa0>=\xa00"}),(0,i.jsxs)(n.td,{children:["Specifies the chain identifier of the chain you want to send the request to. Valid values are 0 to 19. For example, to submit the command on the first chain (0), the request is ",(0,i.jsx)(n.code,{children:"POST https://{baseURL}/chain/0/pact/api/v1/listen"}),"."]})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"request-body-schema",children:"Request body schema"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"listen"})," (required)"]}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Unique identifier for the Pact transaction. The transaction hash is a base64Url-encoded string that consists of 43 characters from the [",(0,i.jsx)(n.code,{children:"a-zA-Z0-9_-"}),"] character set."]})]})})]}),"\n",(0,i.jsx)(n.h2,{id:"responses",children:"Responses"}),"\n",(0,i.jsxs)(n.p,{children:["Requests to ",(0,i.jsx)(n.code,{children:"POST https://{baseURL}/chain/{chain}/pact/api/v1/listen"})," return the following response codes:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"200 OK"})," indicates that the request succeeded and the response body includes the transaction results."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"400 Bad Request"})," indicates that the request failed. The response returns ",(0,i.jsx)(n.code,{children:"text/plain"})," content with information about why the request failed. For example, the response might indicate that the command wasn't executed because the request body specified an invalid gas payer, was missing required metadata, or there were other environment issues."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If the request is successful, the response returns ",(0,i.jsx)(n.code,{children:"application/json"})," content with the following information for one or more of the request keys included in the request."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"gas"})," (required)"]}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Gas consumed by the transaction."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"result"})," (required)"]}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"Success (object) or Failure (object)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"reqKey"})," (required)"]}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Unique identifier for the Pact transaction. The transaction hash is a base64Url-encoded string that consists of 43 characters from the [",(0,i.jsx)(n.code,{children:"a-zA-Z0-9_-"}),"] character set."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"logs"})," (required)"]}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Backend-specific value providing image of database logs."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"events"})}),(0,i.jsx)(n.td,{children:"Array of object"}),(0,i.jsx)(n.td,{children:"Array of event objects."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"metaData"})," (required)"]}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{children:"Metadata included with the transaction."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"continuation"})}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsxs)(n.td,{children:["Describes the result of a ",(0,i.jsx)(n.code,{children:"defpact"})," execution."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"txId"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"Database-internal transaction tracking identifier."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsxs)(n.p,{children:["You can send a request to the Kadena test network and chain 1 by calling the ",(0,i.jsx)(n.code,{children:"/listen"})," endpoint like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-Postman",children:"POST https://api.testnet.chainweb.com/chainweb/0.0/testnet04/chain/1/pact/api/v1/listen\n"})}),"\n",(0,i.jsx)(n.p,{children:"For this example, the request body specifies one request key to listen for:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "listen": "qTDh3o3Gp3rQI2XVzptSA5BwvT6w28B1RvSuHmNXtN4"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"This request returns the following results:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "gas": 710,\n    "result": {\n        "status": "success",\n        "data": "Write succeeded"\n    },\n    "reqKey": "qTDh3o3Gp3rQI2XVzptSA5BwvT6w28B1RvSuHmNXtN4",\n    "logs": "9BUxMgwkYJFU7fVAEfJKLYLEqx1gXdpwd-tSZhJRh3A",\n    "events": [\n        {\n            "params": [\n                "LG-testnet",\n                "k:db776793be0fcf8e76c75bdb35a36e67f298111dc6145c66693b0133192e2616",\n                5.67503e-5\n            ],\n            "name": "TRANSFER",\n            "module": {\n                "namespace": null,\n                "name": "coin"\n            },\n            "moduleHash": "klFkrLfpyLW-M3xjVPSdqXEMgxPPJibRt_D6qiBws6s"\n        },\n        {\n            "params": [\n                "LG-testnet",\n                "k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0",\n                2\n            ],\n            "name": "TRANSFER",\n            "module": {\n                "namespace": null,\n                "name": "coin"\n            },\n            "moduleHash": "klFkrLfpyLW-M3xjVPSdqXEMgxPPJibRt_D6qiBws6s"\n        }\n    ],\n    "metaData": {\n        "blockTime": 1726778344125192,\n        "prevBlockHash": "zCvrrJrucuPgd9vY8cXbVn7GMjO9j-SsupGUMZ8gpoI",\n        "blockHash": "TpmPSutW06KQ5_0kdrvbIAFdFZQSRlUYWnNBjt1mOGc",\n        "blockHeight": 4659605\n    },\n    "continuation": null,\n    "txId": 6485506\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var s=t(96540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);