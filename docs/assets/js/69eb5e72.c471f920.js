"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[4008],{26310:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"smart-contracts/install/local-dev-node","title":"Local development network","description":"Start a local development network with a standalone blockchain node.","source":"@site/docs/smart-contracts/install/local-dev-node.md","sourceDirName":"smart-contracts/install","slug":"/smart-contracts/install/local-dev-node","permalink":"/docs/smart-contracts/install/local-dev-node","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/smart-contracts/install/local-dev-node.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Local development network","id":"local-dev-node","sidebar_position":5,"description":"Start a local development network with a standalone blockchain node."},"sidebar":"default","previous":{"title":"Developer tooling","permalink":"/docs/smart-contracts/install/tooling"},"next":{"title":"Migrating to Pact 5","permalink":"/docs/smart-contracts/install/migrating-to-pact5"}}');var a=t(74848),i=t(28453);const r={title:"Local development network",id:"local-dev-node",sidebar_position:5,description:"Start a local development network with a standalone blockchain node."},s="Set up a development network",l={},c=[{value:"Start the development network",id:"start-the-development-network",level:2},{value:"Start-up options",id:"start-up-options",level:3},{value:"Connect Chainweaver to the development network",id:"connect-chainweaver-to-the-development-network",level:3},{value:"Install a standalone node",id:"install-a-standalone-node",level:2},{value:"Minimum system requirements",id:"minimum-system-requirements",level:3},{value:"Operating system architecture",id:"operating-system-architecture",level:4},{value:"Incoming and outgoing network rules",id:"incoming-and-outgoing-network-rules",level:4},{value:"Install from release binaries",id:"install-from-release-binaries",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"set-up-a-development-network",children:"Set up a development network"})}),"\n",(0,a.jsxs)(n.p,{children:["Computers that run the Chainweb network software\u2014the ",(0,a.jsx)(n.code,{children:"chainweb-node"})," program\u2014are a crucial component of the Kadena blockchain.\nNodes provide the compute, storage, and network resources that enable the Kadena blockchain to be secure and decentralized.\nNodes also provide the engine for transaction processing, data verification, and executing smart contract functions.\nBecause of the role they play in receiving and processing transactions, it's important to include at least one standalone node as part of your development environment."]}),"\n",(0,a.jsx)(n.p,{children:"In most cases, you can run a single node to establish a local development network that you can then use to test smart contract operations in an isolated and controlled environment before deploying to a public test or production network."}),"\n",(0,a.jsxs)(n.p,{children:["There are two primary ways you can set up a local development network that includes the ",(0,a.jsx)(n.code,{children:"chainweb-node"})," program:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["You can download a complete local development network that includes the ",(0,a.jsx)(n.code,{children:"chainweb-node"})," program, a local block explorer, the Pact interpreter that runs in a browser, and other tools.\nWith this option, you can use a default set of tools and configuration settings from a Docker image to run the development network inside of a Docker container.\nFor instructions, see ",(0,a.jsx)(n.a,{href:"#start-the-development-network",children:"Start the development network"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["You can download and run the ",(0,a.jsx)(n.code,{children:"chainweb-node"})," program as a standalone release binary from its GitHub repository.\nWith this option, you can manually select the tools and configuration settings you want the node to use.\nFor instructions, see ",(0,a.jsx)(n.a,{href:"#install-a-standalone-node",children:"Install a standalone node"})," or ",(0,a.jsx)(n.a,{href:"https://github.com/kadena-io/chainweb-node?tab=readme-ov-file#installing-chainweb",children:"chainweb-node"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"start-the-development-network",children:"Start the development network"}),"\n",(0,a.jsx)(n.p,{children:"If you have Docker installed, the simplest way to get a local node running is to download the latest Docker image for the Kadena development network.\nThe development network in the Docker image includes access to additional tools and installs the most commonly-used contracts by default."}),"\n",(0,a.jsxs)(n.p,{children:["To run a ",(0,a.jsx)(n.code,{children:"chainweb-node"})," instance in a Docker container:"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Open a terminal shell on your computer."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start the Docker service if it isn't configured to start automatically in your local environment."}),"\n",(0,a.jsxs)(n.p,{children:["You can run the ",(0,a.jsx)(n.code,{children:"docker info"})," command to check whether Docker is currently running."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Create a new Docker volume by running the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"docker volume create kadena_devnet\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Pull the ",(0,a.jsx)(n.code,{children:"kadena_devnet"})," volume image and start the ",(0,a.jsx)(n.code,{children:"devnet"})," container by running the following command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"docker run --interactive --tty --publish 8080:8080 --volume kadena_devnet:/data --name devnet kadena/devnet\n"})}),"\n",(0,a.jsx)(n.p,{children:"Wait for the image to be downloaded to your local environment."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start the local development network by running the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"docker start devnet\n"})}),"\n",(0,a.jsx)(n.p,{children:"After you start the development network, you'll see information about the network processes displayed in a terminal console."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Development network (devnet) console",src:t(2199).A+"",width:"2362",height:"806"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Open ",(0,a.jsx)(n.a,{href:"http://localhost:8080/",children:"Kadena Devnet"})," to see more information about the configuration of the local development network and how to access other tools."]}),"\n",(0,a.jsx)(n.p,{children:"You can stop the network at any time\u2014and reset the blockchain state\u2014by pressing Ctrl-c in the terminal."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"start-up-options",children:"Start-up options"}),"\n",(0,a.jsx)(n.p,{children:"You can customize the operation of the development network using different command-line settings.\nFor example, if you don't want to create a persistent volume, you can start the network by running the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run --interactive --tty --publish 8080:8080 kadena/devnet:latest\n"})}),"\n",(0,a.jsx)(n.p,{children:"You can stop the network at any time\u2014and reset the blockchain state\u2014by pressing Ctrl-c in the terminal.\nAfter you stop the network, restart it using the previous command or one of the commands that follow."}),"\n",(0,a.jsxs)(n.p,{children:["If you want to automatically remove the container when you stop it, add the ",(0,a.jsx)(n.code,{children:"--rm"})," command-line option.\nFor example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"docker run --rm --interactive --tty --publish 8080:8080 --volume kadena_devnet:/data --name devnet kadena/devnet\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you encounter an error where the version of Chainweb is invalid after a certain date (typically after a service update), run the following command to pull the latest version:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"docker run --pull always --interactive --tty --publish 8080:8080 kadena/devnet:latest\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If you can't run the Pact executable on your local computer, you can mount the ",(0,a.jsx)(n.code,{children:"./pact"})," folder for the election project in the Docker container by running the following command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run --interactive --tty \\\n --publish 8080:8080 \\\n --volume ./pact:/pact-cli:ro \\\n kadena/devnet:latest\n"})}),"\n",(0,a.jsx)(n.h3,{id:"connect-chainweaver-to-the-development-network",children:"Connect Chainweaver to the development network"}),"\n",(0,a.jsx)(n.p,{children:"By default, the Chainweaver wallet and IDE lets you connect to the Kadena test network and the Kadena main network.\nHowever, as you start writing Pact modules, you'll want to test and deploy them on your local development network. Before you can do that, you need to configure Chainweaver to connect to the local host and port number running the development network."}),"\n",(0,a.jsx)(n.p,{children:"To add the development network to Chainweaver:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Open or unlock Chainweaver."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Click ",(0,a.jsx)(n.strong,{children:"Settings"})," in the Chainweaver navigation panel."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Click ",(0,a.jsx)(n.strong,{children:"Network"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Under Edit Networks, type the network name ",(0,a.jsx)(n.strong,{children:"development"}),", then click ",(0,a.jsx)(n.strong,{children:"Create"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Expand the ",(0,a.jsx)(n.strong,{children:"development"})," network, then add the localhost as a node for this network by typing ",(0,a.jsx)(n.strong,{children:"127.0.0.1:8080"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"If the local computer is still running the development network Docker container, you should see the dot next to the node turn green."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Click ",(0,a.jsx)(n.strong,{children:"Ok"})," to close the network settings."]}),"\n",(0,a.jsxs)(n.p,{children:["After you click Ok, you can see ",(0,a.jsx)(n.strong,{children:"development"})," selected as your current network.\nAll actions you perform in Chainweaver are now executed on the local development network."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"install-a-standalone-node",children:"Install a standalone node"}),"\n",(0,a.jsxs)(n.p,{children:["If you want full control over node operations, you might want to install and manage ",(0,a.jsx)(n.code,{children:"chainweb-node"})," as a standalone local node for development or as a node participating in the Kadena test or production public network."]}),"\n",(0,a.jsx)(n.p,{children:"There are several options for setting up a Chainweb node in a physical or virtual environment.\nFor example, you can install and run node binaries:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Directly on a physical Linux or macOS computer."}),"\n",(0,a.jsx)(n.li,{children:"On an Linux or macOS instance with infrastructure from a cloud services provider."}),"\n",(0,a.jsx)(n.li,{children:"From a Linux image in a Docker container."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"You can also build the binaries directly from the source code."}),"\n",(0,a.jsx)(n.h3,{id:"minimum-system-requirements",children:"Minimum system requirements"}),"\n",(0,a.jsx)(n.p,{children:"Before installing Chainweb, you should verify that your computer meets the following minimum recommended hardware requirements for running a node:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"CPU: Minimum of two (2) CPU cores."}),"\n",(0,a.jsx)(n.li,{children:"RAM: Minimum of four (4) GB of RAM."}),"\n",(0,a.jsx)(n.li,{children:"Storage: Minimum 250 GB using a solid state drive (SSD) or fast hard disk drive (HDD)."}),"\n",(0,a.jsx)(n.li,{children:"Network: Publicly-accessible IP address."}),"\n",(0,a.jsx)(n.li,{children:"Operating system: Linux AMD64 architecture."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"If you also plan to use the node for mining, to submit transactions, or to query blockchain data, you should verify that your computer meets the following minimum recommended hardware requirements:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Four (4) CPU cores."}),"\n",(0,a.jsx)(n.li,{children:"Eight (8) GB of RAM."}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"operating-system-architecture",children:"Operating system architecture"}),"\n",(0,a.jsxs)(n.p,{children:["Most ",(0,a.jsx)(n.code,{children:"chainweb-node"})," software runs on Linux with AMD64 architectures.\nIf you want to run a Chainweb node on Linux or macOS with ARM64 architecture, you'll need to build the binaries yourself from the source code.\nYou might experience some unexpected behavior when running a node on ARM64 architecture.\nNote that you should not configure ",(0,a.jsx)(n.strong,{children:"mining"})," for nodes on ARM64 architecture.\nRunning a mining node on ARM64 architecture could cause your node to fork from the network."]}),"\n",(0,a.jsxs)(n.p,{children:["If you want to run a Chainweb node on Microsoft Windows, you should note that this isn't a supported configuration and requires you to install the latest Windows Services for Linux (WSL) software.\nIf you choose to proceed after installing WSL, you can install the ",(0,a.jsx)(n.code,{children:"chainweb-node"})," software in the WSL virtual environment rather than using the native Windows operating system."]}),"\n",(0,a.jsx)(n.h4,{id:"incoming-and-outgoing-network-rules",children:"Incoming and outgoing network rules"}),"\n",(0,a.jsx)(n.p,{children:"In addition to a publicly-accessible IP address, nodes must be able to communicate with peers and accept incoming messages from other computers in the network.\nIf your computer is behind a firewall or is a virtual guest connecting to the internet through a host computer, you should review your network configuration and open required ports to allow inbound and outbound traffic.\nFor example, you might need to configure port forwarding for port 1789 on your router or host computer to allow inbound connections from remote nodes."}),"\n",(0,a.jsx)(n.h3,{id:"install-from-release-binaries",children:"Install from release binaries"}),"\n",(0,a.jsxs)(n.p,{children:["You can download compressed archive files with ",(0,a.jsx)(n.code,{children:"chainweb-node"})," release binaries for Ubuntu Linux directly from the ",(0,a.jsx)(n.a,{href:"https://github.com/kadena-io/chainweb-node/releases",children:"Releases"})," page in the ",(0,a.jsx)(n.a,{href:"https://github.com/kadena-io/chainweb-node/",children:"chainweb-node"})," repository.\nIf you have Ubuntu 20.04 or Ubuntu 22.04 on a physical or virtual machine, downloading the binary is the most straightforward installation path."]}),"\n",(0,a.jsx)(n.p,{children:"To install from a release archive:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Open a terminal shell on the physical or virtual host with the Ubuntu Linux operating system."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Update the system with the latest software by running the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt update && sudo apt upgrade\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install the required packages by running the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install ca-certificates libgmp10 libssl3 libsnappy1v5 zlib1g liblz4-1 libbz2-1.0 libgflags2.2 zstd\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If your computer uses the Ubuntu 20.04 operating system, install the ",(0,a.jsx)(n.code,{children:"libssl1.1"})," package instead of the ",(0,a.jsx)(n.code,{children:"libssl3"})," package."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Download the archive file from the ",(0,a.jsx)(n.a,{href:"https://github.com/kadena-io/chainweb-node/releases",children:"Releases"})," page."]}),"\n",(0,a.jsxs)(n.p,{children:["Note that the archive file naming convention includes the ",(0,a.jsx)(n.code,{children:"chainweb-node"})," version, compiler version, Ubuntu version, and a commit hash identifier using the following format:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"chainweb-<version>.ghc-<version>.ubuntu-<version>.<revision>.tar.gz\n"})}),"\n",(0,a.jsxs)(n.p,{children:["For example, the ",(0,a.jsx)(n.code,{children:"chainweb-node"})," archive file for Ubuntu 22.04 looks like this:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"chainweb-2.26.1.ghc-9.6.5.ubuntu-22.04.89b0ac3.tar.gz\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Change to the directory that contains the downloaded file\u2014typically, the Downloads folder\u2014or move the file to a new location."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Unzip and extract the compressed archive by running a command similar to the following:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"tar -xvzf chainweb-2.26.1.ghc-9.6.5.ubuntu-22.04.89b0ac3.tar.gz\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Verify the binary is ready to use and review command-line configuration options by running the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./chainweb-node --help\n"})}),"\n",(0,a.jsx)(n.p,{children:"You should see usage information about the configuration settings you can specify as command-line options similar to the following truncated output:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"Usage: chainweb-node [--info] [--long-info] [-v|--version] [--license] \n                     [-?|-h|--help] \n                     [--print-config-as full|minimal|diff | --print-config] \n                     [--config-file FILE] \n"})}),"\n",(0,a.jsx)(n.p,{children:"From the usage information, you can see that there are a large number of configuration options that you can use to control and operation and behavior of the Chainweb node.\nBefore you start the node, you should review the configuration options and the default values to determine whether you want to make any changes to the configuration of the node."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Extract the default configuration settings to create a configuration file for the node by running the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./chainweb-node --print-config > default-config.yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you want to modify any of the default settings or add features that are disabled by default, you can:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Edit settings in one or more configuration files."}),"\n",(0,a.jsx)(n.li,{children:"Use corresponding command-line options to control node operations."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start the node from the release binary by running a command similar to the following:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./chainweb-node  \n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},2199:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/devnet-console-e901955e0cf5b363ae02a1cf40c55fb9.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var o=t(96540);const a={},i=o.createContext(a);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);