"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[2406],{75878:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"reference/real-world-assets/agents-and-roles","title":"Agents and roles","description":"Technical documentation for the Kadena RWA token standard initial minimally-viable product (MVP) contract.","source":"@site/docs/reference/real-world-assets/agents-and-roles.md","sourceDirName":"reference/real-world-assets","slug":"/reference/real-world-assets/agents-and-roles","permalink":"/docs/reference/real-world-assets/agents-and-roles","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/reference/real-world-assets/agents-and-roles.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Agents and roles","description":"Technical documentation for the Kadena RWA token standard initial minimally-viable product (MVP) contract.","id":"agents-and-roles","sidebar_position":3}}');var l=n(74848),i=n(28453);const r={title:"Agents and roles",description:"Technical documentation for the Kadena RWA token standard initial minimally-viable product (MVP) contract.",id:"agents-and-roles",sidebar_position:3},d="Agents and roles",a={},c=[{value:"Capabilities",id:"capabilities",level:2},{value:"Functions",id:"functions",level:2},{value:"Agent role interface",id:"agent-role-interface",level:2},{value:"Event capabilities",id:"event-capabilities",level:3},{value:"Managed capabilities",id:"managed-capabilities",level:3},{value:"State-changing functions",id:"state-changing-functions",level:3},{value:"Utility functions",id:"utility-functions",level:3}];function o(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"agents-and-roles",children:"Agents and roles"})}),"\n",(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.code,{children:"mvp-token"})," contract implements the ",(0,l.jsx)(t.a,{href:"https://github.com/kadena-io/RWA-token/blob/main/contracts/roles/agent-role-v1.pact",children:(0,l.jsx)(t.code,{children:"agent-role-v1"})})," interface.\nThe interface defines the core capabilities and function signatures for adding and managing agents that have permission to perform protected contract operations.\nThe ",(0,l.jsx)(t.code,{children:"mvp-token"})," contract extends the ",(0,l.jsx)(t.code,{children:"agent-role-v1"})," interface by defining additional capabilities and functions to complement the core capabilities and function signatures."]}),"\n",(0,l.jsx)(t.h2,{id:"capabilities",children:"Capabilities"}),"\n",(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.code,{children:"mvp-token"})," contract defines the following capabilities:"]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Capability"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Implementation\xa0required"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"AGENT-ADDED"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Event emitted when you add a new agent."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"AGENT-REMOVED"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Event emitted when you use remove an agent."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"AGENT\u2011ROLES\u2011UPDATED"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Not required."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Event emitted when you update the roles assigned to an agent."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"ONLY-AGENT"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Managed capability to restrict access to specific functions based on the agent role."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"ONLY-OWNER"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["Managed capability to restrict access to specific functions tha can only executed by the contract owner (not used in the ",(0,l.jsx)(t.code,{children:"mvp-token"})," contract)."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"OWNERSHIP\u2011TRANSFERRED"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Event emitted when you transfer ownership of the contract to a new guard."})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"functions",children:"Functions"}),"\n",(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.code,{children:"mvp-token"})," contract defines the following functions:"]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Function"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Implementation\xa0required"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"add-agent"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Adds a new agent to the contract."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"enforce-agent"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Not required."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Enforces that an address is an agent."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"get-agent-roles"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Not required."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Retrieves the roles assigned to an agent."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"get-owner-guard"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Not required."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Retrieves the guard for the owner."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"is-agent"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Returns a boolean if an address is an agent."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"only-agent"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Ensures access is limited to agents."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"only-owner"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["Ensures access is limited to agents (not used in the ",(0,l.jsx)(t.code,{children:"mvp-token"})," contract)."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"only-owner-or-agent-admin"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Not required."}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["Ensures access is limited to owners or agents with the ",(0,l.jsx)(t.code,{children:"admin"})," role."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"remove-agent"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Removes an agent from the contract."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"transfer-ownership"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"agent-role-v1"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Transfers ownership of the contract."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"update-agent-roles"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Not required."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Updates the roles for an agent."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"verify-agent-roles"}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Not required."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Verifies the roles assigned to an agent."})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"agent-role-interface",children:"Agent role interface"}),"\n",(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.a,{href:"https://github.com/kadena-io/RWA-token/blob/main/contracts/roles/agent-role-v1.pact",children:"agent-role"})," interface describes the core capabilities and function signatures for managing agents and roles.\nAt a minimum, the ",(0,l.jsx)(t.code,{children:"mvp-token"})," contract must implement all of the capabilities and functions included in the interface."]}),"\n",(0,l.jsx)(t.h3,{id:"event-capabilities",children:"Event capabilities"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["AGENT-ADDED: Event for the successful execution of an ",(0,l.jsx)(t.code,{children:"add-agent"})," transaction."]}),"\n",(0,l.jsxs)(t.li,{children:["AGENT-REMOVED: Event for the successful execution of a ",(0,l.jsx)(t.code,{children:"remove-agent"})," transaction."]}),"\n",(0,l.jsxs)(t.li,{children:["OWNERSHIP-TRANSFERRED: Event for the successful execution of a ",(0,l.jsx)(t.code,{children:"transfer-ownership"})," transaction."]}),"\n"]}),"\n",(0,l.jsx)(t.h3,{id:"managed-capabilities",children:"Managed capabilities"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"ONLY-OWNER: Validates whether an address has the owner role before allowing the address to be used to execute a transaction."}),"\n",(0,l.jsx)(t.li,{children:"ONLY-AGENT: Validates whether an address has the agent role before allowing the address to be used to execute a transaction."}),"\n"]}),"\n",(0,l.jsx)(t.h3,{id:"state-changing-functions",children:"State-changing functions"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"add-agent"}),": Adds a new agent and guard to the contract."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"remove-agent"}),": Removes an agent from the contract."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"transfer-ownership"}),": Transfers ownership of the contract to a new guard."]}),"\n"]}),"\n",(0,l.jsx)(t.h3,{id:"utility-functions",children:"Utility functions"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"is-agent"}),": Checks whether an address is an agent and returns a boolean indicating the result of he check."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"only-agent"}),": Checks whether an address has acquired the ONLY-AGENT capability to grant access to functions that can only be executed by valid agents."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"only-owner"}),": Checks whether an address has acquired the ONLY-OWNER capability to grant access to functions that can only be executed by the operational owner."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>d});var s=n(96540);const l={},i=s.createContext(l);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);