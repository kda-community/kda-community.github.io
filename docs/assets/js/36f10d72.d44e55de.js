"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[8216],{56701:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"guides/nodes/evm-devnet","title":"Get started with Chainweb EVM","description":"Deploy a private Chainweb EVM node to set up a local development network for testing.","source":"@site/docs/guides/nodes/evm-get-started.md","sourceDirName":"guides/nodes","slug":"/guides/nodes/evm-devnet","permalink":"/docs/guides/nodes/evm-devnet","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/guides/nodes/evm-get-started.md","tags":[{"inline":true,"label":"pact","permalink":"/docs/tags/pact"},{"inline":true,"label":"chainweb","permalink":"/docs/tags/chainweb"},{"inline":true,"label":"network","permalink":"/docs/tags/network"},{"inline":true,"label":"node operator","permalink":"/docs/tags/node-operator"}],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Get started with Chainweb EVM","description":"Deploy a private Chainweb EVM node to set up a local development network for testing.","id":"evm-devnet","sidebar_position":2,"tags":["pact","chainweb","network","node operator"]},"sidebar":"default","previous":{"title":"Manage node databases","permalink":"/docs/guides/nodes/manage-databases"},"next":{"title":"Testnet deployment guide","permalink":"/docs/guides/nodes/howto-evm"}}');var o=t(74848),i=t(28453);const s={title:"Get started with Chainweb EVM",description:"Deploy a private Chainweb EVM node to set up a local development network for testing.",id:"evm-devnet",sidebar_position:2,tags:["pact","chainweb","network","node operator"]},r="Get started with Kadena Chainweb EVM",c={},d=[{value:"How it works",id:"how-it-works",level:2},{value:"Chainweb EVM development environment",id:"chainweb-evm-development-environment",level:2},{value:"What&#39;s included in the repository",id:"whats-included-in-the-repository",level:2},{value:"Prerequisites and system requirements",id:"prerequisites-and-system-requirements",level:2},{value:"Quick start",id:"quick-start",level:2},{value:"Restarting the development network",id:"restarting-the-development-network",level:3},{value:"Stopping the development network",id:"stopping-the-development-network",level:3},{value:"Modifying the network configuration",id:"modifying-the-network-configuration",level:3},{value:"Test the sample Solidity project",id:"test-the-sample-solidity-project",level:2},{value:"Installing dependencies",id:"installing-dependencies",level:3},{value:"Running tests",id:"running-tests",level:3},{value:"Deploying",id:"deploying",level:3},{value:"Starting a local node",id:"starting-a-local-node",level:3},{value:"Integrating with other Hardhat projects",id:"integrating-with-other-hardhat-projects",level:2},{value:"Modifying the Hardhat project",id:"modifying-the-hardhat-project",level:3},{value:"Compiling and testing integration",id:"compiling-and-testing-integration",level:3},{value:"Specifying the Chainweb EVM development environment",id:"specifying-the-chainweb-evm-development-environment",level:3},{value:"Signing transactions and switching chains",id:"signing-transactions-and-switching-chains",level:2},{value:"Blockscout",id:"blockscout",level:2},{value:"Account allocations in the development network",id:"account-allocations-in-the-development-network",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"get-started-with-kadena-chainweb-evm",children:"Get started with Kadena Chainweb EVM"})}),"\n",(0,o.jsx)(n.p,{children:"The Kadena network relies on nodes that run the Chainweb consensus protocol.\nWhen Ethereum transitioned from a Proof-of-Work consensus model to a Proof-of-Stake consensus model, it effectively split the blockchain into separate consensus and execution layers.\nThis change to the architecture enabled the Ethereum Virtual Machine (EVM) to provide an execution environment that is agnostic about the underlying consensus.\nBecause the execution layer operates independently, Chainweb nodes can provide the same EVM execution environment running in parallel with Pact while maintaining the Chainweb Proof-of-Work consensus, security, and decentralization over a multi-chain network."}),"\n",(0,o.jsx)(n.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,o.jsxs)(n.p,{children:["The Chainweb consensus protocol enables multiple independent chains to share a common view of state beyond a certain block depth.\nThis common view of state enables any chain in the network to verify whether historical events beyond the required block depth occurred on any other chain.\nFor example, if a transaction occurs on chain 3, chain 3 can produce a ",(0,o.jsx)(n.a,{href:"https://wiki.bitcoinsv.io/index.php/Simplified_Payment_Verification",children:"simple payment verification (SPV) proof"})," that chain 6 can verify by checking the shared history.\nThe only requirement for verifying the transaction is that the proof must be conveyed from the original chain, in this example, chain 3\u2014to the target chain, in this example, chain 6."]}),"\n",(0,o.jsx)(n.p,{children:"With this approach, security relies strictly on the shared consensus across the chains in the network.\nThere are no relayers, oracles, validators, archives, or third-party coordinators."}),"\n",(0,o.jsx)(n.p,{children:"The chains in the Kadena Chainweb EVM network run in parallel, but independently, allowing for concurrent transaction processing without the risk of collisions or delays.\nBecause Chainweb provides a single common view of state, global security, and concurrent payload processing, Kadena Chainweb EVM enables cross-chain transactions to be executed more efficiently and at a lower cost than traditional bridging techniques."}),"\n",(0,o.jsx)(n.p,{children:"At a high level, Kadena Chainweb EVM supports cross-chain activity in three main steps:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"An event occurs on a source chain."}),"\n",(0,o.jsxs)(n.p,{children:["For a cross-chain transfer, a user ",(0,o.jsx)(n.em,{children:"initiates"})," a transaction to transfer tokens from a source chain using a smart contract.\nThe smart contract emits a well-defined cross-chain event."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"An off-chain endpoint generates proof of a specific event."}),"\n",(0,o.jsxs)(n.p,{children:["For a cross-chain transfer, a user ",(0,o.jsx)(n.em,{children:"queries"})," an endpoint that generates a simple payment verification proof or another type of proof that can be validated.\nThe proof must encode all of the information required to uniquely identify the event on the source chain and the contract on the target chain."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"The event is observed on the target chain."}),"\n",(0,o.jsxs)(n.p,{children:["For a cross-chain transfer, a user ",(0,o.jsx)(n.em,{children:"relays"})," the proof to the target chain, where it is verified against the history shared by the source and target chains.\nBy checking the shared history, the contract on the target chain validates that the transfer event claimed by the user occurred on the source chain.\nThe smart contract on the target chain completes the transaction, for example, by minting the number of tokens transferred from the source chain."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"chainweb-evm-development-environment",children:"Chainweb EVM development environment"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"https://github.com/kadena-io/kadena-evm-sandbox",children:"kadena-evm-sandbox"})," repository provides tools and configuration files for developers interested in setting up a private local development environment for testing the Ethereum Virtual Machine (EVM) execution environment running on ",(0,o.jsx)(n.a,{href:"https://kadena.io/chainweb",children:"Chainweb nodes"})," that provide the infrastructure for the ",(0,o.jsx)(n.a,{href:"https://kadena.io",children:"Kadena"})," blockchain network."]}),"\n",(0,o.jsxs)(n.p,{children:["The repository includes a default configuration for a ",(0,o.jsx)(n.code,{children:"docker compose"})," image that is optimized for basic frontend development with an EVM-compatible node as the backend.\nThe default configuration includes chains 0 through 19 for Pact smart contracts and chains 20 though 24 for Solidity contracts."]}),"\n",(0,o.jsx)(n.h2,{id:"whats-included-in-the-repository",children:"What's included in the repository"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"kadena-evm-sandbox"})," repository provides everything you need to set up a local Kadena ",(0,o.jsx)(n.strong,{children:"development network"})," that runs a single ",(0,o.jsx)(n.strong,{children:"Chainweb node"})," with core backend services and a ",(0,o.jsx)(n.strong,{children:"mining client"}),".\nThe default configuration for the development network provides five chains that use EVM as the payload provider for processing transactions."]}),"\n",(0,o.jsx)(n.p,{children:"The repository includes the following directories and components:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Name"}),(0,o.jsx)(n.th,{children:"What it provides"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"allocations"}),(0,o.jsx)(n.td,{children:"Files to set up an ethers project that describes a set of BIP-44 wallets and allocations to be created in the genesis block for the development network."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"apps"}),(0,o.jsx)(n.td,{children:"Files to set up the contract, server, and frontend application that demonstrates cross-chain transactions."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"blockscout"}),(0,o.jsxs)(n.td,{children:["Files to set up an optional block explorer for the EVM chains in the development network. ",(0,o.jsx)(n.a,{href:"https://www.blockscout.com/",children:"Blockscout"})," instances provide an explorer interface and API similar to ",(0,o.jsx)(n.a,{href:"https://etherscan.io",children:"Etherscan"}),"."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"devnet"}),(0,o.jsx)(n.td,{children:"A Docker compose project and files to set up the Chainweb node services for the development network."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"docker\u2011bake.hcl"}),(0,o.jsx)(n.td,{children:"A script to build multi-platform images for the development network Docker compose project."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"docs"}),(0,o.jsx)(n.td,{children:"Technical documentation about the functions and events proposed for the Kadena Chainweb EVM cross-chain bridging protocol in draft form."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"network"}),(0,o.jsx)(n.td,{children:"An optional command-line program for starting, stopping, and monitoring the Kadena Chainweb EVM development network."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"solidity"}),(0,o.jsx)(n.td,{children:"A Hardhat project that demonstrates the implementation of a simple ERC-20 token with support for burn and mint style transfers between the two EVM chains in the network."})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites-and-system-requirements",children:"Prerequisites and system requirements"}),"\n",(0,o.jsx)(n.p,{children:"Before you set up the Kadena Chainweb EVM development environment, verify that your local computer has the required tools installed and meets the following basic requirements:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["You must have ",(0,o.jsx)(n.a,{href:"https://www.docker.com",children:"Docker"})," and ",(0,o.jsx)(n.a,{href:"https://docs.docker.com/compose/",children:"Docker Compose"})," or an Open Container Initiative (OCI) compliant alternative."]}),"\n",(0,o.jsx)(n.li,{children:"You must have at least 4 CPU cores and 8 GB of memory available for Docker.\nYou can configure CPU and memory for Docker using command-line options or Resource settings."}),"\n",(0,o.jsx)(n.li,{children:"You must have a network connection to download the container images for the development network."}),"\n",(0,o.jsx)(n.li,{children:"You must have a POSIX-compliant terminal shell for running command-line programs and scripts."}),"\n",(0,o.jsxs)(n.li,{children:["You should have ",(0,o.jsx)(n.code,{children:"bash"})," and ",(0,o.jsx)(n.a,{href:"https://jqlang.org",children:"jq"})," programs installed."]}),"\n",(0,o.jsxs)(n.li,{children:["You must have JavaScript tooling installed, including ",(0,o.jsx)(n.a,{href:"https://nodejs.org",children:"Node.js"})," version ",(0,o.jsx)(n.code,{children:"v22"}),", the ",(0,o.jsx)(n.a,{href:"https://www.npmjs.com",children:"npm"})," or ",(0,o.jsx)(n.a,{href:"https://yarnpkg.com/",children:"yarn"})," package manager, and ",(0,o.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v8/commands/npx",children:"npx"})," to deploy Solidity contracts with Hardhat."]}),"\n",(0,o.jsx)(n.li,{children:"You must have at least 6 CPU cores and 12 GB of memory available for Docker to run the Blockscout block explorer."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"quick-start",children:"Quick start"}),"\n",(0,o.jsx)(n.p,{children:"To download and install the Chainweb EVM development network:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Open a terminal shell on your computer."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Clone the ",(0,o.jsx)(n.a,{href:"https://github.com/kadena-io/kadena-evm-sandbox",children:"kadena-evm-sandbox"})," repository and change to the ",(0,o.jsx)(n.code,{children:"kadena-evm-sandbox"})," directory by running the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"git clone https://github.com/kadena-io/kadena-evm-sandbox && cd kadena-evm-sandbox\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"kadena-evm-sandbox"})," directory includes the ",(0,o.jsx)(n.code,{children:"network"})," command-line program that you can use to perform common tasks to manage and monitor the development network.\nThe ",(0,o.jsx)(n.code,{children:"network"})," program supports commands that are similar to Docker commands.\nYou can explore all of the commands available by running the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network help\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Pull the latest container images using the ",(0,o.jsx)(n.code,{children:"network"})," command-line program by running the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network devnet pull\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You can execute ",(0,o.jsx)(n.code,{children:"network"})," commands for convenience or use ",(0,o.jsx)(n.code,{children:"docker"})," commands directly.\nPulling the latest container images isn't strictly required, but it's recommended before you start the development network for the first time."]}),"\n",(0,o.jsx)(n.p,{children:"You should see output similar to the following:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"[+] Pulling 10/10\n \u2714 bootnode-evm-22 Skipped - Image is already being pulled by bootnode-evm-21               0.0s\n \u2714 bootnode-evm-20 Skipped - Image is already being pulled by bootnode-evm-21               0.0s \n \u2714 bootnode-evm-24 Skipped - Image is already being pulled by bootnode-evm-21               0.0s \n \u2714 bootnode-evm-23 Skipped - Image is already being pulled by bootnode-evm-21               0.0s \n \u2714 bootnode-mining-client Pulled                                                            1.7s\n \u2714 allocations Pulled                                                                       1.7s\n \u2714 bootnode-frontend Pulled                                                                 1.7s\n \u2714 bootnode-mining-trigger Pulled                                                           1.8s\n \u2714 bootnode-evm-21 Pulled                                                                   1.7s\n \u2714 bootnode-consensus Pulled                                                                1.8s\n   \u2714 63467be34da6 Pull complete                                                            34.9s \n   \u2714 036ac59a35be Pull complete                                                             6.4s \n   \u2714 4a057fff0021 Pull complete                                                             6.3s \n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Start the network by running the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network devnet start\n"})}),"\n",(0,o.jsx)(n.p,{children:"This command starts the development blockchain and allocates the test account addresses.\nYou should see output similar to the following excerpt:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"[+] Running 3/4\n \u2714 Network chainweb-evm_bootnode-internal      Create...                                    0.1s \n \u2714 Network chainweb-evm_p2p                    Created                                      0.0s \n \u2714 Network chainweb-evm_bootnode-frontend      Create...                                    0.0s \n \u280b Volume \"chainweb-evm_bootnode-evm-22_data\"  Cr...                                        0.0s\n...\n \u2714 Container bootnode-evm-23                   Started                                      1.2s\n \u2714 Container bootnode-evm-20                   Started                                      1.2s\n \u2714 Container bootnode-evm-22                   Started                                      1.3s \n \u2714 Container bootnode-evm-24                   Started                                      1.7s \n \u2714 Container bootnode-evm-21                   Started                                      1.2s \n \u2714 Container bootnode-allocations              Started                                      1.5s \n \u2714 Container bootnode-consensus                Healthy                                      9.3s \n \u2714 Container bootnode-frontend                 Started                                      9.7s \n \u2714 Container bootnode-mining-trigger           Started                                      9.5s \n \u2714 Container bootnode-mining-client            Started                                      9.6s \n[+] Creating 1/1\n \u2714 Container bootnode-evm-20    Running                                                     0.0s \nwallets created: {\n  alloc0: {\n    address: '0x8849BAbdDcfC1327Ad199877861B577cEBd8A7b6',\n    privateKey: '0xe711c50150f500fdebec57e5c299518c2f7b36271c138c55759e5b4515dc7161'\n  },\n...\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Check that blocks are being produced by running the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network devnet status\n"})}),"\n",(0,o.jsx)(n.p,{children:"This command displays the current block height and cut height for the development network with output similar to the following excerpt:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"Node: bootnode-consensus\nchain        height  hash                                         type\n0            36      G1BY2DprJ6ULTaPOt67XEDtjw03gVgu4IHXsYhHgUfs  default\n1            35      Euw83eOfY1DTbQIHOnETvNYjAW6hvxMZ4RDeZWsmuzI  default\n2            36      dPs3Tj6ug0c7NyG0v-XbyZdXh2QZh_WvyvZHu6uk4_I  default\n3            36      OoC9hTEJmPVj3pMcjPwM0qofXS4wN4172aL5ffN2om4  default\n4            36      GKNU8tzdtLNXudlvRv5orVQ8bFXN0F7pQ63MlavtE88  default\n...\n20           37      dsrjWRrIgsezR2InWb3EzMml28owAmIQLh20fdHVrqs  evm\n21           36      j9fI_MQEYboaqx2qu2MtyBjKGTsJHb9FMq8ktVPq4zw  evm\n22           36      _6quxrPShEpb0hyd3jB2VNdlQq2xmsPZFOgku4iA5SY  evm\n23           37      Q_muuzU3TUZH0n1kP74tmW7VMIuelsrlGRW8TnYwqVE  evm\n24           36      pUattWugcCjy_2_0ejgTx1SqaeHGvtV_nWA_Fc5PGnw  evm\n...\ncut-height:  3529\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You can call the ",(0,o.jsx)(n.code,{children:"./network devnet status"})," command repeatedly to verify that the block height and cut height values are increasing."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"restarting-the-development-network",children:"Restarting the development network"}),"\n",(0,o.jsxs)(n.p,{children:["If the development network stops producing blocks or seems stuck, you can restart the ",(0,o.jsx)(n.code,{children:"bootnode-consensus"})," service without stopping or restarting other network components."]}),"\n",(0,o.jsx)(n.p,{children:"To restart the development network:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network devnet restart\n"})}),"\n",(0,o.jsx)(n.h3,{id:"stopping-the-development-network",children:"Stopping the development network"}),"\n",(0,o.jsx)(n.p,{children:"When you're finished testing, you can shut down the development network, remove all containers, and reset the database to a clean state."}),"\n",(0,o.jsx)(n.p,{children:"To shut down the network and remove containers:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network devnet stop\n"})}),"\n",(0,o.jsx)(n.p,{children:"In some cases, you might find that stopping or restarting the network fails to return the container to a clean state.\nIf this problem occurs, run the following command to forcibly remove orphan processes:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose down --volumes --remove-orphans\n"})}),"\n",(0,o.jsx)(n.p,{children:"After removing all containers and processes, you should be able to restart the network in a clean state."}),"\n",(0,o.jsx)(n.h3,{id:"modifying-the-network-configuration",children:"Modifying the network configuration"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"devnet"})," folder in the ",(0,o.jsx)(n.code,{children:"kadena-evm-sandbox"})," repository includes a Python script, ",(0,o.jsx)(n.code,{children:"compose.py"}),", that generates the ",(0,o.jsx)(n.code,{children:"docker-compose.yaml"})," file for the Chainweb EVM Docker Compose project.\nThe ",(0,o.jsx)(n.code,{children:"compose.py"})," script automates the creation of the ",(0,o.jsx)(n.code,{children:"docker-compose.yaml"})," file with different configuration settings for the following predefined ",(0,o.jsx)(n.code,{children:"project"})," use cases:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"app-dev"})," project generates a configuration file optimized for application development with a single full-service bootstrap node.\nThis configuration produces blocks at a fixed rate of two seconds per chain, has mining enabled, and exposes the Chainweb service API on the chains you specify as command-line arguments."]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"kadena-dev"})," project generates a configuration file that simulates a production environment with four node roles: one bootstrap node, one application development node, and two mining nodes.\nThis configuration is optimized for testing and debugging Chainweb node backend services, such as consensus and peer-to-peer networking."]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"minimal"})," project generates a configuration file for a minimal development environment with one bootstrap node and simulated mining."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["To generate a ",(0,o.jsx)(n.code,{children:"docker-compose.yaml"})," for one of the predefined project use cases, add the ",(0,o.jsx)(n.code,{children:"--project"})," command-line option and the use case project name to the ",(0,o.jsx)(n.code,{children:"compose.py"})," script.\nFor example, you can run the following command to generate a ",(0,o.jsx)(n.code,{children:"docker-compose.yaml"})," file that simulates a production environment and then starts the network using that configuration:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"python3.13 compose.py --project kadena-dev > docker-compose.yaml && docker compose up -d\n"})}),"\n",(0,o.jsxs)(n.p,{children:["To generate a ",(0,o.jsx)(n.code,{children:"docker-compose.yaml"})," that's optimized for application development, you can run a command similar to the following:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'python3.13 compose.py --project app-dev --exposed-chains "3, 20" > docker-compose.yaml && docker compose up -d\n'})}),"\n",(0,o.jsxs)(n.p,{children:["This example only exposes the Chainweb service API on one Pact chain (3) and one EVM chain (20).\nYou can run ",(0,o.jsx)(n.code,{children:"compose.py"})," script to generate the ",(0,o.jsx)(n.code,{children:"docker-compose.yaml"})," file for any of the predefined project configurations.\nAlternatively, you can modify the ",(0,o.jsx)(n.code,{children:"compose.py"})," script or write your own script to customize the development environment settings you want to use."]}),"\n",(0,o.jsx)(n.h2,{id:"test-the-sample-solidity-project",children:"Test the sample Solidity project"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"solidity"})," directory provides an example of a simple Hardhat project with a Hardhat configuration file, Solidity smart contract, and test files.\nThe project is also configured by default use to the ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," and ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-kadena-create2"})," Hardhat v2 plugins."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," plugin simplifies deployment to multiple chains without requiring you to configure individual chains as external networks when using Hardhat v2, and later.\nThe plugin also supports smart contract verification.\nThe ",(0,o.jsx)(n.code,{children:"sandbox"})," configuration settings in the Hardhat configuration file for the ",(0,o.jsx)(n.code,{children:"solidity"})," project provide an example of using the ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," plugin to define a five-chain network."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-kadena-create2"})," supports Create2 to enable you to deploy a smart contract with the same address on all chains."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"solidity"})," project also includes a ",(0,o.jsx)(n.code,{children:"devnet-accounts.json"})," file with account information generated from a test BIP-44 wallet using a seed entropy value of ",(0,o.jsx)(n.code,{children:"0x0000 0000 0000 0000 0000 0000 0000 0000"})," (16 zero bytes).\nThe Hardhat configuration file reads this account information to generate accounts for you to use in the local ",(0,o.jsx)(n.code,{children:"sandbox"})," development network configuration."]}),"\n",(0,o.jsx)(n.h3,{id:"installing-dependencies",children:"Installing dependencies"}),"\n",(0,o.jsx)(n.p,{children:"You can install Hardhat and related dependencies in the development network, if needed, by running the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network solidity setup\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If the ",(0,o.jsx)(n.code,{children:"npm"})," package manager reports any issues, address them before continuing to the next step.\nFor example, you might be prompted to run ",(0,o.jsx)(n.code,{children:"npm audit fix"})," to address issues."]}),"\n",(0,o.jsx)(n.h3,{id:"running-tests",children:"Running tests"}),"\n",(0,o.jsxs)(n.p,{children:["You can develop, test, and deploy Solidity contracts using standard Hardhat commands.\nFor example, you can run the unit tests for the ",(0,o.jsx)(n.code,{children:"SimpleToken"})," contract against the internal Hardhat v2 network:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npx hardhat test\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"solidity"})," project also provides sample ",(0,o.jsx)(n.code,{children:"npm"})," scripts to perform common tasks.\nTo execute unit tests for the ",(0,o.jsx)(n.code,{children:"SimpleToken"})," contract using a sample ",(0,o.jsx)(n.code,{children:"npm"})," script, run:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run test\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"SimpleToken"})," tests deploy the sample ERC-20 token contract and check that token transfer operations succeed or revert as expected when tokens are transferred between addresses on two Chainweb EVM chains.\nFor example, you should see output similar to the following excerpt as tests are executed and new blocks are added to the chain:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"Chainweb:  hardhat  Chains:  5  \n\n[hardhat -] creating chains\n[hardhat -] integrating chains into Chainweb\n[hardhat -] Starting chain networks\nCreating provider\nCreating provider\n...\nTransferring 500000000000000000000 tokens from 20:0x5FbDB2315678afecb367f032d93F642f64180aa3:0x70997970C51812dc3A010C7d01b50e0d17dc79C8 to 21:0x5FbDB2315678afecb367f032d93F642f64180aa3:0x70997970C51812dc3A010C7d01b50e0d17dc79C8\nInitiating cross-chain transfer from chainweb_hardhat20 to chainweb_hardhat21\nSwitched to 20\n[hardhat 20] mining requested\n[hardhat 20] current height is 16\n[hardhat 21] current height is 15\n...\ntransfer-crosschain status: 1, at block number 17 with hash 0x2ac3ff7aa6dae262355da187088b9f79b70ac62309b1870a65765fea38a959e7\nfound log at tx 0 and event 1\nwaiting for SPV proof to become available on chain 21; current height 16; required height 18\n[hardhat 21] mining requested\n[hardhat 21] current height is 16\n[hardhat 22] current height is 15\n...\nwaiting for SPV proof to become available on chain 21; current height 17; required height 18\n[hardhat 21] mining requested\n[hardhat 21] current height is 17\n[hardhat 22] current height is 16\n...\nHex proof: 0x8b950f0e...01b1ae4d6e\nSwitched to 21\nRedeeming tokens on chain chainweb_hardhat21\n[hardhat 21] mining requested\n[hardhat 21] current height is 18\n[hardhat 20] current height is 17\n...\nresult at block height 19 received with status undefined\n   \u2714 Should transfer tokens to same address from one chain to another (239ms)\n...\n   38 passing (2m)\n   1 pending\n\n[hardhat -] Stopping chain networks\n[hardhat 20] Automine disabled\n[hardhat 21] Automine disabled\n"})}),"\n",(0,o.jsx)(n.h3,{id:"deploying",children:"Deploying"}),"\n",(0,o.jsxs)(n.p,{children:["To deploy the ",(0,o.jsx)(n.code,{children:"SimpleToken"})," contract against the local ",(0,o.jsx)(n.code,{children:"sandbox"})," development network using the ",(0,o.jsx)(n.code,{children:"npm"})," script, run:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run deploy sandbox\n"})}),"\n",(0,o.jsx)(n.p,{children:"To deploy deterministically with the same address on all chains using Create2, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run deploy-create2 sandbox\n"})}),"\n",(0,o.jsxs)(n.p,{children:["To deploy the ",(0,o.jsx)(n.code,{children:"SimpleToken"})," contract to the internal Hardhat network, run:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run deploy:hardhat\n"})}),"\n",(0,o.jsx)(n.p,{children:"To deploy deterministically with the same address on all chains using Create2, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run deploy-create2:hardhat\n"})}),"\n",(0,o.jsx)(n.h3,{id:"starting-a-local-node",children:"Starting a local node"}),"\n",(0,o.jsx)(n.p,{children:"To start a separate Hardhat node, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npx hardhat node\n"})}),"\n",(0,o.jsx)(n.p,{children:"After starting the node, open another terminal, then run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run deploy localhost\n"})}),"\n",(0,o.jsx)(n.p,{children:"To deploy deterministically with the same address on all chains using Create2, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run deploy-create2 localhost\n"})}),"\n",(0,o.jsx)(n.h2,{id:"integrating-with-other-hardhat-projects",children:"Integrating with other Hardhat projects"}),"\n",(0,o.jsx)(n.p,{children:"If you want to experiment with using the Chainweb EVM development environment with other Hardhat projects, you must configure the Hardhat project to connect to the Chainweb EVM development environment much like you would configure a project to connect to an external network.\nYou must also configure the Hardhat project to include account information\u2014addresses and balances\u2014for all available accounts."}),"\n",(0,o.jsxs)(n.p,{children:["You can use the ",(0,o.jsx)(n.code,{children:"solidity"})," project as a template for how configure your Hardhat environment to use the ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," plugin to develop, test, and deploy smart contracts using Hardhat v2 into local, test, and production Chainweb networks."]}),"\n",(0,o.jsxs)(n.p,{children:["After a project is configured to use the Chainweb EVM development configuration settings and accounts, you can compile, test, and deploy the project using standard Hardhat commands.\nYou can also compile, test, and deploy using any of the sample ",(0,o.jsx)(n.code,{children:"npm"})," scripts included in the ",(0,o.jsx)(n.code,{children:"solidity"})," project."]}),"\n",(0,o.jsxs)(n.p,{children:["The project includes the following ",(0,o.jsx)(n.code,{children:"npm"})," scripts to perform common tasks:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'"scripts": {\n  "build": "npx hardhat compile",\n  "test": "npx hardhat test",\n  "deploy:hardhat": "hardhat compile && npx hardhat run scripts/deploy.js",\n  "deploy-create2:hardhat": "hardhat compile && npx hardhat run scripts/deploy-using-create2.js",\n  "deploy": "hardhat compile && npx hardhat run scripts/deploy.js --chainweb",\n  "deploy-create2": "hardhat compile && npx hardhat run scripts/deploy-using-create2.js --chainweb"\n},\n'})}),"\n",(0,o.jsxs)(n.p,{children:["With these scripts, you can compile, test, and deploy the ",(0,o.jsx)(n.code,{children:"SimpleToken"})," using ",(0,o.jsx)(n.code,{children:"npm run"})," commands.\nFor example, you can deploy a project with the same address on all chains by running the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run deploy-create2 sandbox\n"})}),"\n",(0,o.jsx)(n.h3,{id:"modifying-the-hardhat-project",children:"Modifying the Hardhat project"}),"\n",(0,o.jsx)(n.p,{children:"To integrate with the Chainweb EVM development network:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Copy the ",(0,o.jsx)(n.code,{children:"solidity/devnet-accounts.json"})," file into the root directory of your Hardhat project."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Install the ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," and ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-kadena-create2"})," plugins in the root directory of your project:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm install @kadena/hardhat-chainweb @kadena/hardhat-kadena-create2\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Open the ",(0,o.jsx)(n.code,{children:"hardhat.config.js"})," or ",(0,o.jsx)(n.code,{children:"hardhat.config.ts"})," file for your Hardhat project in your code editor."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Copy and paste the code to import plugins and read account information from the ",(0,o.jsx)(n.code,{children:"solidity/hardhat.config.js"})," file into the Hardhat configuration file for your project."]}),"\n",(0,o.jsx)(n.p,{children:"For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'require("@nomicfoundation/hardhat-toolbox");\nrequire(\'@kadena/hardhat-chainweb\');\nrequire(\'@kadena/hardhat-kadena-create2\');\nrequire("hardhat-switch-network");\nrequire("@nomicfoundation/hardhat-verify");\n\nconst { readFileSync } = require("fs");\n\nconst devnetAccounts = JSON.parse(\n  readFileSync("./devnet-accounts.json", "utf-8")\n);\n'})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Copy and paste the code to configure network information from the ",(0,o.jsx)(n.code,{children:"solidity/hardhat.config.js"})," file into the Hardhat configuration file for your project."]}),"\n",(0,o.jsx)(n.p,{children:"For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"chainweb: {\n     hardhat: {\n       chains: 2,\n   },\n   sandbox: {\n     type: 'external',\n     chains: 5,\n     accounts: devnetAccounts.accounts.map((account) => account.privateKey),\n     chainIdOffset: 1789,\n     chainwebChainIdOffset: 20,\n     externalHostUrl: \"http://localhost:1848/chainweb/0.0/evm-development/\"\n   }\n },\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Be sure to include the ",(0,o.jsx)(n.code,{children:"accounts"})," key with mapping for accounts to private keys in the Chainweb EVM configuration settings."]}),"\n",(0,o.jsxs)(n.p,{children:["You can also modify the configuration settings in the ",(0,o.jsx)(n.code,{children:"hardhat.config.js"})," or ",(0,o.jsx)(n.code,{children:"hardhat.config.ts"})," file to customize the development environment to suit your needs.\nFor example, if you want the ",(0,o.jsx)(n.code,{children:"sandbox"})," configuration to have two EVM chains instead of five, modify the ",(0,o.jsx)(n.code,{children:"chains"})," setting:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"...\nsandbox: {\n   type: 'external',\n   chains: 2,\n   accounts: devnetAccounts.accounts.map((account) => account.privateKey),\n...\n}  \n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["(Optional) Copy and paste the code to configure ",(0,o.jsx)(n.code,{children:"etherscan"})," settings from the ",(0,o.jsx)(n.code,{children:"solidity/hardhat.config.js"})," file to use Blockscout into the ",(0,o.jsx)(n.code,{children:"hardhat.config.js"})," or ",(0,o.jsx)(n.code,{children:"hardhat.config.ts"})," file for your project."]}),"\n",(0,o.jsx)(n.p,{children:"Note that you must configure these settings if you want Blockscout to verify your smart contract."}),"\n",(0,o.jsx)(n.p,{children:"For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"etherscan: {\n  apiKey: 'abc', // Any non-empty string works for Blockscout\n  apiURLTemplate: 'http://chain-{cid}.evm.kadena.internal:8000/api/',\n  browserURLTemplate: 'http://chain-{cid}.evm.kadena.internal:8000/',\n},\n"})}),"\n",(0,o.jsxs)(n.p,{children:["After updating the Hardhat configuration file, you should have a ",(0,o.jsx)(n.code,{children:"hardhat.config.js"})," or ",(0,o.jsx)(n.code,{children:"hardhat.config.ts"})," file with configuration settings similar to the following:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:" sandbox: {\n   type: 'external',\n   chains: 5,\n   accounts: devnetAccounts.accounts.map((account) => account.privateKey),\n   chainIdOffset: 1789,\n   chainwebChainIdOffset: 20,\n   externalHostUrl: \"http://localhost:1848/chainweb/0.0/evm-development\",\n   etherscan: {\n     apiKey: 'abc', // Any non-empty string works for Blockscout\n     apiURLTemplate: 'http://chain-{cid}.evm.kadena.internal:8000/api/',\n     browserURLTemplate: 'http://chain-{cid}.evm.kadena.internal:8000/',\n   },\n},\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Save your changes and close the ",(0,o.jsx)(n.code,{children:"hardhat.config.js"})," or ",(0,o.jsx)(n.code,{children:"hardhat.config.ts"})," file."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"compiling-and-testing-integration",children:"Compiling and testing integration"}),"\n",(0,o.jsxs)(n.p,{children:["After configuring your Hardhat project to use the Chainweb EVM development environment, you can compile, test, and deploy the project using standard ",(0,o.jsx)(n.code,{children:"hardhat"})," commands.\nFor example, you can compile the project by running the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npx hardhat compile\n"})}),"\n",(0,o.jsx)(n.p,{children:"You should see that your project compiles successfully:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"Compiled 1 Solidity file successfully (evm target: prague).\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Alternatively, you can use the ",(0,o.jsx)(n.code,{children:"npm"})," convenience scripts.\nFor example, to deploy a Hardhat project on the Chainweb EVM you have configured for development:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npm run deploy:hardhat\n"})}),"\n",(0,o.jsx)(n.h3,{id:"specifying-the-chainweb-evm-development-environment",children:"Specifying the Chainweb EVM development environment"}),"\n",(0,o.jsxs)(n.p,{children:["One of the primary advantages of using the ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," plugin is that it is specifically designed to enable you to interact with multiple Chainweb chains.\nBy default, you can configure multiple networks for Hardhat, but not multiple chains in the same network.\nWith the ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," plugin, you can configure the Chainweb EVM development environment to run as a typical Hardhat network.\nYou can maintain Hardhat as the default network and deploy a project using a specific set of Chainweb EVM configuration settings\u2014like the ",(0,o.jsx)(n.code,{children:"sandbox"})," settings in the ",(0,o.jsx)(n.code,{children:"solidity"})," project\u2014with a command like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npx hardhat run scripts/deploy.js --chainweb sandbox\n"})}),"\n",(0,o.jsxs)(n.p,{children:["In this command, the ",(0,o.jsx)(n.code,{children:"--chainweb"})," command-line option behaves like the Hardhat ",(0,o.jsx)(n.code,{children:"--network"})," option to specify the environment you want to deploy into.\nIf you want to deploy into the Chainweb EVM ",(0,o.jsx)(n.code,{children:"sandbox"})," environment by default, you can add a ",(0,o.jsx)(n.code,{children:"defaultChainweb"})," key to your Hardhat configuration file."]}),"\n",(0,o.jsxs)(n.p,{children:["To run scripts against the Chainweb EVM development ",(0,o.jsx)(n.code,{children:"sandbox"})," environment:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Open the ",(0,o.jsx)(n.code,{children:"hardhat.config.js"})," or ",(0,o.jsx)(n.code,{children:"hardhat.config.ts"})," file for your Hardhat project in your code editor."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Add ",(0,o.jsx)(n.code,{children:"defaultChainweb"})," to the network settings:"]}),"\n",(0,o.jsx)(n.p,{children:"For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"chainweb: {\n   hardhat: {\n     chains: 2,\n   },\n sandbox: {\n   type: 'external',\n   chains: 5,\n   accounts: devnetAccounts.accounts.map((account) => account.privateKey),\n   chainIdOffset: 1789,\n   chainwebChainIdOffset: 20,\n   externalHostUrl: \"http://localhost:1848/chainweb/0.0/evm-development/\"\n },\n},\ndefaultChainweb: 'sandbox',\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Run ",(0,o.jsx)(n.code,{children:"hardhat"})," deployment script or the ",(0,o.jsx)(n.code,{children:"npm run deploy"})," command:"]}),"\n",(0,o.jsxs)(n.p,{children:["For example, if you are using a ",(0,o.jsx)(n.code,{children:"hardhat"})," deployment script:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"npx hardhat run scripts/deploy.js\n"})}),"\n",(0,o.jsxs)(n.p,{children:["For more information and examples of using the ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," plugin, see the Kadena ",(0,o.jsx)(n.a,{href:"https://www.npmjs.com/package/@kadena/hardhat-chainweb",children:"Hardhat Chainweb plugin"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["For more information about deterministic deployment to Chainweb EVM chains, see the Kadena ",(0,o.jsx)(n.a,{href:"https://www.npmjs.com/package/@kadena/hardhat-kadena-create2",children:"Hardhat Create2 plugin"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"signing-transactions-and-switching-chains",children:"Signing transactions and switching chains"}),"\n",(0,o.jsxs)(n.p,{children:["By default, when you call a Solidity smart contract from a test file or a script using ",(0,o.jsx)(n.code,{children:"ethers"}),", the transaction is executed by the first signer address and private key for the local development environment.\nThis is true whether the local development environment is the default Hardhat network or the Kadena Chainweb EVM development environment.\nFor example, the following ",(0,o.jsx)(n.code,{children:"transferCrossChain"})," transaction is signed by the account that corresponds to the first address in the list of addresses for the current network context:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const tx = await token0.transferCrossChain(receiver.address, amount, token1Info.chain);\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This address is the ",(0,o.jsx)(n.code,{children:"msg.sender"})," for the transaction and is displayed as the ",(0,o.jsx)(n.strong,{children:"deploying signer"})," when you execute the ",(0,o.jsx)(n.code,{children:"SimpleToken"})," tests.\nThe address is retrieved by calling the ",(0,o.jsx)(n.code,{children:"getSigners"})," function in the ",(0,o.jsx)(n.code,{children:"solidity/test/utils/utils.js"})," file."]}),"\n",(0,o.jsxs)(n.p,{children:["Typically, if you wanted to call a smart contract function using a different signer\u2014for example, ",(0,o.jsx)(n.code,{children:"alice"}),"\u2014you could call the function like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const tx = await token0.connect(alice).transferCrossChain(receiver.address, amount, token1Info.chain);\n"})}),"\n",(0,o.jsxs)(n.p,{children:["In ",(0,o.jsx)(n.code,{children:"ethers"})," tests, this call creates a new contract instance using the new signer ",(0,o.jsx)(n.code,{children:"alice"})," in the background.\nIt's important to note, however, that the signer address always has a ",(0,o.jsx)(n.strong,{children:"network context"})," associated with it."]}),"\n",(0,o.jsx)(n.p,{children:"For contracts deployed on Chainweb EVM, the network context is slightly more complex because you must know the Chainweb chain identifier where the contract is deployed to get the correct signing address."}),"\n",(0,o.jsxs)(n.p,{children:["For example, if you want to call a contract with a specific signer, you must call ",(0,o.jsx)(n.code,{children:"await chainweb.switchChain(chainId);"})," to switch to the correct chain so that you get signers with the correct network context for that chain."]}),"\n",(0,o.jsxs)(n.p,{children:["However, if you install the ",(0,o.jsx)(n.code,{children:"@kadena/hardhat-chainweb"})," plugin, you can use the ",(0,o.jsx)(n.code,{children:"runOverChains"})," function to handle the chain switching for you.\nYou can find examples of switching chains in the ",(0,o.jsx)(n.code,{children:"solidity/test/SimpleToken.test.js"})," and ",(0,o.jsx)(n.code,{children:"solidity/test/SimpleToken.integration.test.js"})," test files."]}),"\n",(0,o.jsx)(n.h2,{id:"blockscout",children:"Blockscout"}),"\n",(0,o.jsxs)(n.p,{children:["You can explore the Chainweb EVM development network chains using the optional ",(0,o.jsx)(n.a,{href:"https://blockscout.com",children:"Blockscout"})," application.\nBlockscout is a blockchain monitoring service that provides a user experience that is similar to ",(0,o.jsx)(n.a,{href:"https://etherscan.io",children:"Etherscan"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["For additional information, see the ",(0,o.jsx)(n.a,{href:"https://github.com/blockscout/blockscout",children:"Blockscout README"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"To use Blockscout:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Open a terminal shell and change to the ",(0,o.jsx)(n.code,{children:"kadena-evm-sandbox"})," directory, if needed."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Pull the latest images by running the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network blockscout pull\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Add blockscout domains to the ",(0,o.jsx)(n.code,{children:"/etc/hosts"})," file by running the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network blockscout add-domains\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This command adds the following records to the ",(0,o.jsx)(n.code,{children:"/etc/hosts"})," file:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"127.0.0.1       chain-20.evm.kadena.local"}),"\n",(0,o.jsx)(n.li,{children:"127.0.0.1       chain-21.evm.kadena.local"}),"\n",(0,o.jsx)(n.li,{children:"127.0.0.1       chain-22.evm.kadena.local"}),"\n",(0,o.jsx)(n.li,{children:"127.0.0.1       chain-23.evm.kadena.local"}),"\n",(0,o.jsx)(n.li,{children:"127.0.0.1       chain-24.evm.kadena.local"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Start a Blockscout instance by running the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network blockscout start\n"})}),"\n",(0,o.jsx)(n.p,{children:"After running this command, it can take several minutes before you can open Blockscout in a browser."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Open the appropriate URL for the chain you want to explore:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"chain 20: http://chain-20.evm.kadena.local:8000\nchain 21: http://chain-21.evm.kadena.local:8000\nchain 22: http://chain-22.evm.kadena.local:8000\nchain 23: http://chain-23.evm.kadena.local:8000\nchain 24: http://chain-24.evm.kadena.local:8000\n"})}),"\n",(0,o.jsx)(n.p,{children:"You can view transactions executed on Chainweb EVM chains using Blockscout and the following URLs."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://chain-20.evm.kadena.local:8000",children:"Chainweb EVM chain 20"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://chain-21.evm.kadena.local:8000",children:"Chainweb EVM chain 21"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://chain-22.evm.kadena.local:8000",children:"Chainweb EVM chain 22"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://chain-23.evm.kadena.local:8000",children:"Chainweb EVM chain 23"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://chain-24.evm.kadena.local:8000",children:"Chainweb EVM chain 24"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"account-allocations-in-the-development-network",children:"Account allocations in the development network"}),"\n",(0,o.jsxs)(n.p,{children:["The chain specifications include the initial account allocations for the genesis block.\nAll of the initial accounts are generated from a BIP-44 wallet using a seed entropy value of ",(0,o.jsx)(n.code,{children:"0x0000 0000 0000 0000 0000 0000 0000 0000"})," (16 zero bytes).\nYou can view details about how the wallet is generated in the ",(0,o.jsx)(n.code,{children:"allocations/wallet.mjs"})," file."]}),"\n",(0,o.jsx)(n.p,{children:"You can view the addresses, private keys, and starting balances by running the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"./network devnet allocations\n"})}),"\n",(0,o.jsx)(n.p,{children:"The allocations in the genesis block use the following path values:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/0"})," (address: 0x8849BAbdDcfC1327Ad199877861B577cEBd8A7b6)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/1"})," (address: 0xFB8Fb7f9bdc8951040a6D195764905138F7462Ed)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/2"})," (address: 0x28f2d8ef4e0fe6B2E945cF5C33a0118a30a62354)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/3"})," (address: 0xa24a79678c9fffEF3E9A1f3cb7e51f88F173B3D5)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/4"})," (address: 0x47fAE86F6416e6115a80635238AFd2F18D69926B)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/5"})," (address: 0x87466A8266b9DFB3Dc9180a9c43946c4AB2c2cb2)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/6"})," (address: 0xA310Df9740eb6CC2F5E41C59C87e339142834eA4)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/7"})," (address: 0xD4EECE51cf451b60F59b271c5a748A8a9F16bC01)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/8"})," (address: 0xE08643a1C4786b573d739625FD268732dBB3d033)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/9"})," (address: 0x33018A42499f10B54d9dBCeBB71831C805D64cE3)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/10"})," (address: 0xa3659D39C901d5985450eE18a63B5b0811fDa521)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/11"})," (address: 0x7e99c2f1731D3750b74A2a0623C1F1DcB8cCa45e)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/12"})," (address: 0xFd70Bef78778Ce8554e79D97521b69183960C574)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/13"})," (address: 0xEE2722c39db6014Eacc5FBe43601136825b00977)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/14"})," (address: 0xeDD5a9185F9F1C04a011117ad61564415057bf8F)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/15"})," (address: 0x99b832eb3F76ac3277b00beADC1e487C594ffb4c)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/16"})," (address: 0xda1380825f827C6Ea92DFB547EF0a341Cbe21d77)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/17"})," (address: 0xc201d4A5E6De676938533A0997802634E859e78b)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/18"})," (address: 0x03e95Af0fC4971EdCa12E6d2d1540c28314d15d5)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/0'/0/19"})," (address: 0x3492DA004098d728201fD82657f1207a6E5426bd)"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The mining accounts are:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/1'/0/0"})," (address: 0xd42d71cdc2A0a78fE7fBE7236c19925f62C442bA)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"m/44'/1'/1'/0/1"})," (address: 0x38a6BD13CC381c68751BE2cef97BD79EBcb2Bb31)"]}),"\n"]})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var a=t(96540);const o={},i=a.createContext(o);function s(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);