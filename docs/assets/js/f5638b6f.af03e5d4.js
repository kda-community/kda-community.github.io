"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[999],{16484:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guides/nodes/configure","title":"Configure node settings","description":"You can customize many features and operations for any Chainweb node that you\'re responsible for managing, including local development nodes.","source":"@site/docs/guides/nodes/configure.mdx","sourceDirName":"guides/nodes","slug":"/guides/nodes/configure","permalink":"/docs/guides/nodes/configure","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/guides/nodes/configure.mdx","tags":[],"version":"current","frontMatter":{"title":"Configure node settings","id":"configure"},"sidebar":"default","previous":{"title":"Get started running a node","permalink":"/docs/guides/nodes/howto-node-operator"},"next":{"title":"Monitor node status","permalink":"/docs/guides/nodes/monitor"}}');var s=i(74848),o=i(28453);const a={title:"Configure node settings",id:"configure"},l="Configure node settings",r={},c=[{value:"Chainweb settings",id:"chainweb-settings",level:2},{value:"Database settings",id:"database-settings",level:2},{value:"Logging settings",id:"logging-settings",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"configure-node-settings",children:"Configure node settings"})}),"\n",(0,s.jsxs)(n.p,{children:["You can customize many features and operations for any Chainweb node that you're responsible for managing, including local development nodes.\nYou can review the current configuration for a node by displaying or generating a configuration file using the ",(0,s.jsx)(n.code,{children:"--print-config"})," command-line option.\nFor example, to display the current configuration settings as standard output, run the following command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./chainweb-node --print-config\n"})}),"\n",(0,s.jsx)(n.p,{children:"There are two ways you can modify chainweb-node configuration settings:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"By specifying command-line operations."}),"\n",(0,s.jsx)(n.li,{children:"By passing one or more configuraiton files when starting the node."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"To generate a configuration file that you can then edit, run a command similar to the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"./chainweb-node --print-config > chainweb-config.yaml\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This section provides an overview of settings you can modify in a configuration file.\nConfiguration settings are loaded in order first from one or more configuration file locations that you specify using ",(0,s.jsx)(n.code,{children:"--config-file"}),' options, then from the command-line options in the order you specify them.\nConfiguration settings that are loaded later overwrite settings that were previously loaded.\nYou can specify configuration file locations by providing local file system paths or remote HTTP or HTTPS URLs.\nRemote URLs must start with either "http://" or "https://".']}),"\n",(0,s.jsxs)(n.p,{children:["For information about modifying configuration settings by specifying command-line options, see ",(0,s.jsx)(n.a,{href:"/reference/chainweb-cli",children:"chainweb-node command-line"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"chainweb-settings",children:"Chainweb settings"}),"\n",(0,s.jsxs)(n.p,{children:["The following settings are defined as properties under the ",(0,s.jsx)(n.code,{children:"chainweb"})," key."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"chainweb:\n  allowReadsInLocal: false\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true if you want to allow read operations in local execution mode."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  backup:\n    api:\n      configuration: {}\n      enabled: false\n    directory: null\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set enabled to true to configure backup settings.\nBy default, the backup API is disabled and there's no backup directory specified."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  chainwebVersion: mainnet01\n"})}),"\n",(0,s.jsx)(n.p,{children:"Specifies the Chainweb network identifier.\nThe valid values are development, testnet04, testnet05, and mainnet01.\nThe default is mainnet01."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  cuts:\n    fastForwardBlockHeightLimit: null\n    fetchTimeout: 3000000\n    initialBlockHeightLimit: null\n    pruneChainDatabase: none\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In the Kadena network, a cut height represents the distributed state from a Chainweb node.\nYou can use the settings under the ",(0,s.jsx)(n.code,{children:"cut"})," key to control the following cut properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"fastForwardBlockHeightLimit to set a limit for fast-forwarding the block height (null means no limit)."}),"\n",(0,s.jsx)(n.li,{children:"fetchTimeout to set a tmeout for fetching cuts in microseconds."}),"\n",(0,s.jsx)(n.li,{children:"initialBlockHeightLimit to set an initial block height limit (null means no limit)."}),"\n",(0,s.jsx)(n.li,{children:"pruneChainDatabase to set a database pruning strategy. You can specify the pruning strategy as none, headers, headers-checked, or full."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  enableLocalTimeout: false\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to enable local timeout."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  fullHistoricPactState: true\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to maintain full historical Pact state."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  gasLimitOfBlock: 150000\n"})}),"\n",(0,s.jsx)(n.p,{children:"Sets the gas limit for each block."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  headerStream: false\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to enable header streaming for indexing or streaming data."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  logGas: false\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to log gas usage."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  mempoolP2p:\n    configuration:\n      maxSessionCount: 6\n      pollInterval: 30\n      sessionTimeout: 300\n    enabled: true\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can use the settings under the ",(0,s.jsx)(n.code,{children:"mempoolP2p"})," key to control the following peer-to-peer mempool properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"maxSessionCount to set the maximum number of concurrent sessions."}),"\n",(0,s.jsx)(n.li,{children:"pollInterval to set the interval for polling the mempool for pending transactions in seconds."}),"\n",(0,s.jsx)(n.li,{children:"sessionTimeout to set the session timeout in seconds."}),"\n",(0,s.jsx)(n.li,{children:"enabled to enable or disable the peer-to-peer mempool."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  minGasPrice: 1.0e-8\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set the minimum gas price."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  mining:\n    coordination:\n      enabled: false\n      limit: 1200\n      miners: []\n      payloadRefreshDelay: 15000000\n      updateStreamLimit: 2000\n      updateStreamTimeout: 240\n    nodeMining:\n      enabled: false\n      miner:\n        account: ''\n        predicate: keys-all\n        public-keys: []\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can use the settings under the ",(0,s.jsx)(n.code,{children:"mining"})," key to control the coordinated mining and node mining properties.\nIn this example, mining is disabled for the node."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  moduleCacheLimit: 62914560\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set the module cache limit in bytes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  onlySyncPact: false\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to only synchronize Pact data."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  p2p:\n    bootstrapReachability: 0.5\n    ignoreBootstrapNodes: false\n    maxPeerCount: 50\n    maxSessionCount: 10\n    peer:\n      certificateChain: null\n      certificateChainFile: null\n      hostaddress:\n        hostname: 0.0.0.0\n        port: 1789\n      interface: '*'\n      key: null\n      keyFile: null\n    peers: []\n    private: false\n    sessionTimeout: 240\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can use the settings under the ",(0,s.jsx)(n.code,{children:"p2p"})," key to control the following peer-to-peer properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"bootstrapReachability to set a threshold for bootstrap node reachability."}),"\n",(0,s.jsx)(n.li,{children:"maxPeerCount to set the maximum number of peers for the node to communicate with."}),"\n",(0,s.jsx)(n.li,{children:"peer to define specific peer settings including host address and port."}),"\n",(0,s.jsx)(n.li,{children:"peers to sepcify a list of known peers (empty here)."}),"\n",(0,s.jsx)(n.li,{children:"private to specify whether the node is private."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  pactQueueSize: 2000\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set the size of the Pact queue."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  preInsertCheckTimeout: 1000000\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set a timeout for pre-insert checks in microseconds."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  readOnlyReplay: false\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to enable read-only replay mode."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  reintroTxs: true\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to allow transactions to be reintroduced."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  reorgLimit: 480\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set the limit for chain reorganizations."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  serviceApi:\n    interface: '*'\n    payloadBatchLimit: 1000\n    port: 1848\n    validateSpec: false\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can use the settings under the ",(0,s.jsx)(n.code,{children:"serviceApi"})," key to control the following service API properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"interface to specify the network interface to bind to ('*' means all interfaces)."}),"\n",(0,s.jsx)(n.li,{children:"payloadBatchLimit to set the maximum number of payloads in a batch."}),"\n",(0,s.jsx)(n.li,{children:"port to specify the port number to use for the service API."}),"\n",(0,s.jsx)(n.li,{children:"validateSpec to specify whether to validate API specifications."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  syncPactChains: null\n"})}),"\n",(0,s.jsx)(n.p,{children:"Specify the Pact chains to synchronize (null means all)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"  throttling:\n    global: 50.0\n    mempool: 20.0\n    putPeer: 11\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set throttling limits for various operations."}),"\n",(0,s.jsx)(n.h2,{id:"database-settings",children:"Database settings"}),"\n",(0,s.jsx)(n.p,{children:"The following database settings are defined as top-level properties."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"databaseDirectory: null\n"})}),"\n",(0,s.jsx)(n.p,{children:"Specify the database directory to use (null means use default)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"resetChainDatabases: false\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set to true to reset chain databases on startup."}),"\n",(0,s.jsx)(n.h2,{id:"logging-settings",children:"Logging settings"}),"\n",(0,s.jsxs)(n.p,{children:["The following settings are defined as properties under the ",(0,s.jsx)(n.code,{children:"logging"})," key."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"logging:\n  backend:\n    color: auto\n    format: text\n    handle: stdout\n  clusterId: null\n  filter:\n    default: debug\n    default-rate: 1\n    rules: []\n  logger:\n    exception_limit: 10\n    exception_wait: 1000\n    exit_timeout: 1000000\n    log_level: info\n    policy: discard\n    queue_size: 1000\n    scope: []\n  telemetryBackend:\n    configuration:\n      color: auto\n      format: text\n      handle: stdout\n    enabled: false\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can use the settings under the ",(0,s.jsx)(n.code,{children:"logging"})," key to control the following logging properties:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"backend to control log output color, format, and location."}),"\n",(0,s.jsx)(n.li,{children:"filter to set log filtering rules."}),"\n",(0,s.jsx)(n.li,{children:"logger to set logging rules including log level and queue size."}),"\n",(0,s.jsx)(n.li,{children:"telemetryBackend to enable and control telemetry logging."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var t=i(96540);const s={},o=t.createContext(s);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);