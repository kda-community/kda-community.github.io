"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[2459],{5007:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"pact-5/repl/env-module-admin","title":"env-module-admin","description":"Use env-module-admin to acquire the module administrative rights for any module loaded in the REPL, bypassing any checks.","source":"@site/docs/pact-5/repl/env-module-admin.md","sourceDirName":"pact-5/repl","slug":"/pact-5/repl/env-module-admin","permalink":"/docs/pact-5/repl/env-module-admin","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/pact-5/repl/env-module-admin.md","tags":[],"version":"current","frontMatter":{},"sidebar":"default","previous":{"title":"env-milligas","permalink":"/docs/pact-5/repl/env-milligas"},"next":{"title":"env-namespace-policy","permalink":"/docs/pact-5/repl/env-namespace-policy"}}');var i=t(74848),d=t(28453);const s={},r="env-module-admin",l={},c=[{value:"Basic syntax",id:"basic-syntax",level:2},{value:"Arguments",id:"arguments",level:2},{value:"Return value",id:"return-value",level:2},{value:"Example",id:"example",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"env-module-admin",children:"env-module-admin"})}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"env-module-admin"})," to acquire the module administrative rights for any module loaded in the REPL, bypassing any checks.\nThis function is particularly useful for writing tests that require administrative rights such as the ability to write to non-upgradeable module tables in the REPL."]}),"\n",(0,i.jsx)(n.h2,{id:"basic-syntax",children:"Basic syntax"}),"\n",(0,i.jsxs)(n.p,{children:["To acquire module administrative rights for the ",(0,i.jsx)(n.code,{children:"module"})," specified, use the following syntax:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pact",children:"(env-module-admin module)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Note that the ",(0,i.jsx)(n.code,{children:"module"})," must be passed in as a module reference."]}),"\n",(0,i.jsx)(n.h2,{id:"arguments",children:"Arguments"}),"\n",(0,i.jsxs)(n.p,{children:["Use the following argument when using the ",(0,i.jsx)(n.code,{children:"env-module-admin"})," Pact function."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"module"})}),(0,i.jsx)(n.td,{children:"modref"}),(0,i.jsx)(n.td,{children:"Specifies the module for which you want to acquire module administrative rights."})]})})]}),"\n",(0,i.jsx)(n.h2,{id:"return-value",children:"Return value"}),"\n",(0,i.jsxs)(n.p,{children:["On success, the ",(0,i.jsx)(n.code,{children:"env-module-admin"})," function returns a string that indicates the module administrative rights have been acquired."]}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,i.jsxs)(n.p,{children:["The following example demonstrates how to use the ",(0,i.jsx)(n.code,{children:"env-module-admin"})," function to acquire the module administrative rights for a non upgradeable module."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pact",children:'pact> (begin-tx)\n"Begin Tx 0"\npact> (module m g (defcap g () (enforce false "non-upgradeable"))\n....>   (defschema foo a:integer)\n....>   (deftable tbl:{foo})\n....> )\nLoaded module m, hash rzIEM6JcGI4sNeAPY8e_ygWmO8pKIx35ezD3_x5_GMg\npact>\npact> (create-table tbl)\n"TableCreated"\npact> (commit-tx)\n"Commit Tx 0"\npact>\npact> (begin-tx)\n"Begin Tx 1"\npact> (env-module-admin m) ; Acquired admin rights to `m`\'s tables.\n"Acquired module admin for: m"\npact> (write m.tbl "my-key" {"a":100})\n"Write succeeded"\npact> (commit-tx)\n"Commit Tx 1"\n'})})]})}function m(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var a=t(96540);const i={},d=a.createContext(i);function s(e){const n=a.useContext(d);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(d.Provider,{value:n},e.children)}}}]);