"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[1814],{97838:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>d});const c=JSON.parse('{"id":"guides/accounts/howto-get-balances","title":"Check account balances","description":"How to check account balances for existing account using an API call to the coin contract get-balance function, Kadena command-line interface, and Kadena client library functions.","source":"@site/docs/guides/accounts/get-balances.md","sourceDirName":"guides/accounts","slug":"/guides/accounts/howto-get-balances","permalink":"/docs/guides/accounts/howto-get-balances","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/guides/accounts/get-balances.md","tags":[],"version":"current","frontMatter":{"title":"Check account balances","description":"How to check account balances for existing account using an API call to the coin contract get-balance function, Kadena command-line interface, and Kadena client library functions.","id":"howto-get-balances"},"sidebar":"default","previous":{"title":"Fund on-chain accounts","permalink":"/docs/guides/accounts/howto-fund-accounts"},"next":{"title":"Deploy smart contracts","permalink":"/docs/guides/contracts/howto-deploy-contracts"}}');var t=a(74848),s=a(28453);a(56289),a(58069);const i={title:"Check account balances",description:"How to check account balances for existing account using an API call to the coin contract get-balance function, Kadena command-line interface, and Kadena client library functions.",id:"howto-get-balances"},l="Check account balances",o={},d=[{value:"Using a YAML request and curl",id:"using-a-yaml-request-and-curl",level:2},{value:"Using kadena-cli commands",id:"using-kadena-cli-commands",level:2},{value:"Using a transaction template",id:"using-a-transaction-template",level:2},{value:"Using the Kadena client library",id:"using-the-kadena-client-library",level:2}];function r(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"check-account-balances",children:"Check account balances"})}),"\n",(0,t.jsx)(n.p,{children:"This guide provides instructions and examples for checking an account balance using an API call, Kadena CLI commands, and the Kadena client TypeScript library.\nThese examples illustrate how you can construct calls to the blockchain to get an account balance\u2014an important operation if you're building a wallet, exchange, game, or other application where you need to retrieve and display account information.\nIf you're using Chainweaver or another wallet or frontend application, this information is typically available directly through the user interface, with the application performing an operation similar to these examples behind the scenes."}),"\n",(0,t.jsx)(n.h2,{id:"using-a-yaml-request-and-curl",children:"Using a YAML request and curl"}),"\n",(0,t.jsxs)(n.p,{children:["One way yu can get an account balance is by calling the ",(0,t.jsx)(n.code,{children:"get-balance"})," function that's defined in the ",(0,t.jsx)(n.code,{children:"coin"})," contract deployed on the Kadena public main or test network.\nTo make this call, you need to know the following information:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The account name for the account you want to look up."}),"\n",(0,t.jsx)(n.li,{children:"The network identifier where you want to check the account balance."}),"\n",(0,t.jsx)(n.li,{children:"The specific chain identifier for the balance you want to check."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For this example, you can create the request using the YAML execution file format, convert the request to JSON, then submit the API request using a ",(0,t.jsx)(n.code,{children:"curl"})," command."]}),"\n",(0,t.jsx)(n.p,{children:"You could also submit the request using Postman or other tools than enable you to call API endpoints."}),"\n",(0,t.jsx)(n.p,{children:"To get an account balance:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open a terminal on your local computer."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Check that you have ",(0,t.jsx)(n.code,{children:"curl"})," installed by running the following command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"which curl\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see the path to the file similar to the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/usr/bin/curl\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create a YAML execution request in a ",(0,t.jsx)(n.code,{children:"get-balance.yaml"})," file with content similar to the following:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'code: (coin.get-balance "k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0")\ndata: {}\nsigs:\n  - public: "4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0"\n    caps: []\n\nnetworkId: testnet04\npublicMeta:\n    chainId: "1"\n    sender: "k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0"\n    gasLimit: 100000,\n    gasPrice: 0.0000001,\n    ttl: 7200,\ntype: exec\n'})}),"\n",(0,t.jsx)(n.p,{children:"As you can see in this example:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The transaction request calls the ",(0,t.jsx)(n.code,{children:"coin.get-balance"})," function."]}),"\n",(0,t.jsxs)(n.li,{children:["The account name is ",(0,t.jsx)(n.code,{children:"k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["The network identifier is ",(0,t.jsx)(n.code,{children:"testnet04"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["The chain identifier for the account balance is chain ",(0,t.jsx)(n.code,{children:"1"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"gasLimit"}),", ",(0,t.jsx)(n.code,{children:"gasPrice"}),", and ",(0,t.jsx)(n.code,{children:"ttl"})," values represent reasonable settings."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Convert the YAML execution request to a JSON object with proper formatting using the ",(0,t.jsx)(n.code,{children:"pact --apireq"})," command with a command similar to the following:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pact --apireq get-balance.yaml --local\n"})}),"\n",(0,t.jsx)(n.p,{children:"This command displays the resulting JSON as standard output.\nFor example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'{"hash":"8bZdo6EG-WVl5CqQLcsAkYOchf_dujjdqsrsNYRQDXw","sigs":[],"cmd":"{\\"networkId\\":\\"testnet04\\",\\"payload\\":{\\"exec\\":{\\"data\\":{},\\"code\\":\\"(coin.get-balance \\\\\\"k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0\\\\\\")\\"}},\\"signers\\":[],\\"meta\\":{\\"creationTime\\":1726864470,\\"ttl\\":7800,\\"gasLimit\\":100000,\\"chainId\\":\\"1\\",\\"gasPrice\\":1.0e-7,\\"sender\\":\\"k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0\\"},\\"nonce\\":\\"2024-09-20 20:34:30.276972 UTC\\"}"}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Alternatively, you can save the result from the ",(0,t.jsx)(n.code,{children:"pact --apireq"})," command in a file with a command similar to the following:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pact --apireq get-balance.yaml --local > get-balance.json\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Copy the output from the ",(0,t.jsx)(n.code,{children:"pact --apireq"})," command to pass as the request body in the next step."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Connect to the Pact ",(0,t.jsx)(n.code,{children:"/local"})," endpoint for the appropriate network with a command similar to the following:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST "https://api.testnet.chainweb.com/chainweb/0.0/testnet04/chain/1/pact/api/v1/local" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"hash":"8bZdo6EG-WVl5CqQLcsAkYOchf_dujjdqsrsNYRQDXw","sigs":[],"cmd":"{\\"networkId\\":\\"testnet04\\",\\"payload\\":{\\"exec\\":{\\"data\\":{},\\"code\\":\\"(coin.get-balance \\\\\\"k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0\\\\\\")\\"}},\\"signers\\":[],\\"meta\\":{\\"creationTime\\":1726864470,\\"ttl\\":7800,\\"gasLimit\\":100000,\\"chainId\\":\\"1\\",\\"gasPrice\\":1.0e-7,\\"sender\\":\\"k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0\\"},\\"nonce\\":\\"2024-09-20 20:34:30.276972 UTC\\"}"}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:"The command returns output similar to the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "gas":20,\n  "result":{\n    "status":"success",\n    "data":20\n    },\n  "reqKey":"8bZdo6EG-WVl5CqQLcsAkYOchf_dujjdqsrsNYRQDXw","logs":"wsATyGqckuIvlm89hhd2j4t6RMkCrcwJe_oeCYr7Th8",\n  "metaData":{\n    "publicMeta":{\n      "creationTime":1726864470,\n      "ttl":7800,\n      "gasLimit":100000,\n      "chainId":"1",\n      "gasPrice":1.0e-7,"sender":"k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0"},\n  "blockTime":1726864883870724,"prevBlockHash":"mBRDF6NQwF_bvo4vHaF-5aS384lCYx1UB2Nj1pBfaeM",\n  "blockHeight":4662494},\n  "continuation":null,\n  "txId":null\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["In this example, the account ",(0,t.jsx)(n.code,{children:"k:4fe7981d36997c2a327d0d3ce961d3ae0b2d38185ac5e5cd98ad90140bc284d0"})," has a balance of ",(0,t.jsx)(n.code,{children:"20"})," coins on chain ",(0,t.jsx)(n.code,{children:"1"})," of the Kadena ",(0,t.jsx)(n.code,{children:"testnet04"})," network."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"using-kadena-cli-commands",children:"Using kadena-cli commands"}),"\n",(0,t.jsxs)(n.p,{children:["If you have installed the ",(0,t.jsx)(n.code,{children:"kadena-cli"})," package in your development environment, you can use the ",(0,t.jsx)(n.code,{children:"kadena account details"})," command to look up account balances on the development, test, or main network."]}),"\n",(0,t.jsxs)(n.p,{children:["To get an account balance using ",(0,t.jsx)(n.code,{children:"kadena-cli"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open a terminal on your local computer."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Check that you have ",(0,t.jsx)(n.code,{children:"kadena"})," installed by running the following command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:" which kadena\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see the path to the file similar to the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/usr/local/bin/kadena\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you want to check the account balance for an account you added using the ",(0,t.jsx)(n.code,{children:"kadena account add"})," command, you can use the ",(0,t.jsx)(n.code,{children:"kadena account list"})," to review all of the accounts available in your development environment.\nFor this example, running ",(0,t.jsx)(n.code,{children:'kadena account list --account-alias="all"'})," returns the following results:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"Account Alias: pistolas-local                                                  \nAccount Name k:fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7\nFungible     coin                                                              \nPredicate    keys-all                                                          \nPublic Keys  fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7  \nfilepath     /Users/lisagunn/.kadena/accounts/pistolas-local.yaml              \n                                                                            \nAccount Alias: pistolas-testnet                                                \nAccount Name k:bbccc99ec9eeed17d60159fbb88b09e30ec5e63226c34544e64e750ba424d35e\nFungible     coin                                                              \nPredicate    keys-all                                                          \nPublic Keys  bbccc99ec9eeed17d60159fbb88b09e30ec5e63226c34544e64e750ba424d35e  \nfilepath     /Users/lisagunn/.kadena/accounts/pistolas-testnet.yaml \n"})}),"\n",(0,t.jsx)(n.p,{children:"If you know the account name, network, and chain where you want to check the account balance, you can go directly to the next step."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Check the account balance with interactive prompting by running the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kadena account details\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Select an ",(0,t.jsx)(n.strong,{children:"account name"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"? Select an account (alias - account name): (Use arrow keys)\n\u276f Enter an account name manually:\n  pistolas-local   - k:fe4b6d....27f608b7\n  pistolas-testnet - k:bbccc9....a424d35e\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Select the ",(0,t.jsx)(n.strong,{children:"network"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"? Select a network: (Use arrow keys)\n\u276f devnet\n  mainnet\n  testnet\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Enter one or more ",(0,t.jsx)(n.strong,{children:"chain identifiers"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"? Enter a ChainId (0-19) (comma or hyphen separated e.g 0,1,2 or 1-5 or all):\n"})}),"\n",(0,t.jsx)(n.p,{children:"After you provide the information required, the command returns account details including the account balance for each chain identifier you specified.\nFor example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'Details of account "pistolas-testnet" on network "testnet04"\nName                             ChainID Public Keys                                                      Predicate Balance        \nk:bbccc99ec9ee....4e750ba424d35e 1       bbccc99ec9eeed17d60159fbb88b09e30ec5e63226c34544e64e750ba424d35e keys-all  303.97768665622\nk:bbccc99ec9ee....4e750ba424d35e 3       bbccc99ec9eeed17d60159fbb88b09e30ec5e63226c34544e64e750ba424d35e keys-all  10             \nSuccess with Warnings:\n\nAccount "k:bbccc99ec9eeed17d60159fbb88b09e30ec5e63226c34544e64e750ba424d35e" is not available on\nfollowing chain(s): 2 on network "testnet04"\n'})}),"\n",(0,t.jsx)(n.p,{children:"The command output also includes the command executed.\nFor example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Executed:\nkadena account details --account="pistolas-testnet" --network="testnet" --chain-ids="1-3" \n'})}),"\n",(0,t.jsx)(n.p,{children:"If you want to check an account balance without interactive prompting, you can specify all of the required arguments in a single command.\nFor example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'kadena account details --account="pistolas-local" --network="devnet" --chain-ids="3" \n'})}),"\n",(0,t.jsx)(n.p,{children:"In this case, there are no warnings, so the command simply returns the account details:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'Details of account "pistolas-local" on network "development"\nName                             ChainID Public Keys                                                      Predicate Balance\nk:fe4b6da33219....74518827f608b7 3       fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7 keys-all  14     \n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"using-a-transaction-template",children:"Using a transaction template"}),"\n",(0,t.jsxs)(n.p,{children:["You can also create a transaction template for checking account balances.\nTransaction templates are similar to YAML execution requests like the one in ",(0,t.jsx)(n.a,{href:"#using-a-yaml-request-and-curl",children:"Using a YAML request and curl"}),".\nHowever, transaction templates allow you to use variables for input values that can be set when adding and executing transactions using Kadena CLI commands."]}),"\n",(0,t.jsxs)(n.p,{children:["To get an account balance using ",(0,t.jsx)(n.code,{children:"kadena-cli"})," and a transaction template:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open a terminal on your local computer."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Check that you have ",(0,t.jsx)(n.code,{children:"kadena"})," installed by running the following command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:" which kadena\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see the path to the file similar to the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"/usr/local/bin/kadena\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create a YAML API request file to use as a transaction template with the variables required to call the ",(0,t.jsx)(n.code,{children:"coin.get-balance"})," function:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"code: |-\n  (coin.get-balance \"{{{account}}}\")\nmeta:\n  chainId: '{{chain-id}}'\n  sender: '{{{tx-sender}}}'\n  gasLimit: 600\n  gasPrice: 0.000001\n  ttl: 600\nnetworkId: '{{network:networkId}}'\nsigners:\n  - public: \"{{signer-key}}\"\n    caps: []\ntype: exec \n"})}),"\n",(0,t.jsx)(n.p,{children:"You can learn more about transaction templates, variables, and inputting values in Construct transactions.\nFor more information about using YAML request files for transactions, see Formatting API requests in YAML."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Save the file with the ",(0,t.jsx)(n.code,{children:".ktpl"})," file extension in the ",(0,t.jsx)(n.code,{children:".kadena/transaction-templates"})," folder."]}),"\n",(0,t.jsxs)(n.p,{children:["For example, save the file as ",(0,t.jsx)(n.code,{children:".kadena/transaction-templates/get-balance.ktpl"})," in your working directory."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Add a transaction that uses the template by running the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kadena tx add\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select the ",(0,t.jsx)(n.code,{children:"get-balance.ktpl"})," template, then follow the prompts to enter the appropriate values for template variable."]}),"\n",(0,t.jsx)(n.p,{children:"For this example, the prompts and values look like this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"? File path of data to use for template .json or .yaml (optional):\n? Template value account: k:fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7\n? Template value chain-id: 3\n? Template value tx-sender: k:fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7\n? Select network id for template value networkId: devnet\n? Template value signer-key: fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7\n? Where do you want to save the output: pistolas-balance\n"})}),"\n",(0,t.jsx)(n.p,{children:"The values you enter for the command are saved in a JSON file."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Sign the transaction by running the following command and following the prompts displayed to select the transaction:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kadena tx sign\n"})}),"\n",(0,t.jsx)(n.p,{children:"You must select a wallet or key pair to sign the transaction and the transaction file that you want to sign.\nAfter you enter the information required, the command output confirms the signature with information similar to the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'Command 1 (hash: ZBu4fPOtxhGCZUxT9clO8UqtjWXzrCNCC_XNTGL6Kzw) will now be signed with the following signers:\nPublic Key                                                       Capabilities\nfe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7             \nTransaction executed code: \n"(coin.get-balance \\"k:fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7\\")"\n\nTransaction with hash: ZBu4fPOtxhGCZUxT9clO8UqtjWXzrCNCC_XNTGL6Kzw was successfully signed.\nSigned transaction saved to /Users/lisagunn/.kadena/transaction-templates/transaction-ZBu4fPOtxh-signed.json\n\nExecuted:\nkadena tx sign --tx-sign-with="wallet" --tx-unsigned-transaction-files="pistolas-balance.json" --wallet-name="pistolas-dev" \n'})}),"\n",(0,t.jsx)(n.p,{children:"After signing the transaction, you can retrieve the account information without submitting the transaction or send the request to the blockchain for on-chain processing."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Get the account balance by running the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"--tx-signed-transaction-files transaction-ZBu4fPOtxh-signed.json\n"})}),"\n",(0,t.jsxs)(n.p,{children:["In this example, the balance for account on the development network, chain 3\u2014returned in the ",(0,t.jsx)(n.code,{children:"data"})," field\u2014is 14."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'txSignedTransaction test result:                                              \n--------------------------------------------------------------------------------\n  Transaction info:\n     fileName: transaction-ZBu4fPOtxh-signed.json\n     transactionHash: ZBu4fPOtxhGCZUxT9clO8UqtjWXzrCNCC_XNTGL6Kzw\n\n\n  Response:\n    Response:\n       gas: 21\n       result:\n         status: success\n         data: 14\n       reqKey: ZBu4fPOtxhGCZUxT9clO8UqtjWXzrCNCC_XNTGL6Kzw\n       logs: wsATyGqckuIvlm89hhd2j4t6RMkCrcwJe_oeCYr7Th8\n       metaData:\n         publicMeta:\n           creationTime: 1728076660\n           ttl: 600\n           gasLimit: 600\n           chainId: 3\n           gasPrice: 0.000001\n           sender: k:fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7\n         blockTime: 1728077254903367\n         prevBlockHash: MaSZcnXDBQGpnF4ZDCtuEtc1TOQRS27RWLqPf2uwmGw\n         blockHeight: 938\n       continuation: null\n       txId: null\n\n\n  Details:\n     chainId: 3\n     network: devnet\n     networkId: development\n     networkHost: http://localhost:8080\n     networkExplorerUrl: http://localhost:8080/explorer/development/tx/\n\n\n  Transaction Command:\n     cmd: {"payload":{"exec":{"code":"(coin.get-balance \\"k:fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7\\")","data":{}}},"nonce":"","networkId":"development","meta":{"sender":"k:fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7","chainId":"3","creationTime":1728076660,"gasLimit":600,"gasPrice":0.000001,"ttl":600},"signers":[{"pubKey":"fe4b6da332193cce4d3bd1ebdc716a0e4c3954f265c5fddd6574518827f608b7","clist":[]}]}\n     hash: ZBu4fPOtxhGCZUxT9clO8UqtjWXzrCNCC_XNTGL6Kzw\n     sigs:\n      [0]:\n         sig: d13558e1d10ed5aa977232d5311eeafd04ec51d66e2b6515bda93000932f1f26b71ee8c5a4634996b2a434df45c64f7ba0808e42ec3f5df06d001304b7e7fc03\n--------------------------------------------------------------------------------\n\nExecuted:\nkadena tx test --tx-signed-transaction-files="transaction-ZBu4fPOtxh-signed.json" --tx-transaction-network="devnet" \n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"using-the-kadena-client-library",children:"Using the Kadena client library"}),"\n",(0,t.jsxs)(n.p,{children:["If you're familiar with JavaScript or TypeScript, you can use the ",(0,t.jsx)(n.code,{children:"@kadena/client"})," library to write scripts for common tasks.\nThe ",(0,t.jsx)(n.code,{children:"@kadena/client"})," library implements a TypeScript-based API for interacting with smart contracts and Chainweb nodes.\nThe library provides functions that simplify building transactions with Pact commands and connecting to blockchain nodes."]}),"\n",(0,t.jsxs)(n.p,{children:["You should note that creating the client connection is separate from using the ",(0,t.jsx)(n.code,{children:"Pact.builder"})," function to construct transactions."]}),"\n",(0,t.jsxs)(n.p,{children:["To get an account balance using ",(0,t.jsx)(n.code,{children:"@kadena/client"})," functions:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open a terminal on your local computer."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create a new file in your code editor and add code to call the ",(0,t.jsx)(n.code,{children:"getBalance"})," function and create the client:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import {Pact, createClient} from '@kadena/client'\n\n async function getBalance(account) {\n   // `Pact.builder.execution` accepts a number of `Pact.modules.<module>.<fun>` calls\n   const transaction = Pact.builder\n      .execution(Pact.modules.coin['get-balance'](account))\n      .setMeta({ chainId: '1' })\n      .createTransaction();\n\n   // client creation is separate from the transaction builder\n   const staticClient = createClient('https://api.chainweb.com/chainweb/0.0/mainnet01/chain/1/pact');\n\n   const res = await staticClient.local(transaction, {\n      preflight: false,\n      signatureVerification: false,\n   });\n\n }\n\ngetBalance(account).catch(console.error);\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}}}]);