"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[9450],{13374:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"pact-5/general/static-redeploy","title":"static-redeploy","description":"Use static-redeploy to redeploy any module, without any code changes. Redeploying a legacy module will store the new module in the new Pact 5 compact storage format.","source":"@site/docs/pact-5/general/static-redeploy.md","sourceDirName":"pact-5/general","slug":"/pact-5/general/static-redeploy","permalink":"/docs/pact-5/general/static-redeploy","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/pact-5/general/static-redeploy.md","tags":[],"version":"current","frontMatter":{},"sidebar":"default","previous":{"title":"sort","permalink":"/docs/pact-5/general/sort"},"next":{"title":"str-to-int","permalink":"/docs/pact-5/general/str-to-int"}}');var a=n(74848),r=n(28453);const o={},c="static-redeploy",l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Basic syntax",id:"basic-syntax",level:2},{value:"Arguments",id:"arguments",level:2},{value:"Return value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function i(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"static-redeploy",children:"static-redeploy"})}),"\n",(0,a.jsxs)(t.p,{children:["Use ",(0,a.jsx)(t.code,{children:"static-redeploy"})," to redeploy any module, without ",(0,a.jsx)(t.em,{children:"any"})," code changes. Redeploying a legacy module will store the new module in the new Pact 5 compact storage format.\nAs a result, redeployed modules require significantly less gas to load."]}),"\n",(0,a.jsx)(t.p,{children:"Note that redeploying leaves governance unchanged."}),"\n",(0,a.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(t.p,{children:["You must have deployed the module in a namespace on at least one chain in the development, test, or main network before you can use the ",(0,a.jsx)(t.code,{children:"static-redeploy"})," function to update the module storage.\nFor information about deploying a module, see ",(0,a.jsx)(t.a,{href:"/guides/contracts/howto-deploy-contracts",children:"Deploy smart contracts"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"basic-syntax",children:"Basic syntax"}),"\n",(0,a.jsx)(t.p,{children:"To redeploy an existing module as a Pact 5 module, use the following syntax:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-pact",children:"(static-redeploy module)\n"})}),"\n",(0,a.jsx)(t.h2,{id:"arguments",children:"Arguments"}),"\n",(0,a.jsxs)(t.p,{children:["Use the following argument to specify the module you want to redeploy using the ",(0,a.jsx)(t.code,{children:"static-redeploy"})," Pact function."]}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Argument"}),(0,a.jsx)(t.th,{children:"Type"}),(0,a.jsx)(t.th,{children:"Description"})]})}),(0,a.jsx)(t.tbody,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"module"})}),(0,a.jsx)(t.td,{children:"string"}),(0,a.jsx)(t.td,{children:"Specifies the module to redeploy."})]})})]}),"\n",(0,a.jsx)(t.h2,{id:"return-value",children:"Return value"}),"\n",(0,a.jsxs)(t.p,{children:["The function returns the unit value ",(0,a.jsx)(t.code,{children:"()"})," if redeployment is successful."]}),"\n",(0,a.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsxs)(t.p,{children:["The following example demonstrates how to redeploy the ",(0,a.jsx)(t.code,{children:"pistolas-vote"})," module that was originally deployed in the ",(0,a.jsx)(t.code,{children:"free"})," namespace on ",(0,a.jsx)(t.code,{children:"testnet04"})," and chain ",(0,a.jsx)(t.code,{children:"3"})," using a YAML transaction request file."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",children:'code: |\n  (static-redeploy "free.pistolas-vote")\ndata:\n  vote:\n    keys: ["401d6346...114c5ae4"]\n    pred: "keys-all"\npublicMeta:\n  chainId: "3"\n  sender: "k:401d6346...114c5ae4"\n  gasLimit: 100000\n  gasPrice: 0.0000001\n  ttl: 7200\nnetworkId: "testnet04"\nkeyPairs:\n  - public: "401d6346...114c5ae4"\n    secret: "94df4ba5...2709fd1a"\n    caps:\n      - name: "coin.GAS"\n        args: []\n  - public: "401d6346...114c5ae4"\n    secret: "94df4ba5...2709fd1a"\n    caps: []\ntype: exec\n'})}),"\n",(0,a.jsxs)(t.p,{children:["After creating the YAML request, you can format and submit the transaction request to the appropriate network and chain ",(0,a.jsx)(t.code,{children:"/send"})," endpoint.\nFor example:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'pact --apireq vote-redeploy.yaml > redeploy.json\ncurl -X POST -H "Content-Type: application/json" -d "@redeploy.json" \\\n https://api.testnet.chainweb.com/chainweb/0.0/testnet04/chain/3/pact/api/v1/send\n'})})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>c});var s=n(96540);const a={},r=s.createContext(a);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);