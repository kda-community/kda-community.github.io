"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[9392],{52530:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"guides/accounts/howto-create-accounts","title":"Create new accounts","description":"How to create a new Kadena account without transferring any digital assets into it using the coin contract function s, Kadena CLI, and Kadena client library functions.","source":"@site/docs/guides/accounts/create-new-accounts.md","sourceDirName":"guides/accounts","slug":"/guides/accounts/howto-create-accounts","permalink":"/docs/guides/accounts/howto-create-accounts","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/guides/accounts/create-new-accounts.md","tags":[],"version":"current","frontMatter":{"title":"Create new accounts","description":"How to create a new Kadena account without transferring any digital assets into it using the coin contract function s, Kadena CLI, and Kadena client library functions.","id":"howto-create-accounts"},"sidebar":"default","previous":{"title":"Common task quick reference","permalink":"/docs/guides/howto-quick-ref"},"next":{"title":"Fund on-chain accounts","permalink":"/docs/guides/accounts/howto-fund-accounts"}}');var c=a(74848),i=a(28453);a(56289),a(58069);const o={title:"Create new accounts",description:"How to create a new Kadena account without transferring any digital assets into it using the coin contract function s, Kadena CLI, and Kadena client library functions.",id:"howto-create-accounts"},s="Create new accounts",r={},l=[{value:"Using a YAML request and curl",id:"using-a-yaml-request-and-curl",level:2},{value:"Using kadena-cli commands",id:"using-kadena-cli-commands",level:2},{value:"Using the Kadena client library",id:"using-the-kadena-client-library",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"create-new-accounts",children:"Create new accounts"})}),"\n",(0,c.jsx)(n.p,{children:"This guide provides instructions and examples for creating an on-chain account without an account balance.\nIf you want to create a new account without transferring any digital assets (KDA) into it, you can create the account with a zero balance by using an API call, the Kadena CLI, or the Kadena client TypeScript library."}),"\n",(0,c.jsx)(n.p,{children:"These examples illustrate how you can construct calls to the blockchain to create new accounts\u2014an important operation if you're building a wallet, exchange, game, or other application where you need to register before creating transactions or interacting with your application.\nIf you're using Chainweaver or another wallet or frontend application, this information is typically available directly through the user interface, with the application performing an operation similar to these examples behind the scenes."}),"\n",(0,c.jsx)(n.p,{children:"Note that regardless of the method you use to create new accounts, accounts must be funded on at least one network chain before you can do more than list account names and keys."}),"\n",(0,c.jsx)(n.h2,{id:"using-a-yaml-request-and-curl",children:"Using a YAML request and curl"}),"\n",(0,c.jsxs)(n.p,{children:["One way you can create a new account without transferring any assets is by calling the ",(0,c.jsx)(n.code,{children:"create-account"})," function that's defined in the ",(0,c.jsx)(n.code,{children:"coin"})," contract deployed on the Kadena development, test, or main network.\nTo make this call, you need to know the following information:"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["The ",(0,c.jsx)(n.strong,{children:"account name"})," for the account you want to create.\nIn most cases, the account name is a public key with either the ",(0,c.jsx)(n.code,{children:"k:"})," prefix for accounts with a single key or the ",(0,c.jsx)(n.code,{children:"w:"})," prefix for accounts with more than one key."]}),"\n",(0,c.jsxs)(n.li,{children:["The account ",(0,c.jsx)(n.strong,{children:"guard"})," for the account you want to create."]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["For this example, you can create the request using the YAML execution file format, convert the request to JSON, then submit the API request using a ",(0,c.jsx)(n.code,{children:"curl"})," command.\nYou could also submit the request using Postman or other tools that enable you to call API endpoints."]}),"\n",(0,c.jsx)(n.p,{children:"To create a new account:"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Open a terminal on your local computer."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Check that you have ",(0,c.jsx)(n.code,{children:"curl"})," installed by running the following command:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"which curl\n"})}),"\n",(0,c.jsx)(n.p,{children:"You should see the path to the file similar to the following:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"/usr/bin/curl\n"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Create a YAML execution request in a ",(0,c.jsx)(n.code,{children:"create-new-account.yaml"})," file with content similar to the following:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:'code: |-\n  (coin.create-account "k:3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59" (read-keyset "dev-account"))\ndata:\n  dev-account:\n    keys: [3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59]\n    pred: "keys-all"\nsigs:\n  - public: 3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59\n    caps: []\nnetworkId: development\npublicMeta:\n    chainId: "3"\n    sender: "k:3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59"\n    gasLimit: 100000,\n    gasPrice: 0.0000001,\n    ttl: 7200,\ntype: exec\n'})}),"\n",(0,c.jsx)(n.p,{children:"As you can see in this example:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["The transaction request calls the ",(0,c.jsx)(n.code,{children:"coin.create-account"})," function."]}),"\n",(0,c.jsxs)(n.li,{children:["The account name is ",(0,c.jsx)(n.code,{children:"k:3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59"}),"."]}),"\n",(0,c.jsxs)(n.li,{children:["The network identifier is ",(0,c.jsx)(n.code,{children:"development"}),"."]}),"\n",(0,c.jsxs)(n.li,{children:["The chain identifier for the account balance is chain ",(0,c.jsx)(n.code,{children:"3"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"gasLimit"}),", ",(0,c.jsx)(n.code,{children:"gasPrice"}),", and ",(0,c.jsx)(n.code,{children:"ttl"})," values represent reasonable settings."]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Convert the YAML execution request to a JSON object with proper formatting using the ",(0,c.jsx)(n.code,{children:"pact --apireq"})," command with a command similar to the following:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"pact --apireq create-new-account.yaml --local\n"})}),"\n",(0,c.jsx)(n.p,{children:"This command displays the resulting JSON as standard output.\nFor example:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'{"hash":"mEwOLFgd1rpFQVywNrFU5uDr6vu6nNuYe76Sy30yZks","sigs":[],"cmd":"{\\"networkId\\":\\"development\\",\\"payload\\":{\\"exec\\":{\\"data\\":{\\"dev-account\\":{\\"pred\\":\\"keys-all\\",\\"keys\\":[\\"3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59\\"]}},\\"code\\":\\"(coin.create-account \\\\\\"k:3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59\\\\\\" (read-keyset \\\\\\"dev-account\\\\\\"))\\"}},\\"signers\\":[],\\"meta\\":{\\"creationTime\\":1731622872,\\"ttl\\":7200,\\"gasLimit\\":100000,\\"chainId\\":\\"3\\",\\"gasPrice\\":1.0e-7,\\"sender\\":\\"k:3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59\\"},\\"nonce\\":\\"2024-11-14 22:21:12.353978 UTC\\"}"}\n'})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Connect to the Pact ",(0,c.jsx)(n.code,{children:"/local"})," endpoint for the appropriate network with a command similar to the following:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'curl -X POST "localhost:8080/chainweb/0.0/development/chain/3/pact/api/v1/local" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"hash":"M0QiiKfHiqQxTjjac42ogaOZRq5ayJ3gJzaa-zSO8dY","sigs":[],"cmd":"{\\"networkId\\":\\"development\\",\\"payload\\":{\\"exec\\":{\\"data\\":{\\"ks\\":{\\"pred\\":\\"keys-all\\",\\"keys\\":[\\"3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59\\"]}},\\"code\\":\\"(coin.create-account \\\\\\"k:3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59\\\\\\" (read-keyset \\\\\\"dev-account\\\\\\"))\\"}},\\"signers\\":[],\\"meta\\":{\\"creationTime\\":1731622251,\\"ttl\\":7200,\\"gasLimit\\":100000,\\"chainId\\":\\"3\\",\\"gasPrice\\":1.0e-7,\\"sender\\":\\"k:3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59\\"},\\"nonce\\":\\"2024-11-14 22:10:51.406013 UTC\\"}"}\'\n'})}),"\n",(0,c.jsx)(n.p,{children:"The command returns JSON output similar to the following:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{"gas":207,"result":{"status":"success","data":"Write succeeded"},"reqKey":"mEwOLFgd1rpFQVywNrFU5uDr6vu6nNuYe76Sy30yZks","logs":"wsATyGqckuIvlm89hhd2j4t6RMkCrcwJe_oeCYr7Th8","metaData":{"publicMeta":{"creationTime":1731622872,"ttl":7200,"gasLimit":100000,"chainId":"3","gasPrice":1.0e-7,"sender":"k:3e7e7db00e2e575a5260b8705ab7663574b186657451d6990316af6bc5108b59"},"blockTime":1731623003519300,"prevBlockHash":"RwovCQazuph9FHvpUKRO8eUNfWHuabpgXBrDFWB0m3g","blockHeight":240},"continuation":null,"txId":null}\n'})}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"using-kadena-cli-commands",children:"Using kadena-cli commands"}),"\n",(0,c.jsxs)(n.p,{children:["If you have installed the ",(0,c.jsx)(n.code,{children:"kadena-cli"})," package in your development environment, you can use the ",(0,c.jsx)(n.code,{children:"kadena account add"})," command to add a new account to the local development environment for interacting with the development, test, or main network."]}),"\n",(0,c.jsxs)(n.p,{children:["To add an account balance using ",(0,c.jsx)(n.code,{children:"kadena-cli"}),":"]}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Open a terminal on your local computer."}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["Check that you have ",(0,c.jsx)(n.code,{children:"kadena"})," installed by running the following command:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:" which kadena\n"})}),"\n",(0,c.jsx)(n.p,{children:"You should see the path to the file similar to the following:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"/usr/local/bin/kadena\n"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"Add the account with interactive prompting by running the following command:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"kadena account add\n"})}),"\n",(0,c.jsx)(n.p,{children:"You can add the account by manually providing a public key or add an account from a wallet.\nFollow the prompts displayed to enter an account alias, account name, fungible type, public key, network, and chain.\nAfter you provide the information required, the command returns confirmation of the account.\nFor example:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'The account configuration "sf-devnet" has been saved in /Users/pistolas/.kadena/accounts/sf-devnet.yaml\n'})}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"using-the-kadena-client-library",children:"Using the Kadena client library"}),"\n",(0,c.jsxs)(n.p,{children:["If you're familiar with JavaScript or TypeScript, you can use the ",(0,c.jsx)(n.code,{children:"@kadena/client"})," library to write scripts for common tasks.\nThe ",(0,c.jsx)(n.code,{children:"@kadena/client"})," library implements a TypeScript-based API for interacting with smart contracts and Chainweb nodes.\nThe library provides functions that simplify building transactions with Pact commands and connecting to blockchain nodes."]}),"\n",(0,c.jsxs)(n.p,{children:["You should note that creating the client connection is separate from using the ",(0,c.jsx)(n.code,{children:"Pact.builder"})," function to construct transactions."]}),"\n",(0,c.jsxs)(n.p,{children:["For an example of creating a new account using the Kadena client (@kadena) library functions in a TypeScript program, see\nthe ",(0,c.jsx)(n.a,{href:"https://github.com/kadena-community/voting-dapp/blob/main/snippets/create-account.ts",children:"create-account"})," sample code."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}}}]);