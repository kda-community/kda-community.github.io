"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[2185],{84530:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"reference/pact-cli","title":"Pact command-line interpreter","description":"The Pact command-line interpreter enables you to run Pact code interactively and test Pact code and modules in an interactive terminal shell.","source":"@site/docs/reference/pact-cli.md","sourceDirName":"reference","slug":"/reference/pact-cli","permalink":"/docs/reference/pact-cli","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/reference/pact-cli.md","tags":[{"inline":true,"label":"pact","permalink":"/docs/tags/pact"},{"inline":true,"label":"testing","permalink":"/docs/tags/testing"},{"inline":true,"label":"language reference","permalink":"/docs/tags/language-reference"},{"inline":true,"label":"REPL","permalink":"/docs/tags/repl"},{"inline":true,"label":"API","permalink":"/docs/tags/api"}],"version":"current","frontMatter":{"title":"Pact command-line interpreter","description":"The Pact command-line interpreter enables you to run Pact code interactively and test Pact code and modules in an interactive terminal shell.","id":"pact-cli","side_position":6,"tags":["pact","testing","language reference","REPL","API"]},"sidebar":"default","previous":{"title":"Kadena TypeScript client","permalink":"/docs/reference/kadena-client"},"next":{"title":"kadena-cli command reference","permalink":"/docs/reference/kadena-cli-ref"}}');var a=t(74848),r=t(28453);const i={title:"Pact command-line interpreter",description:"The Pact command-line interpreter enables you to run Pact code interactively and test Pact code and modules in an interactive terminal shell.",id:"pact-cli",side_position:6,tags:["pact","testing","language reference","REPL","API"]},c="Pact command-line interpreter",o={},l=[{value:"Basic usage",id:"basic-usage",level:2},{value:"Options",id:"options",level:2},{value:"Commands",id:"commands",level:2},{value:"Basic examples",id:"basic-examples",level:2},{value:"Work with transactions using Pact commands",id:"work-with-transactions-using-pact-commands",level:2},{value:"Start the built-in server",id:"start-the-built-in-server",level:3},{value:"Create and submit an API request",id:"create-and-submit-an-api-request",level:3},{value:"Pact HTTP server API endpoints",id:"pact-http-server-api-endpoints",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"pact-command-line-interpreter",children:"Pact command-line interpreter"})}),"\n",(0,a.jsx)(n.p,{children:"Use the Pact command-line interpreter\u2014also referred to as the Pact read\u2013eval\u2013print-loop (REPL) interactive shell program\u2014to test Pact code and modules in an interactive terminal shell.\nThe Pact command-line program also includes an HTTP server with a built-in REST API that provides commands and options for working with transactions in a simulated production environment."}),"\n",(0,a.jsx)(n.h2,{id:"basic-usage",children:"Basic usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pact [COMMAND] [option]\npact [option] FILE\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Depending on the option you provide, ",(0,a.jsx)(n.code,{children:"FILE"})," can specify the path to a ",(0,a.jsx)(n.code,{children:".pact"})," file to compile or a ",(0,a.jsx)(n.code,{children:".repl"})," file to execute.\nYou can specify command-line options before or after the file name."]}),"\n",(0,a.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,a.jsxs)(n.p,{children:["You can use the following command-line options with the ",(0,a.jsx)(n.code,{children:"pact"})," command-line interpreter:"]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Option"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"-h, --help"}),(0,a.jsxs)(n.td,{children:["Displays usage information for ",(0,a.jsx)(n.code,{children:"pact"})," or for a specific command."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"-v, --version"}),(0,a.jsx)(n.td,{children:"Displays version information."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"-b, --builtins"}),(0,a.jsx)(n.td,{children:"Displays the list of Pact built-in native functions."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"-g, --genkey"}),(0,a.jsx)(n.td,{children:"Generates a random public and secret key pair with the ED25519 signature scheme."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["-s, --serve ",(0,a.jsx)(n.em,{children:"config-file"})]}),(0,a.jsx)(n.td,{children:"Starts a built-in HTTP server with the configuration file you specify. After you start the server, you can submit API requests to Pact API endpoints to simulate submitting API requests to a Chainweb node and to create transactions for testing purposes."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["-r, --findscript ",(0,a.jsx)(n.em,{children:"file-name"})]}),(0,a.jsxs)(n.td,{children:["Attempts to execute a ",(0,a.jsx)(n.code,{children:".repl"})," file to for the ",(0,a.jsx)(n.code,{children:".pact"})," file you specify."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["-t, --trace ",(0,a.jsx)(n.em,{children:"file-name"})]}),(0,a.jsx)(n.td,{children:"Displays trace output for each line of code executed in the specified file."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["-c, --coverage ",(0,a.jsx)(n.em,{children:"file-name"})]}),(0,a.jsxs)(n.td,{children:["Generates a coverage report in the ",(0,a.jsx)(n.code,{children:"coverage/lcov.info"})," file for the file you specify."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["-a, --apireq ",(0,a.jsx)(n.em,{children:"api-request-yaml"})]}),(0,a.jsxs)(n.td,{children:["Formats an API request as JSON using the ",(0,a.jsx)(n.em,{children:"api-request-yaml"})," file you specify."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"-l, --local"}),(0,a.jsxs)(n.td,{children:["Formats a request for the ",(0,a.jsx)(n.code,{children:"/local"})," endpoint on the built-in HTTP server or a Chainweb node."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["-u, --unsigned ",(0,a.jsx)(n.em,{children:"api-request-yaml"})]}),(0,a.jsxs)(n.td,{children:["Formats an unsigned API request as JSON using the ",(0,a.jsx)(n.em,{children:"api-request-yamlL"})," file you specify."]})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"commands",children:"Commands"}),"\n",(0,a.jsxs)(n.p,{children:["You can use the following commands with the ",(0,a.jsx)(n.code,{children:"pact"})," command-line interpreter:"]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Option"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"add-sig"}),(0,a.jsx)(n.td,{children:"Adds a signature to the signature data from standard input (stdin)."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"combine-sigs"}),(0,a.jsx)(n.td,{children:"Combines multiple signature files."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"sign"}),(0,a.jsx)(n.td,{children:"Signs arbitrary base64url-encoded data from standard input (stdin)."})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"basic-examples",children:"Basic examples"}),"\n",(0,a.jsxs)(n.p,{children:["To display usage information for the ",(0,a.jsx)(n.code,{children:"add-sig"})," command, you can run the following command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-pact",children:"pact add-sig --help\n"})}),"\n",(0,a.jsx)(n.p,{children:"To generate a new public and secret key pair, you can run the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-pact",children:"pact --genkey\n"})}),"\n",(0,a.jsx)(n.p,{children:"This command produces output similar to the following snippet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"public: e552972a1a4fc0249fe528dd61c38779266cbebdcb49fdb48511259c28c1013c\nsecret: 3d08b5eba8274ab0f3e137c59e06d20ee234e40d600ac8eae8f3e89c4e24478a\n"})}),"\n",(0,a.jsxs)(n.p,{children:["To trace the output for a set of transactions defined in the ",(0,a.jsx)(n.code,{children:"election.repl"})," file, you would run the following command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-pact",children:"pact --trace election.repl\n"})}),"\n",(0,a.jsx)(n.p,{children:"This command produces output similar to the following snippet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'election.repl:1:0:Trace: Setting transaction data\nelection.repl:11:0:Trace: Setting transaction signatures/caps\nelection.repl:17:0:Trace: Begin Tx 0: Define principal namespace\nelection.repl:18:2:Trace: Namespace defined: n_14912521e87a6d387157d526b281bde8422371d1\nelection.repl:19:0:Trace: Commit Tx 0: Define principal namespace\nelection.repl:21:0:Trace: Begin Tx 1: Define admin-keyset\nelection.repl:22:2:Trace: Namespace set to n_14912521e87a6d387157d526b281bde8422371d1\nelection.repl:23:2:Trace: Keyset defined\nelection.repl:24:0:Trace: Commit Tx 1: Define admin-keyset\nelection.repl:26:0:Trace: Begin Tx 2: Load election module\nelection.repl:27:2:Trace: Loading election.pact...\nelection.pact:1:0:Trace: Namespace set to n_14912521e87a6d387157d526b281bde8422371d1\nelection.pact:3:0:Trace: Loaded module n_14912521e87a6d387157d526b281bde8422371d1.election, hash t1hO-iYUQ3XWHOekZXRruuJYpSFN3ejj1TTMKfiEoko\nelection.pact:34:0:Trace: ["TableCreated"]\nelection.repl:28:0:Trace: Commit Tx 2: Load election module\nLoad successful\n'})}),"\n",(0,a.jsx)(n.h2,{id:"work-with-transactions-using-pact-commands",children:"Work with transactions using Pact commands"}),"\n",(0,a.jsxs)(n.p,{children:["You can use the Pact command-line interpreter, built-in HTTP server, and SQLite backend to sign and submit transactions and to format transactions requests so that they can be executed using ",(0,a.jsx)(n.code,{children:"curl"})," commands or Postman API calls.\nThe following examples illustrate how you can use the Pact built-in HTTP server, command-line options, and API calls to work with transactions in a local development environment."]}),"\n",(0,a.jsx)(n.h3,{id:"start-the-built-in-server",children:"Start the built-in server"}),"\n",(0,a.jsx)(n.p,{children:"To start the built-in HTTP server:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Open a terminal shell on your local computer."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Create a configuration file using YAML format with the following properties:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'port       - HTTP server port number.\npersistDir - Directory for persisting database files. If you omit this setting, the server runs in-memory only.\nlogDir     - Directory for HTTP logs.\npragmas    - SQLite pragma statement to use with persistent database files.\nentity     - Entity name for simulating privacy. The default is "entity".\ngasLimit   - Gas limit for each transaction. The default is zero (0).\ngasRate    - Gas price per action. The default is zero (0).\nflags      - Pact runtime execution flags.\n'})}),"\n",(0,a.jsxs)(n.p,{children:["For example, create a ",(0,a.jsx)(n.code,{children:"pact-config.yaml"})," file with properties similar to the following:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# Config file for pact http server. Launch with `pact -s config.yaml`\n\n# HTTP server port\nport: 8081\n\n# directory for HTTP logs\nlogDir: log\n\n# persistence directory\npersistDir: log\n\n# SQLite pragmas for pact back-end\npragmas: []\n\n# verbose: provide log output\nverbose: True\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start the built-in server by running a command similar to the following:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pact --serve pact-config.yaml\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"create-and-submit-an-api-request",children:"Create and submit an API request"}),"\n",(0,a.jsx)(n.p,{children:"To create an API request and submit a transaction:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Open a second terminal window or tab and create an API request for a simple transaction in a YAML file."}),"\n",(0,a.jsxs)(n.p,{children:["For example, use a text editor to create a YAML file called ",(0,a.jsx)(n.code,{children:"my-api-request.yaml"})," with the following content:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'code: "(+ 1 2)"\ndata:\n  name: Stuart\n  language: Pact\nkeyPairs:\n  - public: ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d\n    secret: 8693e641ae2bbe9ea802c736f42027b03f86afe63cae315e7169c9c496c17332\n'})}),"\n",(0,a.jsx)(n.p,{children:"In this example, the transaction API request executes an addition function (+ 1 2) and identifier the request sender using the public and secret key pair.\nThe request is defined using YAML format because the format is more readable and less error-prone than the required JSON format.\nHowever, before you can submit the request, it must be converted to the JSON format that the endpoint receiving the request expects."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Format the YAML version of the API request using the Pact ",(0,a.jsx)(n.code,{children:"--apireq"})," command-line option to generate a valid JSON API request."]}),"\n",(0,a.jsx)(n.p,{children:"For example, run the following command to display the output before submitting the request to the built-in server:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pact --apireq  my-api-request.yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:"This command displays the formatted API request as standard output:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'{"cmds":[{"hash":"T3vt3Cuh2sdDcTS8Exck96Yht55OD0B9qp_2O8hn1Z0","sigs":[{"sig":"6f8a7fd50d2807127feefe7c9df382c6538b20aa8d62c9c10051f80201af7352f172a18be5f6a43ec2ece7fc74f951e1dd36ef18975fcb76d72bcb453396dc02"}],"cmd":"{\\"networkId\\":null,\\"payload\\":{\\"exec\\":{\\"data\\":{\\"name\\":\\"Stuart\\",\\"language\\":\\"Pact\\"},\\"code\\":\\"(+ 1 2)\\"}},\\"signers\\":[{\\"pubKey\\":\\"ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d\\"}],\\"meta\\":{\\"creationTime\\":0,\\"ttl\\":0,\\"gasLimit\\":0,\\"chainId\\":\\"\\",\\"gasPrice\\":0,\\"sender\\":\\"\\"},\\"nonce\\":\\"2024-09-06 20:04:12.679143 UTC\\"}"}]}\n'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Format the transaction using the ",(0,a.jsx)(n.code,{children:"--local"})," command-line option to display the API request that can be submitted to the ",(0,a.jsx)(n.code,{children:"/local"})," endpoint of the built-in HTTP server by running the following command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pact --apireq  my-api-request.yaml --local\n"})}),"\n",(0,a.jsx)(n.p,{children:"The command displays the transaction to be submitted as standard output:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'{"hash":"RRkPaHkAlAYMOgCxVtIiR20B8aEl4U4FGLNuFMbmSXg","sigs":[{"sig":"47e66eeec37991ad49b162401ab777a8dc9e872090f0a1552ee080931450891d321ab6fd3907d0aa1395d3816a74a8c08dd1be5d2871dc2398dd5d2851cbc60d"}],"cmd":"{\\"networkId\\":null,\\"payload\\":{\\"exec\\":{\\"data\\":{\\"name\\":\\"Stuart\\",\\"language\\":\\"Pact\\"},\\"code\\":\\"(+ 1 2)\\"}},\\"signers\\":[{\\"pubKey\\":\\"ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d\\"}],\\"meta\\":{\\"creationTime\\":0,\\"ttl\\":0,\\"gasLimit\\":0,\\"chainId\\":\\"\\",\\"gasPrice\\":0,\\"sender\\":\\"\\"},\\"nonce\\":\\"2024-09-06 20:24:45.82271 UTC\\"}"}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Notice that, in the formatted API request output, there are several fields not defined in the original ",(0,a.jsx)(n.code,{children:"my-api-request.yaml"})," file.\nIn this example, the request is for a simple transaction that executes in a single step.\nTherefore, the transaction uses the API request template for ",(0,a.jsx)(n.code,{children:"exec"})," transactions.\nThe key fields not defined in the original ",(0,a.jsx)(n.code,{children:"my-api-request.yaml"})," file are populated as part of the formatting of the request.\nMore complex transactions that require execution of more than one step use the API request template for ",(0,a.jsx)(n.code,{children:"cont"})," transactions.\nFor information about the required and optional fields for in the ",(0,a.jsx)(n.code,{children:"exec"})," and ",(0,a.jsx)(n.code,{children:"cont"})," API request templates, see ",(0,a.jsx)(n.a,{href:"/api/pact-api",children:"Formatting API requests in YAML"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Send the API request to the Pact built-in HTTP server running on port 8081\u2014as configured in the ",(0,a.jsx)(n.code,{children:"pact-config.yaml"})," file for this example\u2014by running the following command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pact --apireq my-api-request.yaml --local | curl --json @- http://localhost:8081/api/v1/local\n"})}),"\n",(0,a.jsx)(n.p,{children:"This command returns the transaction result with output similar to the following:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'{"gas":0,"result":{"status":"success","data":3},"reqKey":"q4HW4wP1FCj3RQRvhILQHaqU8tmMqHPp-nDJdw6CwK8","logs":"wsATyGqckuIvlm89hhd2j4t6RMkCrcwJe_oeCYr7Th8","metaData":null,"continuation":null,"txId":null}\n'})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"pact-http-server-api-endpoints",children:"Pact HTTP server API endpoints"}),"\n",(0,a.jsxs)(n.p,{children:["In the previous example, you saw how to submit an API request to the ",(0,a.jsx)(n.code,{children:"/local"})," endpoint exposed by the built-in HTTP server.\nThe Pact built-in HTTP server supports the following API endpoints:"]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Endpoint"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"/listen"})}),(0,a.jsxs)(n.td,{children:["Listen for the result of a single transaction. The request body must contain the request key for the transaction. Requests sent to the ",(0,a.jsx)(n.code,{children:"/listen"})," endpoint block operations waiting for the transaction result."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"/local"})}),(0,a.jsxs)(n.td,{children:["Submit a command to simulate the execution of a transaction. Requests sent to the ",(0,a.jsx)(n.code,{children:"/local"})," endpoint don't change the blockchain state. Any database writes or changes to the environment are rolled back. The request body must contain a properly-formatted Pact command. In response to the request, the endpoint returns command result and hash."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"/poll"})}),(0,a.jsxs)(n.td,{children:["Poll for the results of one or more transactions. The request body must contain one or more request keys. Requests sent to the ",(0,a.jsx)(n.code,{children:"/poll"})," endpoint don't block operations waiting for the transaction result. In response to the request, the endpoint returns the poll result for each request key."]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"/send"})}),(0,a.jsx)(n.td,{children:"Send one or more commands to the local HTTP server to be executed. The request body must contain properly-formatted Pact commands. In response to the request, the endpoint returns the request key for each transaction sent."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"/verify"})}),(0,a.jsx)(n.td,{children:"Verify a transaction request is properly formatted. The request body contains the transaction to analyze. In response to the request, the endpoint returns the result from analyzing the transaction."})]})]})]}),"\n",(0,a.jsx)(n.p,{children:"To send a sample transaction to the Pact built-in HTTP server, you can run a command similar to the following:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pact --apireq test-yaml.yaml | curl --json @- http://localhost:8081/api/v1/send\n"})}),"\n",(0,a.jsx)(n.p,{children:"The command returns the request key for the transaction:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'{"requestKeys":["rXOJyLWXQAQqMaHP-oIN1GDsKqwwzv-thqY-NZzmtYo"]}\n'})}),"\n",(0,a.jsx)(n.p,{children:"To poll for the results of a transaction, you can run a command similar to the following:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"curl -L http://localhost:8081/api/v1/poll -H 'Content-Type: application/json' -H 'Accept: application/json' --json '{\"requestKeys\": [\"rXOJyLWXQAQqMaHP-oIN1GDsKqwwzv-thqY-NZzmtYo\"]}'  \n"})}),"\n",(0,a.jsx)(n.p,{children:"In this example, the transaction is complete and the request returns the following response:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'{"rXOJyLWXQAQqMaHP-oIN1GDsKqwwzv-thqY-NZzmtYo":{"gas":0,"result":{"status":"success","data":30},"reqKey":"rXOJyLWXQAQqMaHP-oIN1GDsKqwwzv-thqY-NZzmtYo","logs":"wsATyGqckuIvlm89hhd2j4t6RMkCrcwJe_oeCYr7Th8","metaData":null,"continuation":null,"txId":1}}%\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var s=t(96540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);