"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[2447],{76017:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"api/pact-api/pact-api","title":"Pact API","description":"Explore the Pact REST API for seamless interaction with Kadena smart contracts. Learn about send, local, listen, poll,  SPV, and blockchain queries for efficient dApp development.","source":"@site/docs/api/pact-api/pact-api.mdx","sourceDirName":"api/pact-api","slug":"/api/pact-api/","permalink":"/docs/api/pact-api/","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/api/pact-api/pact-api.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Pact API","description":"Explore the Pact REST API for seamless interaction with Kadena smart contracts. Learn about send, local, listen, poll,  SPV, and blockchain queries for efficient dApp development.","sidebar_position":1,"id":"pact-api"},"sidebar":"default","previous":{"title":"Kadena REST API","permalink":"/docs/api/"},"next":{"title":"Listen for a single transaction","permalink":"/docs/api/pact-api/listen"}}');var i=n(74848),r=n(28453);const a={title:"Pact API",description:"Explore the Pact REST API for seamless interaction with Kadena smart contracts. Learn about send, local, listen, poll,  SPV, and blockchain queries for efficient dApp development.",sidebar_position:1,id:"pact-api"},c="Pact API",d={},o=[{value:"Pact commands",id:"pact-commands",level:2},{value:"Pact results",id:"pact-results",level:2},{value:"Pact payloads",id:"pact-payloads",level:2},{value:"Formatting API requests in YAML",id:"formatting-api-requests-in-yaml",level:2},{value:"Exec request format",id:"exec-request-format",level:3},{value:"Cont request format",id:"cont-request-format",level:3}];function l(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"pact-api",children:"Pact API"})}),"\n",(0,i.jsx)(t.p,{children:"The Pact REST API provides endpoints that enable you to execute contract functions, test transactions locally, submit transactions to the blockchain, and retrieve transactions results."}),"\n",(0,i.jsx)(t.p,{children:"You can access Pact REST API endpoints in two different ways:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"By using the Pact API endpoints that are exposed by Chainweb nodes through the Chainweb service API."}),"\n",(0,i.jsx)(t.li,{children:"By using the Pact API endpoints that are exposed locally through the Pact built-in HTTP server."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Regardless of the method you use to access the Pact API endpoints, the core functionality is the same and consists of the following:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Use this endpoint"}),(0,i.jsx)(t.th,{children:"To do this"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Send"}),(0,i.jsx)(t.td,{children:"Submit transactions to the blockchain for execution."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Local"}),(0,i.jsx)(t.td,{children:"Execute read-only queries or simulate transactions without affecting the blockchain state."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Listen"}),(0,i.jsx)(t.td,{children:"Set up listeners for specific blockchain events or transaction results."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Poll"}),(0,i.jsx)(t.td,{children:"Check the status of previously submitted transactions."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"SPV"}),(0,i.jsx)(t.td,{children:"Verify transaction inclusion for cross-chain transactions using a simple payment verification proof."})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["Although the Pact API functionality largely the same whether you access it through the Chainweb service API or the Pact HTTP server, the URLs you use to route API requests to each set of endpoints are different.\nThis section describes the Pact API endpoints that are exposed through the Chainweb service API.\nYou can also find documentation for these Pact endpoints, including sample requests and responses, in the ",(0,i.jsx)(t.a,{href:"https://api.chainweb.com/openapi/pact.html",children:"Pact OpenAPI"})," specification.\nFor documentation about the Pact API endpoints that are exposed through the Pact built-in HTTP server, see ",(0,i.jsx)(t.a,{href:"/reference/pact-cli",children:"Pact command-line interpreter"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"pact-commands",children:"Pact commands"}),"\n",(0,i.jsx)(t.p,{children:"Pact commands in an API request consist of the following parameters:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"cmd"})," (required)"]}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{children:"Stringified JSON payload object with signed transaction data that can't be modified."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"hash"})," (required)"]}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsxs)(t.td,{children:["An unpadded base64Url-encoded string created using the Blake2s-256 hash function for the ",(0,i.jsx)(t.code,{children:"cmd"})," field value. Serves as a command request key because each transaction must be unique."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"sigs"})," (required)"]}),(0,i.jsx)(t.td,{children:"Array of objects"}),(0,i.jsx)(t.td,{children:"List of signatures corresponding one-to-one with the signers array in the payload."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"pact-results",children:"Pact results"}),"\n",(0,i.jsx)(t.p,{children:"Pact response results consist of the following parameters:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"gas"})," (required)"]}),(0,i.jsx)(t.td,{children:"number"}),(0,i.jsx)(t.td,{children:"Gas consumed by the transaction."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"result"})," (required)"]}),(0,i.jsx)(t.td,{children:"object"}),(0,i.jsx)(t.td,{children:"Success (object) or Failure (object)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"reqKey"})," (required)"]}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsxs)(t.td,{children:["Unique identifier for the Pact transaction. The transaction hash is a base64Url-encoded string that consists of 43 characters from the [",(0,i.jsx)(t.code,{children:"a-zA-Z0-9_-"}),"] character set."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"logs"})," (required)"]}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{children:"Backend-specific value providing image of database logs."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"events"})}),(0,i.jsx)(t.td,{children:"Array of object"}),(0,i.jsx)(t.td,{children:"Array of event objects."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"metaData"})," (required)"]}),(0,i.jsx)(t.td,{children:"object"}),(0,i.jsx)(t.td,{children:"Metadata included with the transaction."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"continuation"})}),(0,i.jsx)(t.td,{children:"object"}),(0,i.jsxs)(t.td,{children:["Describes the result of a ",(0,i.jsx)(t.code,{children:"defpact"})," execution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"txId"})}),(0,i.jsx)(t.td,{children:"number"}),(0,i.jsx)(t.td,{children:"Database-internal transaction tracking identifier."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"pact-payloads",children:"Pact payloads"}),"\n",(0,i.jsx)(t.p,{children:"Pact command payloads consist of the following parameters:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"payload"})," (required)"]}),(0,i.jsx)(t.td,{children:"object"}),(0,i.jsxs)(t.td,{children:["The ",(0,i.jsx)(t.code,{children:"exec"})," message object or ",(0,i.jsx)(t.code,{children:"continuation"})," message object."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"meta"})," (required)"]}),(0,i.jsx)(t.td,{children:"object"}),(0,i.jsx)(t.td,{children:"Public Chainweb metadata object or private metadata object."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"signers"})," (required)"]}),(0,i.jsx)(t.td,{children:"Array of objects"}),(0,i.jsx)(t.td,{children:"List of signers, corresponding with the list of signatures in the outer command."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"networkId"})," (required)"]}),(0,i.jsx)(t.td,{children:"string"}),(0,i.jsx)(t.td,{children:'Backend-specific identifier of the target network such as "mainnet01" or "testnet04".'})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"formatting-api-requests-in-yaml",children:"Formatting API requests in YAML"}),"\n",(0,i.jsx)(t.p,{children:"Chainweb nodes expect Pact commands and transaction requests to be formatted as stringified JSON payload objects with signed transaction data.\nHowever, you can also create transaction requests using YAML files.\nYou can create two types of transactions using the YAML API request format:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Single step transactions that provide the ",(0,i.jsx)(t.code,{children:"exec"})," payload can use the ",(0,i.jsx)(t.em,{children:"execution"})," request format."]}),"\n",(0,i.jsxs)(t.li,{children:["Transactions that have more than one step that provide the ",(0,i.jsx)(t.code,{children:"cont"})," payload can use the ",(0,i.jsx)(t.em,{children:"continuation"})," request format."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"exec-request-format",children:"Exec request format"}),"\n",(0,i.jsx)(t.p,{children:"The execution request format supports the following keys:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"code: Transaction code\ncodeFile: Transaction code file\ndata: JSON transaction data\ndataFile: JSON transaction data file\nkeyPairs: list of key pairs for signing (use pact -g to generate): \n  [\n    public: base 16 public key\n    secret: base 16 secret key\n    caps: \n    [\n      optional managed capabilities\n    ]\n  ]\nnonce: optional request nonce, will use current time if not provided\nnetworkId: string identifier for a blockchain network\npublicMeta:\n    chainId: string chain id of the chain of execution\n    sender: string denoting the sender of the transaction\n    gasLimit: integer gas limit\n    gasPrice: decimal gas price\n    ttl: integer time-to-live value\n    creationTime: optional integer tx execution time after offset\ntype: exec\n"})}),"\n",(0,i.jsx)(t.h3,{id:"cont-request-format",children:"Cont request format"}),"\n",(0,i.jsx)(t.p,{children:"The continuation request format supports the following keys:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"pactTxHash: integer transaction id of pact\nstep: integer next step of a pact\nrollback: boolean for rollingback a pact\nproof: string spv proof of continuation (optional, cross-chain only)\ndata: JSON transaction data\ndataFile: JSON transaction data file\nkeyPairs: list of key pairs for signing (use pact -g to generate): \n  [\n    public: string base 16 public key\n    secret: string base 16 secret key\n    caps: \n    [\n      optional managed capabilities\n    ]\n  ]\nnetworkId: string identifier for a blockchain network\npublicMeta:\n    chainId: string chain id of the chain of execution\n    sender: string denoting the sender of the transaction\n    gasLimit: integer gas limit\n    gasPrice: decimal gas price\n    ttl: integer time-to-live value\n    creationTime: optional integer tx execution time after offset\nnonce: optional request nonce, will use current time if not provided\ntype: cont\n"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var s=n(96540);const i={},r=s.createContext(i);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);