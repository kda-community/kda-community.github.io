"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[9878],{4761:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"api/peer-to-peer/p2p-api","title":"Peer-to-peer endpoints","description":"The peer-to-peer (P2P) API contains the RPC endpoints that Chainweb nodes must expose to establish blockchain consensus.","source":"@site/docs/api/peer-to-peer/peer-to-peer.mdx","sourceDirName":"api/peer-to-peer","slug":"/api/peer-to-peer/","permalink":"/docs/api/peer-to-peer/","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/api/peer-to-peer/peer-to-peer.mdx","tags":[],"version":"current","frontMatter":{"title":"Peer-to-peer endpoints","id":"p2p-api"},"sidebar":"default","previous":{"title":"Get simple payment verification (spv)","permalink":"/docs/api/pact-api/spv"},"next":{"title":"Query the current state","permalink":"/docs/api/peer-to-peer/get-cut"}}');var i=t(74848),r=t(28453);const s={title:"Peer-to-peer endpoints",id:"p2p-api"},a=void 0,c={},p=[{value:"Endpoints",id:"endpoints",level:2},{value:"Base URL",id:"base-url",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"peer-to-peer (P2P) API"})," contains the RPC endpoints that Chainweb nodes must expose to establish blockchain consensus.\nThese endpoints enable nodes to communicate about transactions waiting in the transaction pool and the blocks being produced.\nAlthough the peer-to-peer endpoints are intended primarily for communication between Chainweb nodes, they are also useful in providing low level insight into network operations, the progress of the blockchain, and node health.\nPeer-to-peer endpoints are typically more efficient than similar service API endpoints for most use cases.\nHowever, peer-to-peer endpoints only expose features that are required for the peer-to-peer network to function.\nFor most use cases, you should send API requests to service API endpoints."]}),"\n",(0,i.jsxs)(n.p,{children:["Each computer running ",(0,i.jsx)(n.code,{children:"chainweb-node"})," serves peer-to-peer endpoints using the secure Hypertext Transfer Protocol (HTTPS) on a network interface and port that is available directly on the public internet."]}),"\n",(0,i.jsx)(n.p,{children:"You can also make P2P API endpoints available for other clients by exposing the endpoints using reverse proxies, load balancers, authentication frameworks, or similar web technologies."}),"\n",(0,i.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,i.jsx)(n.p,{children:"The Chainweb peer-to-peer API includes endpoints to return information about the following aspects of the peer-to-peer network:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Distributed state using ",(0,i.jsxs)(n.a,{href:"/api/peer-to-peer/get-cut",children:[(0,i.jsx)(n.code,{children:"cut"})," endpoints"]})]}),"\n",(0,i.jsxs)(n.li,{children:["Raw block payload using ",(0,i.jsxs)(n.a,{href:"/api/peer-to-peer/get-payload",children:[(0,i.jsx)(n.code,{children:"payload"})," endpoints"]})]}),"\n",(0,i.jsxs)(n.li,{children:["Pending transaction using ",(0,i.jsxs)(n.a,{href:"/api/peer-to-peer/all-pending-mempool",children:[(0,i.jsx)(n.code,{children:"mempool"})," endpoints"]})]}),"\n",(0,i.jsxs)(n.li,{children:["Peer-to-peer connections using ",(0,i.jsxs)(n.a,{href:"/api/peer-to-peer/api-get-cut-peers",children:[(0,i.jsx)(n.code,{children:"peer"})," endpoints"]})]}),"\n",(0,i.jsxs)(n.li,{children:["Node configuration using the ",(0,i.jsxs)(n.a,{href:"/api/peer-to-peer/api-config",children:[(0,i.jsx)(n.code,{children:"config"})," endpoint"]})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The peer-to-peer communication that's required for Chainweb nodes to synchronize state is partitioned into separate independent network channels to perform different tasks."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"/cut/peer"})," portion of the peer-to-peer network is responsible for communicating the consensus state across a set of distributed network nodes and all of the chains in the network.\nEach node has a set of peers that it recognizes and connects to for exchanging information about the state of the chain."]}),"\n",(0,i.jsxs)(n.li,{children:["There is also one ",(0,i.jsx)(n.code,{children:"/mempool/peer"})," peer-to-peer network channel for each chain.\nThe ",(0,i.jsx)(n.code,{children:"/mempool/peer"})," portion of the peer-to-peer network is responsible for queuing and managing pending transactions for each chain independently."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"base-url",children:"Base URL"}),"\n",(0,i.jsxs)(n.p,{children:["The base URL for peer-to-peer API endpoints typically takes the form of ",(0,i.jsx)(n.code,{children:"<hostname>/chainweb/0.0/mainnet01"})," where the ",(0,i.jsx)(n.code,{children:"<hostname>"})," is the IP address or domain name of a Chainweb node in the Kadena public blockchain network.\nSimilarly, the base URL for peer-to-peer endpoints in the Kadena test network is typically ",(0,i.jsx)(n.code,{children:"<hostname>/chainweb/0.0/testnet04"})," where the ",(0,i.jsx)(n.code,{children:"<hostname>"})," is the IP address or domain name of a Chainweb node in the Kadena test network.\nIf you're running a local development environment, you can typically replace ",(0,i.jsx)(n.code,{children:"<hostname>"})," with ",(0,i.jsx)(n.code,{children:"localhost:8080"})," to connect to the API and specify ",(0,i.jsx)(n.code,{children:"development"})," as the network name."]}),"\n",(0,i.jsxs)(n.p,{children:["For peer-to-peer API endpoints that must connect to a specific chain, the base URL must also include the chain identifier if the form of ",(0,i.jsx)(n.code,{children:"/chain/<chain-id>/"})," where the ",(0,i.jsx)(n.code,{children:"<chain-id>"})," is the chain identifier for the chain that you want to send the request to.\nFor example, to send a request to the ",(0,i.jsx)(n.code,{children:"/mempool/peer"})," endpoint on the first chain (0), the URL would look similar to the following:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"https://52.207.207.113:1789/chainweb/0.0/mainnet01/chain/0/mempool/peer\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var o=t(96540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);