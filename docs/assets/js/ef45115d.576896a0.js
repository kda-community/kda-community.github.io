"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[2866],{31677:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>r});const l=JSON.parse('{"id":"coding-projects/loans","title":"Loans in multiple tables","description":"Learn how to build smart contracts that allow users to create, distribute, and manage loan information.","source":"@site/docs/coding-projects/loans.md","sourceDirName":"coding-projects","slug":"/coding-projects/loans","permalink":"/docs/coding-projects/loans","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/coding-projects/loans.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Loans in multiple tables","description":"Learn how to build smart contracts that allow users to create, distribute, and manage loan information.","id":"loans","sidebar_position":5},"sidebar":"default","previous":{"title":"Gas station accounts","permalink":"/docs/coding-projects/gas-station"},"next":{"title":"Local testing","permalink":"/docs/coding-projects/local-testing"}}');var t=a(74848),s=a(28453);const i={title:"Loans in multiple tables",description:"Learn how to build smart contracts that allow users to create, distribute, and manage loan information.",id:"loans",sidebar_position:5},o="Loans in multiple tables",d={},r=[{value:"Before you begin",id:"before-you-begin",level:2},{value:"Get the starter code",id:"get-the-starter-code",level:2},{value:"Define the module and keyset",id:"define-the-module-and-keyset",level:2},{value:"Define the schemas and tables",id:"define-the-schemas-and-tables",level:2},{value:"Define constants",id:"define-constants",level:2},{value:"Define functions",id:"define-functions",level:2},{value:"Define the inventory-key function",id:"define-the-inventory-key-function",level:3},{value:"Define the create-a-loan function",id:"define-the-create-a-loan-function",level:3},{value:"Define the assign-a-loan function",id:"define-the-assign-a-loan-function",level:3},{value:"Define the sell-a-loan function",id:"define-the-sell-a-loan-function",level:3},{value:"Define the read-a-loan function",id:"define-the-read-a-loan-function",level:3},{value:"Define the read-all-loans function",id:"define-the-read-all-loans-function",level:3},{value:"Define the read-inventory-pair function",id:"define-the-read-inventory-pair-function",level:3},{value:"Define the read-loan-inventory function",id:"define-the-read-loan-inventory-function",level:3},{value:"Define the read-loans-with-status function",id:"define-the-read-loans-with-status-function",level:3},{value:"Complete the module declaration",id:"complete-the-module-declaration",level:2},{value:"Test functions in the REPL",id:"test-functions-in-the-repl",level:2},{value:"Review",id:"review",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"loans-in-multiple-tables",children:"Loans in multiple tables"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.em,{children:"Loans and database management"})," project is designed to demonstrate working with multiple tables and writing more complex functions to build more complete applications.\nFor this project, you'll build a smart contract with tables for adding and manipulating loan information with secure interactions for module administrators."]}),"\n",(0,t.jsxs)(n.p,{children:["For this project, you'll create three tables in the ",(0,t.jsx)(n.code,{children:"loans"})," module:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:"loans"})," table for storing loan holder information."]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:"loan-history"})," table for tracking loan history."]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:"loan-inventory"})," table for holding the loan inventory balance."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Loans project overview",src:a(68190).A+"",width:"1070",height:"640"})}),"\n",(0,t.jsx)(n.h2,{id:"before-you-begin",children:"Before you begin"}),"\n",(0,t.jsx)(n.p,{children:"Before starting this project, verify your environment meets the following basic requirements:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You have a GitHub account and can run ",(0,t.jsx)(n.code,{children:"git"})," commands."]}),"\n",(0,t.jsxs)(n.li,{children:["You have installed the ",(0,t.jsx)(n.a,{href:"/smart-contracts/install",children:"Pact"})," programming language and command-line interpreter."]}),"\n",(0,t.jsxs)(n.li,{children:["You have installed the ",(0,t.jsx)(n.a,{href:"/smart-contracts/install/tooling#kadena-command-line-interface",children:(0,t.jsx)(n.code,{children:"kadena-cli"})})," package and have a working directory with initial configuration settings."]}),"\n",(0,t.jsxs)(n.li,{children:["You have a ",(0,t.jsx)(n.a,{href:"/smart-contracts/install/local-dev-node",children:"local development"})," node that you can connect to that runs the ",(0,t.jsx)(n.code,{children:"chainweb-node"})," program, either in a Docker container or on a physical or virtual computer."]}),"\n",(0,t.jsxs)(n.li,{children:["You must have at least one ",(0,t.jsx)(n.a,{href:"/guides/accounts/howto-fund-accounts",children:"account"})," that's funded with KDA on at least one chain for deployment on the local development network or the Kadena test network."]}),"\n",(0,t.jsxs)(n.li,{children:["You should be familiar with the basics for defining ",(0,t.jsx)(n.a,{href:"/smart-contracts/modules",children:"modules"})," and using keysets."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"get-the-starter-code",children:"Get the starter code"}),"\n",(0,t.jsx)(n.p,{children:"To get started:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open a terminal shell on your computer."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Clone the ",(0,t.jsx)(n.code,{children:"pact-coding-projects"})," repository by running the following command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/kadena-docs/pact-coding-projects.git\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Change to the ",(0,t.jsx)(n.code,{children:"05-loans"})," directory by running the following command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd pact-coding-projects/05-loans\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you list the contents of this directory, you'll see the following files:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"starter-loans.pact"})," provides a starting point with the framework for building the ",(0,t.jsx)(n.code,{children:"loans"})," module."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"project-steps"})," provides solutions and test cases for completing each part of the coding project."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"finished-contracts"})," provides the final code for the ",(0,t.jsx)(n.code,{children:"loans.pact"})," module and the final ",(0,t.jsx)(n.code,{children:"loans.repl"})," test cases for verifying module functions."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open and review the ",(0,t.jsx)(n.code,{children:"starter-loans.pact"})," file."]}),"\n",(0,t.jsxs)(n.p,{children:["This file outlines the tasks you need to complete for the ",(0,t.jsx)(n.em,{children:"Loans"})," project.\nFollow the embedded instructions to work through the coding challenges on your own or use the detailed instructions and code provided in the next sections."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"define-the-module-and-keyset",children:"Define the module and keyset"}),"\n",(0,t.jsx)(n.p,{children:"As you might have seen in other coding projects, the first step in creating a new module requires defining or identifying a namespace and an administrative owner for the module."}),"\n",(0,t.jsx)(n.p,{children:"To start the module declaration:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"starter-loans.pact"})," file in your code editor and save it as ",(0,t.jsx)(n.code,{children:"loans.pact"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Specify the namespace and a define a keyset for the module to use."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(namespace "free")\n  (define-keyset "free.loans-admin" (read-keyset "loan-admin-keyset"))\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Define the ",(0,t.jsx)(n.code,{children:"loans"})," module governed by the ",(0,t.jsx)(n.code,{children:"LOAN_ADMIN"})," capability and enforced to use the ",(0,t.jsx)(n.code,{children:"free.loans-admin"})," keyset:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(module loans LOAN_ADMIN\n   (defcap LOAN_ADMIN ()\n     (enforce-guard "free.loans.loans-admin"))\n\n)\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create a ",(0,t.jsx)(n.code,{children:"loans.repl"})," file in you code editor to prepare the environment for testing the ",(0,t.jsx)(n.code,{children:"loans"})," module."]}),"\n",(0,t.jsx)(n.p,{children:"For example, add test keys and data to define the namespace in your working environment and to load the module:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(env-keys ["loan-admin-keyset"])\n(env-data { "loans-admin":\n  { "keys": ["loan-admin-keyset"], "pred": "keys-all" } })\n\n(begin-tx "Define namespace")\n  (define-namespace "free" (read-keyset "loans-admin" ) (read-keyset "loans-admin" ))\n(commit-tx)\n\n(begin-tx)\n  (load "loans.pact")\n(commit-tx)\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"define-the-schemas-and-tables",children:"Define the schemas and tables"}),"\n",(0,t.jsx)(n.p,{children:"To define the schemas and tables:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Define the ",(0,t.jsx)(n.code,{children:"loan"})," schema and the table that uses the ",(0,t.jsx)(n.code,{children:"loan"})," schema."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:"  (defschema loan\n     loanName:string\n     entityName:string\n     loanAmount:integer\n     status:string\n  )\n\n  (deftable loans:{loan})\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Define the ",(0,t.jsx)(n.code,{children:"loan-history"})," schema and the table that uses the ",(0,t.jsx)(n.code,{children:"loan-history"})," schema."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:"  (defschema loan-history\n     loanId:string\n     buyer:string\n     seller:string\n     amount:integer\n  )\n\n  (deftable loan-history-table:{loan-history})\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Define the ",(0,t.jsx)(n.code,{children:"loan-inventory"})," schema and the table that uses the ",(0,t.jsx)(n.code,{children:"loan-inventory"})," schema."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:"  (defschema loan-inventory\n    balance:integer\n  )\n\n  (deftable loan-inventory-table:{loan-inventory})\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"define-constants",children:"Define constants"}),"\n",(0,t.jsx)(n.p,{children:"To define the constants for loan status:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Define an ",(0,t.jsx)(n.code,{children:"INITIATED"}),' constant that contains the status description for loans that have been initiated using the "initiated" comment.']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(defconst INITIATED "initiated")\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Define an ",(0,t.jsx)(n.code,{children:"ASSIGNED"}),' constant that contains the status description for loans that have been assigned using the "assigned" comment.']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(defconst ASSIGNED "assigned")\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"define-functions",children:"Define functions"}),"\n",(0,t.jsxs)(n.p,{children:["For this coding project, the ",(0,t.jsx)(n.code,{children:"loans"})," module provides nine functions to provide comprehensive features for loan management.\nYou can define them in any order."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"inventory-key"})," takes ",(0,t.jsx)(n.code,{children:"loanId:string"})," and ",(0,t.jsx)(n.code,{children:"owner:string"}),"to create a composite key of ",(0,t.jsx)(n.code,{children:"loanId:owner"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"create-a-loan"})," takes ",(0,t.jsx)(n.code,{children:"loanId"}),", ",(0,t.jsx)(n.code,{children:"loanName"}),", ",(0,t.jsx)(n.code,{children:"entityName"}),", and ",(0,t.jsx)(n.code,{children:"loanAmount"})," to create a loan entry."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"assign-a-loan"})," takes ",(0,t.jsx)(n.code,{children:"txid"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", ",(0,t.jsx)(n.code,{children:"buyer"}),", and ",(0,t.jsx)(n.code,{children:"amount"})," to assign a loan."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sell-a-loan"})," takes ",(0,t.jsx)(n.code,{children:"txid"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", ",(0,t.jsx)(n.code,{children:"buyer"}),", ",(0,t.jsx)(n.code,{children:"seller"}),", and ",(0,t.jsx)(n.code,{children:"amount"})," to sell a loan."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"read-a-loan"})," takes ",(0,t.jsx)(n.code,{children:"loanId"})," to read values from the ",(0,t.jsx)(n.code,{children:"loans"})," table for a given ",(0,t.jsx)(n.code,{children:"loanId"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"read-all-loans"})," select all values from the ",(0,t.jsx)(n.code,{children:"loans"})," table with ",(0,t.jsx)(n.code,{children:"constantly"})," set to true."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"read-inventory-pair"})," takes ",(0,t.jsx)(n.code,{children:"key"})," to set ",(0,t.jsx)(n.code,{children:"inventory-key"})," and ",(0,t.jsx)(n.code,{children:"balance"})," for the provided ",(0,t.jsx)(n.code,{children:"key"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"read-loan-inventory"})," maps the value of ",(0,t.jsx)(n.code,{children:"read-inventory-pair"})," to the keys of the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"read-loans-with-status"})," takes ",(0,t.jsx)(n.code,{children:"status"})," to select all values from the ",(0,t.jsx)(n.code,{children:"loans-table"})," where ",(0,t.jsx)(n.code,{children:"status"})," equals the provided ",(0,t.jsx)(n.code,{children:"status"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-inventory-key-function",children:"Define the inventory-key function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"inventory-key"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"inventory-key"})," function definition with the keyword ",(0,t.jsx)(n.code,{children:"defun"})," and add the parameters ",(0,t.jsx)(n.code,{children:"loanId:string"})," ",(0,t.jsx)(n.code,{children:"owner:string"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:"(defun inventory-key:string (loanId:string owner:string)\n\n)\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create a composite key from the ",(0,t.jsx)(n.code,{children:"owner"})," and ",(0,t.jsx)(n.code,{children:"loanId"})," in the format ",(0,t.jsx)(n.code,{children:"loanId:owner"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(defun inventory-key:string (loanId:string owner:string)\n   (format "{}:{}" [loanId owner])\n)\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-create-a-loan-function",children:"Define the create-a-loan function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"create-a-loan"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"create-a-loan"})," function with the parameters ",(0,t.jsx)(n.code,{children:"loanId"}),", ",(0,t.jsx)(n.code,{children:"loanName"}),", ",(0,t.jsx)(n.code,{children:"entityName"}),", and ",(0,t.jsx)(n.code,{children:"loanAmount"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Insert the values for the new loan ",(0,t.jsx)(n.code,{children:"loanId"})," into the ",(0,t.jsx)(n.code,{children:"loans"})," table."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(defun create-a-loan:string (loanId:string loanName:string entityName:string loanAmount:integer)\n  (insert loans loanId {\n    "loanName":loanName,\n    "entityName":entityName,\n    "loanAmount":loanAmount,\n    "status":INITIATED\n   })\n)\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Insert the values for a new loan into the ",(0,t.jsx)(n.code,{children:"loan-inventory"})," table."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(defun create-a-loan:string (loanId:string loanName:string entityName:string loanAmount:integer)\n  (insert loans loanId {\n     "loanName":loanName,\n     "entityName":entityName,\n     "loanAmount":loanAmount,\n     "status":INITIATED\n  })\n\n  (insert loan-inventory-table (inventory-key:string loanId:string entityName:string){\n     "balance": loanAmount\n  })\n)\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-assign-a-loan-function",children:"Define the assign-a-loan function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"assign-a-loan"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"assign-a-loan"})," function with the parameters ",(0,t.jsx)(n.code,{children:"txid"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", ",(0,t.jsx)(n.code,{children:"buyer"}),", and ",(0,t.jsx)(n.code,{children:"amount"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Read from the ",(0,t.jsx)(n.code,{children:"loans"})," table using ",(0,t.jsx)(n.code,{children:"loanId"})," and bind variables to the column values."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(defun assign-a-loan:string (txid loanId buyer amount)\n  (with-read loans loanId {\n    "entityName":= entityName,\n    "loanAmount":= issuerBalance\n   }\n\n  )\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Insert values into ",(0,t.jsx)(n.code,{children:"loan-history-table"})," using the value of the ",(0,t.jsx)(n.code,{children:"txid"})," parameter."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (insert loan-history-table txid {\n    "loanId":loanId,\n    "buyer":buyer,\n    "seller":entityName,\n    "amount":amount}\n  )\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Insert values into the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"})," with the parameters ",(0,t.jsx)(n.code,{children:"inventory-key"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", and ",(0,t.jsx)(n.code,{children:"buyer"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (insert loan-inventory-table (inventory-key loanId buyer) {\n    "balance":amount\n   })\n\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"})," for the row matching the parameters ",(0,t.jsx)(n.code,{children:"inventory-key"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", and ",(0,t.jsx)(n.code,{children:"entityName"})," with the new balance of the issuer."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (update loan-inventory-table (inventory-key loanId entityName){\n    "balance": (- issuerBalance amount)\n   }))\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.code,{children:"status"})," in the ",(0,t.jsx)(n.code,{children:"loans"})," table for the specified ",(0,t.jsx)(n.code,{children:"loanId"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (update loans-table loanId {\n   "status": ASSIGNED\n   })\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If you want to test the functions that you've defined so far, you can update the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file to create the tables and the ",(0,t.jsx)(n.code,{children:"loans.repl"})," file with transactions that call the functions.\nIf you aren't sure how to make these changes, continue defining the functions, then follow the steps in ",(0,t.jsx)(n.a,{href:"#test-functions-in-the-repl",children:"Test functions in the REPL"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-sell-a-loan-function",children:"Define the sell-a-loan function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"sell-a-loan"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"sell-a-loan"})," function with the parameters ",(0,t.jsx)(n.code,{children:"txid"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", ",(0,t.jsx)(n.code,{children:"buyer"}),", ",(0,t.jsx)(n.code,{children:"seller"}),", and ",(0,t.jsx)(n.code,{children:"amount"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Read from the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"})," table using the parameters ",(0,t.jsx)(n.code,{children:"inventory-key"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", and ",(0,t.jsx)(n.code,{children:"seller"})," and bind ",(0,t.jsx)(n.code,{children:"balance"})," to value of ",(0,t.jsx)(n.code,{children:"prev-seller-balance"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (defun sell-a-loan:string (txid loanId buyer seller amount)\n    (with-read loan-inventory-table (inventory-key loanId seller)\n      {"balance":= prev-seller-balance}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Read from the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"})," using the  parameters ",(0,t.jsx)(n.code,{children:"inventory-key"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", and ",(0,t.jsx)(n.code,{children:"buyer"}),", assign balance to 0, and bind ",(0,t.jsx)(n.code,{children:"balance"})," to value of ",(0,t.jsx)(n.code,{children:"prev-buyer-balance"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (with-default-read loan-inventory-table (inventory-key loanId buyer)\n      {"balance" : 0}\n      {"balance":= prev-buyer-balance}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Insert values into the ",(0,t.jsx)(n.code,{children:"loan-history-table"})," at the given ",(0,t.jsx)(n.code,{children:"txid"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (insert loan-history-table txid {\n     "loanId":loanId,\n     "buyer":buyer,\n     "seller":seller,\n     "amount": amount\n   })\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"})," with the parameters ",(0,t.jsx)(n.code,{children:"inventory-key"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", and ",(0,t.jsx)(n.code,{children:"seller"}),", and set the ",(0,t.jsx)(n.code,{children:"balance"})," to the ",(0,t.jsx)(n.code,{children:"previous-seller-balance"})," minus the ",(0,t.jsx)(n.code,{children:"amount"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (update loan-inventory-table (inventory-key loanId seller)\n    {"balance": (- prev-seller-balance amount)})\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Write to the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"})," with the parameters ",(0,t.jsx)(n.code,{children:"inventory-key"}),", ",(0,t.jsx)(n.code,{children:"loanId"}),", and ",(0,t.jsx)(n.code,{children:"buyer"}),", set the ",(0,t.jsx)(n.code,{children:"balance"})," to the ",(0,t.jsx)(n.code,{children:"previous-buyer-balance"})," plus the ",(0,t.jsx)(n.code,{children:"amount"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (write loan-inventory-table (inventory-key loanId buyer)\n    {"balance": (+ prev-buyer-balance amount)})))\n   )\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-read-a-loan-function",children:"Define the read-a-loan function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"read-a-loan"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"read-a-loan"})," function with the parameter ",(0,t.jsx)(n.code,{children:"loanId"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Read all of the values from the ",(0,t.jsx)(n.code,{children:"loans"})," table at the given ",(0,t.jsx)(n.code,{children:"loanId"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:"  (defun read-a-loan:object (loanId:string)\n    (read loans loanId))\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-read-all-loans-function",children:"Define the read-all-loans function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"read-all-loans"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"read-all-loans"})," function with no parameters."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select all values from the ",(0,t.jsx)(n.code,{children:"loans"})," table that have ",(0,t.jsx)(n.code,{children:"constantly"})," set to true."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:"  (defun read-all-loans:list ()\n    (select loans (constantly true)))\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-read-inventory-pair-function",children:"Define the read-inventory-pair function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"read-inventory-pair"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"read-inventory-pair"})," function with the parameter ",(0,t.jsx)(n.code,{children:"key"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set the ",(0,t.jsx)(n.code,{children:"inventory-key"})," to the provided ",(0,t.jsx)(n.code,{children:"key"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set the ",(0,t.jsx)(n.code,{children:"balance"})," value of the balance in the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"})," to the value of the ",(0,t.jsx)(n.code,{children:"key"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'  (defun read-inventory-pair:object (key)\n    {"inventory-key":key,\n     "balance": (at \'balance (read loan-inventory-table key))}\n  )\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-read-loan-inventory-function",children:"Define the read-loan-inventory function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"read-loan-inventory"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"read-loan-inventory"})," function with no parameters."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Map the value of the ",(0,t.jsx)(n.code,{children:"read-inventory-pair"})," to the ",(0,t.jsx)(n.code,{children:"keys"})," in the ",(0,t.jsx)(n.code,{children:"loan-inventory-table"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:"(defun read-loan-inventory:list ()\n  (map (read-inventory-pair) (keys loan-inventory-table)))\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"define-the-read-loans-with-status-function",children:"Define the read-loans-with-status function"}),"\n",(0,t.jsxs)(n.p,{children:["To define the ",(0,t.jsx)(n.code,{children:"read-loans-with-status"})," function:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file in your code editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start the ",(0,t.jsx)(n.code,{children:"read-loans-with-status"})," function that takes the parameter ",(0,t.jsx)(n.code,{children:"status"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select all values from the ",(0,t.jsx)(n.code,{children:"loans"})," table where the status equals the ",(0,t.jsx)(n.code,{children:"status"})," parameter."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(defun read-loans-with-status:list (status)\n  (select loans-table (where "status" (= status)))\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"complete-the-module-declaration",children:"Complete the module declaration"}),"\n",(0,t.jsxs)(n.p,{children:["Complete the ",(0,t.jsx)(n.code,{children:"loans"})," module by closing the module declaration and create the tables."]}),"\n",(0,t.jsxs)(n.p,{children:["To complete the ",(0,t.jsx)(n.code,{children:"loans"})," module:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Finish the module declaration with a closing parenthesis, if you haven't already done so."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:")\n(create-table accounts-table)\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Create the tables defined for the module declaration, if you haven't already done so."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:"(create-table loans)\n(create-table loan-inventory-table)\n(create-table loan-history-table)\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"test-functions-in-the-repl",children:"Test functions in the REPL"}),"\n",(0,t.jsxs)(n.p,{children:["To test the loans module, you need to add transactions to the ",(0,t.jsx)(n.code,{children:"loans.repl"})," file."]}),"\n",(0,t.jsxs)(n.p,{children:["To test the functions in the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open the ",(0,t.jsx)(n.code,{children:"loans.repl"})," file."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Add a transaction that loads the ",(0,t.jsx)(n.code,{children:"loans.pact"})," file and then calls the functions that update the loan tables similar to the following:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(begin-tx "Call functions that update loan tables")\n  (load "loans.pact")\n  (inventory-key "loanId-1" "Las Pistolas") ;; loanId, owner\n  (create-a-loan "loanId-1" "Ponderosa" "Valley Credit" 16000) ;; loanId, loanName, entity, amount\n  (assign-a-loan "txid-1" "loanId-1" "Studio Funding" 10000) ;; loanId, buyer, amount\n  (sell-a-loan "txid-2" "loanId-1" "buyer2" "Studio Funding" 2000) ;; loanId, seller, buyer, amount\n(commit-tx)\n'})}),"\n",(0,t.jsx)(n.p,{children:"Because you're loading the module and calling the functions in the same transaction, you don't need to include the namespace and module name to call the functions."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Add a transaction that calls the functions that read loan information from the loan tables similar to the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(begin-tx "Call functions that read loan information")\n   (use free.loans)\n   (create-a-loan "loanId-2" "Renovation" "RiverBank" 140000)\n   (read-a-loan "loanId-1")\n   (read-all-loans)\n   (read-loan-inventory)\n   (read-loans-with-status INITIATED)\n   (read-loans-with-status ASSIGNED)\n(commit-tx)\n'})}),"\n",(0,t.jsx)(n.p,{children:"In this example, you first specify that you want to use the module where the functions are defined using its namespace and module name.\nSimilar to loading the module, you can then call individual function without including the namespace and module name."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Add transactions that call the individual functions similar to the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'(begin-tx "Test inventory-key function")\n  (free.loans.inventory-key "loanId-3" "Pistolas")\n(commit-tx)\n\n(begin-tx "Test create-a-loan function")\n  (free.loans.create-a-loan "loanId-3" "Pistolas" "Capital Bank" 11000)\n(commit-tx)\n\n(begin-tx "Test assign-a-loan function")\n  (free.loans.assign-a-loan "txid-3" "loanId-3" "Buyer 1" 10000) ;; loanId, buyer, amount\n(commit-tx)\n'})}),"\n",(0,t.jsx)(n.p,{children:"In this example, you must specify the module where the functions are defined using the namespace and module name."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Open a terminal shell on your computer and test execution by running the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pact --trace loans.repl\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see that the transactions are successful with output similar to the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-pact",children:'...\nloans.pact:4:3:Trace: Loaded module free.loans, hash 6SCj9hDm0ANSVOqbmY3gwF4SXg9BaRi-7cV8-FbqJDY\nloans.pact:162:0:Trace: TableCreated\nloans.pact:163:0:Trace: TableCreated\nloans.pact:164:0:Trace: TableCreated\nloans.repl:11:2:Trace: loanId-1:Las Pistolas\nloans.repl:12:2:Trace: Write succeeded\nloans.repl:13:2:Trace: Write succeeded\nloans.repl:14:2:Trace: Write succeeded\nloans.repl:15:0:Trace: Commit Tx 1: Call functions that update loan tables\nloans.repl:17:0:Trace: Begin Tx 2: Call functions that read loan information\nloans.repl:18:3:Trace: Using free.loans\nloans.repl:19:3:Trace: Write succeeded\nloans.repl:20:3:Trace: {"entityName": "Valley Credit","loanAmount": 16000,"loanName": "Ponderosa","status": "assigned"}\nloans.repl:21:3:Trace: [{"entityName": "Valley Credit","loanAmount": 16000,"loanName": "Ponderosa","status": "assigned"} {"entityName": "RiverBank","loanAmount": 140000,"loanName": "Renovation","status": "initiated"}]\nloans.repl:22:3:Trace: [{"inventory-key": "loanId-1:Studio Funding","balance": 8000} {"inventory-key": "loanId-1:Valley Credit","balance": 6000} {"inventory-key": "loanId-1:buyer2","balance": 2000} {"inventory-key": "loanId-2:RiverBank","balance": 140000}]\nloans.repl:23:3:Trace: [{"entityName": "RiverBank","loanAmount": 140000,"loanName": "Renovation","status": "initiated"}]\nloans.repl:24:3:Trace: [{"entityName": "Valley Credit","loanAmount": 16000,"loanName": "Ponderosa","status": "assigned"}]\nloans.repl:25:0:Trace: Commit Tx 2: Call functions that read loan information\nloans.repl:27:0:Trace: Begin Tx 3: Test inventory-key function\nloans.repl:28:2:Trace: loanId-3:Pistolas\nloans.repl:29:0:Trace: Commit Tx 3: Test inventory-key function\nloans.repl:31:0:Trace: Begin Tx 4: Test create-a-loan function\nloans.repl:32:2:Trace: Write succeeded\nloans.repl:33:0:Trace: Commit Tx 4: Test create-a-loan function\nloans.repl:35:0:Trace: Begin Tx 5: Test assign-a-loan function\nloans.repl:36:2:Trace: Write succeeded\nloans.repl:37:0:Trace: Commit Tx 5: Test assign-a-loan function\nLoad successful\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Ensure that the REPL output aligns with expected results."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"review",children:"Review"}),"\n",(0,t.jsx)(n.p,{children:"You have now built and tested a smart contract that manipulates loan information in three tables with a robust set of functions."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},68190:(e,n,a)=>{a.d(n,{A:()=>l});const l=a.p+"assets/images/loans-overview-1ca0947bafd79621f072b835f50c26be.jpg"},28453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>o});var l=a(96540);const t={},s=l.createContext(t);function i(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);