"use strict";(self.webpackChunkkadena_docs=self.webpackChunkkadena_docs||[]).push([[6502],{14177:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"pact-5/general/yield","title":"yield","description":"Use yield to yield an object for use with the resume function in the subsequent Pact step.","source":"@site/docs/pact-5/general/yield.md","sourceDirName":"pact-5/general","slug":"/pact-5/general/yield","permalink":"/docs/pact-5/general/yield","draft":false,"unlisted":false,"editUrl":"https://github.com/kda-community/kadena-docs-new/blob/master/docs/pact-5/general/yield.md","tags":[],"version":"current","frontMatter":{},"sidebar":"default","previous":{"title":"where","permalink":"/docs/pact-5/general/where"},"next":{"title":"zip","permalink":"/docs/pact-5/general/zip"}}');var c=t(74848),s=t(28453);const i={},r="yield",d={},l=[{value:"Basic syntax",id:"basic-syntax",level:2},{value:"Arguments",id:"arguments",level:2},{value:"Return value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"yield",children:"yield"})}),"\n",(0,c.jsxs)(n.p,{children:["Use ",(0,c.jsx)(n.code,{children:"yield"})," to yield an object for use with the ",(0,c.jsx)(n.code,{children:"resume"})," function in the subsequent Pact step.\nOptionally, you can specify a target chain for executing the next step using automated a simplified payment verification (spv) endorsement-based dispatch."]}),"\n",(0,c.jsx)(n.h2,{id:"basic-syntax",children:"Basic syntax"}),"\n",(0,c.jsxs)(n.p,{children:["To yield an ",(0,c.jsx)(n.code,{children:"object"})," for use with the ",(0,c.jsx)(n.code,{children:"resume"})," function, use the following syntax:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-pact",children:"(yield object [target-chain])\n"})}),"\n",(0,c.jsx)(n.h2,{id:"arguments",children:"Arguments"}),"\n",(0,c.jsxs)(n.p,{children:["Use the following arguments to specify the object and, optionally, the target chain for executing the subsequent step using the ",(0,c.jsx)(n.code,{children:"yield"})," Pact function."]}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Argument"}),(0,c.jsx)(n.th,{children:"Type"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"object"})}),(0,c.jsx)(n.td,{children:"object"}),(0,c.jsx)(n.td,{children:"Specifies the object to be yielded for use with 'resume'."})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"target-chain"})}),(0,c.jsx)(n.td,{children:"string"}),(0,c.jsx)(n.td,{children:"Specifies the chain ID on which the subsequent step should execute (optional)."})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"return-value",children:"Return value"}),"\n",(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"yield"})," function returns the yielded object."]}),"\n",(0,c.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,c.jsxs)(n.p,{children:["The following examples demonstrate how to use the ",(0,c.jsx)(n.code,{children:"yield"})," function in a Pact script."]}),"\n",(0,c.jsxs)(n.p,{children:["In the following example, the ",(0,c.jsx)(n.code,{children:"yield"})," function creates an object with one key and value that can be passed to the ",(0,c.jsx)(n.code,{children:"resume"})," function,"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-pact",children:'(yield { "amount": 100.0 })\n'})}),"\n",(0,c.jsx)(n.p,{children:"Optionally, you can specify a target chain for resuming the transaction.\nFor example, to set the target chain to chain 8:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-pact",children:'(yield { "amount": 100.0 } "8")\n'})}),"\n",(0,c.jsxs)(n.p,{children:["The following example illustrates using ",(0,c.jsx)(n.code,{children:"yield"})," and ",(0,c.jsx)(n.code,{children:"resume"})," functions in ",(0,c.jsx)(n.code,{children:"defpact"})," steps:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-pact",children:"  (defpact copy-account:string(account:string target:string)\n    (step\n      (with-capability (COPY_ACCOUNT account)\n        (with-read guard-lookup-table account\n          { 'webauthn-guard-name := guard-name }\n          (webauthn-guard.copy-account guard-name target)\n\n          (let ((yield-data:object{copy-account-schema} { 'guard-name : guard-name }))\n            (yield yield-data target)\n          )\n        )\n      )\n    )\n\n    (step\n      (resume \n        { 'guard-name := guard-name }\n        (continue (webauthn-guard.copy-account guard-name target))\n        (write guard-lookup-table target\n          { 'webauthn-guard-name : guard-name }\n        )\n        (coin.create-account (get-account-name guard-name) (get-account-guard guard-name))\n      )\n    )\n  )\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var a=t(96540);const c={},s=a.createContext(c);function i(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);